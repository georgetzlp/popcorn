var Hi=Object.create;var Lt=Object.defineProperty;var zi=Object.getOwnPropertyDescriptor;var qi=Object.getOwnPropertyNames;var Vi=Object.getPrototypeOf,Bi=Object.prototype.hasOwnProperty;var Ui=(e,t,n)=>t in e?Lt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Z=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var $i=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of qi(t))!Bi.call(e,i)&&i!==n&&Lt(e,i,{get:()=>t[i],enumerable:!(o=zi(t,i))||o.enumerable});return e};var Dt=(e,t,n)=>(n=e!=null?Hi(Vi(e)):{},$i(t||!e||!e.__esModule?Lt(n,"default",{value:e,enumerable:!0}):n,e));var _e=(e,t,n)=>(Ui(e,typeof t!="symbol"?t+"":t,n),n),jt=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var Te=(e,t,n)=>(jt(e,t,"read from private field"),n?n.call(e):t.get(e)),dt=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},xe=(e,t,n,o)=>(jt(e,t,"write to private field"),o?o.call(e,n):t.set(e,n),n);var Rt=(e,t,n)=>(jt(e,t,"access private method"),n);var dn=Z(xo=>{xo.debounce=function(e,t,n){var o,i,r;t===void 0&&(t=50),n===void 0&&(n={});var s=(o=n.isImmediate)!=null&&o,c=(i=n.callback)!=null&&i,l=n.maxWait,a=Date.now(),f=[];function u(){if(l!==void 0){var m=Date.now()-a;if(m+t>=l)return l-m}return t}var d=function(){var m=[].slice.call(arguments),p=this;return new Promise(function(g,h){var _=s&&r===void 0;if(r!==void 0&&clearTimeout(r),r=setTimeout(function(){if(r=void 0,a=Date.now(),!s){var v=e.apply(p,m);c&&c(v),f.forEach(function(b){return(0,b.resolve)(v)}),f=[]}},u()),_){var w=e.apply(p,m);return c&&c(w),g(w)}f.push({resolve:g,reject:h})})};return d.cancel=function(m){r!==void 0&&clearTimeout(r),f.forEach(function(p){return(0,p.reject)(m)}),f=[]},d}});var pn=Z(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});function So(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Eo(Object(n),!0).forEach(function(o){So(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Oo(e,t){if(e==null)return{};var n={},o=Object.keys(e),i,r;for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Lr(e,t){if(e==null)return{};var n=Oo(e,t),o,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function Dr(e,t){return Fo(e)||Po(e,t)||Ao(e,t)||To()}function Fo(e){if(Array.isArray(e))return e}function Po(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],o=!0,i=!1,r=void 0;try{for(var s=e[Symbol.iterator](),c;!(o=(c=s.next()).done)&&(n.push(c.value),!(t&&n.length===t));o=!0);}catch(l){i=!0,r=l}finally{try{!o&&s.return!=null&&s.return()}finally{if(i)throw r}}return n}}function Ao(e,t){if(e){if(typeof e=="string")return mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mn(e,t)}}function mn(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function To(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}ie.arrayLikeToArray=mn;ie.arrayWithHoles=Fo;ie.defineProperty=So;ie.iterableToArrayLimit=Po;ie.nonIterableRest=To;ie.objectSpread2=Mr;ie.objectWithoutProperties=Lr;ie.objectWithoutPropertiesLoose=Oo;ie.slicedToArray=Dr;ie.unsupportedIterableToArray=Ao});var jo=Z((Fc,Do)=>{"use strict";function jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function Lo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mo(Object(n),!0).forEach(function(o){jr(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mo(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Rr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(o){return t.reduceRight(function(i,r){return r(i)},o)}}function st(e){return function t(){for(var n=this,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];return t.apply(n,[].concat(i,c))}}}function St(e){return{}.toString.call(e).includes("Object")}function Nr(e){return!Object.keys(e).length}function lt(e){return typeof e=="function"}function Ir(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Hr(e,t){return St(t)||Ce("changeType"),Object.keys(t).some(function(n){return!Ir(e,n)})&&Ce("changeField"),t}function zr(e){lt(e)||Ce("selectorType")}function qr(e){lt(e)||St(e)||Ce("handlerType"),St(e)&&Object.values(e).some(function(t){return!lt(t)})&&Ce("handlersType")}function Vr(e){e||Ce("initialIsRequired"),St(e)||Ce("initialType"),Nr(e)&&Ce("initialContent")}function Br(e,t){throw new Error(e[t]||e.default)}var Ur={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Ce=st(Br)(Ur),Et={changes:Hr,selector:zr,handler:qr,initial:Vr};function $r(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Et.initial(e),Et.handler(t);var n={current:e},o=st(Kr)(n,t),i=st(Wr)(n),r=st(Et.changes)(e),s=st(Qr)(n);function c(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return Et.selector(a),a(n.current)}function l(a){Rr(o,i,r,s)(a)}return[c,l]}function Qr(e,t){return lt(t)?t(e.current):t}function Wr(e,t){return e.current=Lo(Lo({},e.current),t),t}function Kr(e,t,n){return lt(t)?t(e.current):Object.keys(n).forEach(function(o){var i;return(i=t[o])===null||i===void 0?void 0:i.call(t,e.current[o])}),n}var Gr={create:$r};Do.exports=Gr});var Ro=Z(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});var Xr={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.36.1/min/vs"}};hn.default=Xr});var No=Z(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});function Yr(e){return function t(){for(var n=this,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];return t.apply(n,[].concat(i,c))}}}_n.default=Yr});var Io=Z(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});function Jr(e){return{}.toString.call(e).includes("Object")}gn.default=Jr});var Ho=Z(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});var Zr=No(),es=Io();function ts(e){return e||bn("configIsRequired"),es.default(e)||bn("configType"),e.urls?(ns(),{paths:{vs:e.urls.monacoBase}}):e}function ns(){console.warn(yn.deprecation)}function os(e,t){throw new Error(e[t]||e.default)}var yn={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},bn=Zr.default(os)(yn),is={config:ts};ct.default=is;ct.errorHandler=bn;ct.errorMessages=yn});var zo=Z(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});var rs=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return function(i){return n.reduceRight(function(r,s){return s(r)},i)}};vn.default=rs});var Bo=Z(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});var qo=pn();function Vo(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],Vo(e[n],t[n]))}),qo.objectSpread2(qo.objectSpread2({},e),t)}wn.default=Vo});var $o=Z(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});var Uo={type:"cancelation",msg:"operation is manually canceled"};function ss(e){var t=!1,n=new Promise(function(o,i){e.then(function(r){return t?i(Uo):o(r)}),e.catch(i)});return n.cancel=function(){return t=!0},n}Ot.CANCELATION_MESSAGE=Uo;Ot.default=ss});var Go=Z(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});var Qo=pn(),ls=jo(),cs=Ro(),as=Ho(),us=zo(),fs=Bo(),kn=$o();function ds(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var ms=ds(ls),ps=ms.default.create({config:cs.default,isInitialized:!1,resolve:null,reject:null,monaco:null}),Wo=Qo.slicedToArray(ps,2),at=Wo[0],Ft=Wo[1];function hs(e){var t=as.default.config(e),n=t.monaco,o=Qo.objectWithoutProperties(t,["monaco"]);Ft(function(i){return{config:fs.default(i.config,o),monaco:n}})}function _s(){var e=at(function(t){var n=t.monaco,o=t.isInitialized,i=t.resolve;return{monaco:n,isInitialized:o,resolve:i}});if(!e.isInitialized){if(Ft({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),kn.default(Cn);if(window.monaco&&window.monaco.editor)return Ko(window.monaco),e.resolve(window.monaco),kn.default(Cn);us.default(gs,ys)(vs)}return kn.default(Cn)}function gs(e){return document.body.appendChild(e)}function bs(e){var t=document.createElement("script");return e&&(t.src=e),t}function ys(e){var t=at(function(o){var i=o.config,r=o.reject;return{config:i,reject:r}}),n=bs("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function vs(){var e=at(function(n){var o=n.config,i=n.resolve,r=n.reject;return{config:o,resolve:i,reject:r}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){Ko(n),e.resolve(n)},function(n){e.reject(n)})}function Ko(e){at().monaco||Ft({monaco:e})}function ws(){return at(function(e){var t=e.monaco;return t})}var Cn=new Promise(function(e,t){return Ft({resolve:e,reject:t})}),ks={config:hs,init:_s,__getMonacoInstance:ws};xn.default=ks});var Xo=Z(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});var Cs=Go();En.default=Cs.default});var Qi=e=>{let t=new Set;do for(let n of Reflect.ownKeys(e))t.add([e,n]);while((e=Reflect.getPrototypeOf(e))&&e!==Object.prototype);return t};function Nt(e,{include:t,exclude:n}={}){let o=i=>{let r=s=>typeof s=="string"?i===s:s.test(i);return t?t.some(r):n?!n.some(r):!0};for(let[i,r]of Qi(e.constructor.prototype)){if(r==="constructor"||!o(r))continue;let s=Reflect.getOwnPropertyDescriptor(i,r);s&&typeof s.value=="function"&&(e[r]=e[r].bind(e))}return e}function P(){}function In(e,t){for(let n in t)e[n]=t[n];return e}function Vt(e){return e()}function Nn(){return Object.create(null)}function H(e){e.forEach(Vt)}function X(e){return typeof e=="function"}function D(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Hn(e){return Object.keys(e).length===0}function je(e,...t){if(e==null)return P;let n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Re(e){let t;return je(e,n=>t=n)(),t}function ee(e,t,n){e.$$.on_destroy.push(je(t,n))}function pt(e,t,n){return e.set(n),t}function Bt(e){return e&&X(e.destroy)?e.destroy:P}var ht=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,We=class{constructor(t){this.options=t,this._listeners="WeakMap"in ht?new WeakMap:void 0}observe(t,n){return this._listeners.set(t,n),this._getObserver().observe(t,this.options),()=>{this._listeners.delete(t),this._observer.unobserve(t)}}_getObserver(){var t;return(t=this._observer)!==null&&t!==void 0?t:this._observer=new ResizeObserver(n=>{var o;for(let i of n)We.entries.set(i.target,i),(o=this._listeners.get(i.target))===null||o===void 0||o(i)})}};We.entries="WeakMap"in ht?new WeakMap:void 0;var zn=!1;function Wi(){zn=!0}function Ki(){zn=!1}function C(e,t){e.appendChild(t)}function O(e,t,n){e.insertBefore(t,n||null)}function S(e){e.parentNode&&e.parentNode.removeChild(e)}function Se(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function E(e){return document.createElement(e)}function qn(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function q(e){return document.createTextNode(e)}function T(){return q(" ")}function ge(){return q("")}function A(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function Ne(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function _t(e){return function(t){t.target===this&&e.call(this,t)}}function y(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ut(e,t){for(let n in t)y(e,n,t[n])}function Gi(e){return Array.from(e.childNodes)}function ce(e,t){t=""+t,e.data!==t&&(e.data=t)}function be(e,t,n,o){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function Xi(e,t,{bubbles:n=!1,cancelable:o=!1}={}){let i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,o,t),i}function $t(e,t){return new e(t)}var Ke;function Qe(e){Ke=e}function Vn(){if(!Ke)throw new Error("Function called outside component initialization");return Ke}function Ie(e){Vn().$$.on_mount.push(e)}function Ge(){let e=Vn();return(t,n,{cancelable:o=!1}={})=>{let i=e.$$.callbacks[t];if(i){let r=Xi(t,n,{cancelable:o});return i.slice().forEach(s=>{s.call(e,r)}),!r.defaultPrevented}return!0}}var Le=[];var Q=[],De=[],Ht=[],Yi=Promise.resolve(),zt=!1;function Ji(){zt||(zt=!0,Yi.then(Bn))}function qt(e){De.push(e)}function Qt(e){Ht.push(e)}var It=new Set,Me=0;function Bn(){if(Me!==0)return;let e=Ke;do{try{for(;Me<Le.length;){let t=Le[Me];Me++,Qe(t),Zi(t.$$)}}catch(t){throw Le.length=0,Me=0,t}for(Qe(null),Le.length=0,Me=0;Q.length;)Q.pop()();for(let t=0;t<De.length;t+=1){let n=De[t];It.has(n)||(It.add(n),n())}De.length=0}while(Le.length);for(;Ht.length;)Ht.pop()();zt=!1,It.clear(),Qe(e)}function Zi(e){if(e.fragment!==null){e.update(),H(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(qt)}}function er(e){let t=[],n=[];De.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),De=t}var mt=new Set,Ee;function B(){Ee={r:0,c:[],p:Ee}}function U(){Ee.r||H(Ee.c),Ee=Ee.p}function k(e,t){e&&e.i&&(mt.delete(e),e.i(t))}function x(e,t,n,o){if(e&&e.o){if(mt.has(e))return;mt.add(e),Ee.c.push(()=>{mt.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}function Un(e,t){let n={},o={},i={$$scope:1},r=e.length;for(;r--;){let s=e[r],c=t[r];if(c){for(let l in s)l in c||(o[l]=1);for(let l in c)i[l]||(n[l]=c[l],i[l]=1);e[r]=c}else for(let l in s)i[l]=1}for(let s in o)s in n||(n[s]=void 0);return n}var tr=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],ul=new Set([...tr]);function Wt(e,t,n){let o=e.$$.props[t];o!==void 0&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function j(e){e&&e.c()}function L(e,t,n,o){let{fragment:i,after_update:r}=e.$$;i&&i.m(t,n),o||qt(()=>{let s=e.$$.on_mount.map(Vt).filter(X);e.$$.on_destroy?e.$$.on_destroy.push(...s):H(s),e.$$.on_mount=[]}),r.forEach(qt)}function M(e,t){let n=e.$$;n.fragment!==null&&(er(n.after_update),H(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function nr(e,t){e.$$.dirty[0]===-1&&(Le.push(e),Ji(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function z(e,t,n,o,i,r,s,c=[-1]){let l=Ke;Qe(e);let a=e.$$={fragment:null,ctx:[],props:r,update:P,not_equal:i,bound:Nn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Nn(),dirty:c,skip_bound:!1,root:t.target||l.$$.root};s&&s(a.root);let f=!1;if(a.ctx=n?n(e,t.props||{},(u,d,...m)=>{let p=m.length?m[0]:d;return a.ctx&&i(a.ctx[u],a.ctx[u]=p)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](p),f&&nr(e,u)),d}):[],a.update(),f=!0,H(a.before_update),a.fragment=o?o(a.ctx):!1,t.target){if(t.hydrate){Wi();let u=Gi(t.target);a.fragment&&a.fragment.l(u),u.forEach(S)}else a.fragment&&a.fragment.c();t.intro&&k(e.$$.fragment),L(e,t.target,t.anchor,t.customElement),Ki(),Bn()}Qe(l)}var or;typeof HTMLElement=="function"&&(or=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(Vt).filter(X);for(let t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){H(this.$$.on_disconnect)}$destroy(){M(this,1),this.$destroy=P}$on(e,t){if(!X(t))return P;let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let o=n.indexOf(t);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!Hn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});var R=class{$destroy(){M(this,1),this.$destroy=P}$on(t,n){if(!X(n))return P;let o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{let i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(t){this.$$set&&!Hn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};var He=[];function de(e,t=P){let n,o=new Set;function i(c){if(D(e,c)&&(e=c,n)){let l=!He.length;for(let a of o)a[1](),He.push(a,e);if(l){for(let a=0;a<He.length;a+=2)He[a][0](He[a+1]);He.length=0}}}function r(c){i(c(e))}function s(c,l=P){let a=[c,l];return o.add(a),o.size===1&&(n=t(i)||P),c(e),()=>{o.delete(a),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:s}}function Ye(e){return e.split("-")[1]}function Yt(e){return e==="y"?"height":"width"}function Oe(e){return e.split("-")[0]}function Je(e){return["top","bottom"].includes(Oe(e))?"x":"y"}function $n(e,t,n){let{reference:o,floating:i}=e,r=o.x+o.width/2-i.width/2,s=o.y+o.height/2-i.height/2,c=Je(t),l=Yt(c),a=o[l]/2-i[l]/2,f=Oe(t),u=c==="x",d;switch(f){case"top":d={x:r,y:o.y-i.height};break;case"bottom":d={x:r,y:o.y+o.height};break;case"right":d={x:o.x+o.width,y:s};break;case"left":d={x:o.x-i.width,y:s};break;default:d={x:o.x,y:o.y}}switch(Ye(t)){case"start":d[c]-=a*(n&&u?-1:1);break;case"end":d[c]+=a*(n&&u?-1:1);break}return d}var Qn=async(e,t,n)=>{let{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:s}=n,c=r.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t)),a=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:u}=$n(a,o,l),d=o,m={},p=0;for(let g=0;g<c.length;g++){let{name:h,fn:_}=c[g],{x:w,y:v,data:b,reset:F}=await _({x:f,y:u,initialPlacement:o,placement:d,strategy:i,middlewareData:m,rects:a,platform:s,elements:{reference:e,floating:t}});if(f=w??f,u=v??u,m={...m,[h]:{...m[h],...b}},F&&p<=50){p++,typeof F=="object"&&(F.placement&&(d=F.placement),F.rects&&(a=F.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):F.rects),{x:f,y:u}=$n(a,d,l)),g=-1;continue}}return{x:f,y:u,placement:d,strategy:i,middlewareData:m}};function Ze(e,t){return typeof e=="function"?e(t):e}function ir(e){return{top:0,right:0,bottom:0,left:0,...e}}function Wn(e){return typeof e!="number"?ir(e):{top:e,right:e,bottom:e,left:e}}function Xe(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Jt(e,t){var n;t===void 0&&(t={});let{x:o,y:i,platform:r,rects:s,elements:c,strategy:l}=e,{boundary:a="clippingAncestors",rootBoundary:f="viewport",elementContext:u="floating",altBoundary:d=!1,padding:m=0}=Ze(t,e),p=Wn(m),h=c[d?u==="floating"?"reference":"floating":u],_=Xe(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(h)))==null||n?h:h.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(c.floating)),boundary:a,rootBoundary:f,strategy:l})),w=u==="floating"?{...s.floating,x:o,y:i}:s.reference,v=await(r.getOffsetParent==null?void 0:r.getOffsetParent(c.floating)),b=await(r.isElement==null?void 0:r.isElement(v))?await(r.getScale==null?void 0:r.getScale(v))||{x:1,y:1}:{x:1,y:1},F=Xe(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:w,offsetParent:v,strategy:l}):w);return{top:(_.top-F.top+p.top)/b.y,bottom:(F.bottom-_.bottom+p.bottom)/b.y,left:(_.left-F.left+p.left)/b.x,right:(F.right-_.right+p.right)/b.x}}var Kt=Math.min,rr=Math.max;function Gt(e,t,n){return rr(e,Kt(t,n))}var Zt=e=>({name:"arrow",options:e,async fn(t){let{x:n,y:o,placement:i,rects:r,platform:s,elements:c}=t,{element:l,padding:a=0}=Ze(e,t)||{};if(l==null)return{};let f=Wn(a),u={x:n,y:o},d=Je(i),m=Yt(d),p=await s.getDimensions(l),g=d==="y",h=g?"top":"left",_=g?"bottom":"right",w=g?"clientHeight":"clientWidth",v=r.reference[m]+r.reference[d]-u[d]-r.floating[m],b=u[d]-r.reference[d],F=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l)),N=F?F[w]:0;(!N||!await(s.isElement==null?void 0:s.isElement(F)))&&(N=c.floating[w]||r.floating[m]);let I=v/2-b/2,V=N/2-p[m]/2-1,pe=Kt(f[h],V),he=Kt(f[_],V),W=pe,G=N-p[m]-he,$=N/2-p[m]/2+I,K=Gt(W,$,G),le=Ye(i)!=null&&$!=K&&r.reference[m]/2-($<W?pe:he)-p[m]/2<0?$<W?W-$:G-$:0;return{[d]:u[d]-le,data:{[d]:K,centerOffset:$-K}}}});var sr={left:"right",right:"left",bottom:"top",top:"bottom"};function gt(e){return e.replace(/left|right|bottom|top/g,t=>sr[t])}function lr(e,t,n){n===void 0&&(n=!1);let o=Ye(e),i=Je(e),r=Yt(i),s=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(s=gt(s)),{main:s,cross:gt(s)}}var cr={start:"end",end:"start"};function Xt(e){return e.replace(/start|end/g,t=>cr[t])}function ar(e){let t=gt(e);return[Xt(e),t,Xt(t)]}function ur(e,t,n){let o=["left","right"],i=["right","left"],r=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:o:t?o:i;case"left":case"right":return t?r:s;default:return[]}}function fr(e,t,n,o){let i=Ye(e),r=ur(Oe(e),n==="start",o);return i&&(r=r.map(s=>s+"-"+i),t&&(r=r.concat(r.map(Xt)))),r}var en=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;let{placement:o,middlewareData:i,rects:r,initialPlacement:s,platform:c,elements:l}=t,{mainAxis:a=!0,crossAxis:f=!0,fallbackPlacements:u,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...g}=Ze(e,t),h=Oe(o),_=Oe(s)===s,w=await(c.isRTL==null?void 0:c.isRTL(l.floating)),v=u||(_||!p?[gt(s)]:ar(s));!u&&m!=="none"&&v.push(...fr(s,p,m,w));let b=[s,...v],F=await Jt(t,g),N=[],I=((n=i.flip)==null?void 0:n.overflows)||[];if(a&&N.push(F[h]),f){let{main:W,cross:G}=lr(o,r,w);N.push(F[W],F[G])}if(I=[...I,{placement:o,overflows:N}],!N.every(W=>W<=0)){var V,pe;let W=(((V=i.flip)==null?void 0:V.index)||0)+1,G=b[W];if(G)return{data:{index:W,overflows:I},reset:{placement:G}};let $=(pe=I.filter(K=>K.overflows[0]<=0).sort((K,se)=>K.overflows[1]-se.overflows[1])[0])==null?void 0:pe.placement;if(!$)switch(d){case"bestFit":{var he;let K=(he=I.map(se=>[se.placement,se.overflows.filter(le=>le>0).reduce((le,fe)=>le+fe,0)]).sort((se,le)=>se[1]-le[1])[0])==null?void 0:he[0];K&&($=K);break}case"initialPlacement":$=s;break}if(o!==$)return{reset:{placement:$}}}return{}}}};async function dr(e,t){let{placement:n,platform:o,elements:i}=e,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),s=Oe(n),c=Ye(n),l=Je(n)==="x",a=["left","top"].includes(s)?-1:1,f=r&&l?-1:1,u=Ze(t,e),{mainAxis:d,crossAxis:m,alignmentAxis:p}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return c&&typeof p=="number"&&(m=c==="end"?p*-1:p),l?{x:m*f,y:d*a}:{x:d*a,y:m*f}}var tn=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){let{x:n,y:o}=t,i=await dr(t,e);return{x:n+i.x,y:o+i.y,data:i}}}};function mr(e){return e==="x"?"y":"x"}var nn=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:n,y:o,placement:i}=t,{mainAxis:r=!0,crossAxis:s=!1,limiter:c={fn:h=>{let{x:_,y:w}=h;return{x:_,y:w}}},...l}=Ze(e,t),a={x:n,y:o},f=await Jt(t,l),u=Je(Oe(i)),d=mr(u),m=a[u],p=a[d];if(r){let h=u==="y"?"top":"left",_=u==="y"?"bottom":"right",w=m+f[h],v=m-f[_];m=Gt(w,m,v)}if(s){let h=d==="y"?"top":"left",_=d==="y"?"bottom":"right",w=p+f[h],v=p-f[_];p=Gt(w,p,v)}let g=c.fn({...t,[u]:m,[d]:p});return{...g,data:{x:g.x-n,y:g.y-o}}}}};function te(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ae(e){return te(e).getComputedStyle(e)}function eo(e){return e instanceof te(e).Node}function ye(e){return eo(e)?(e.nodeName||"").toLowerCase():""}function ue(e){return e instanceof te(e).HTMLElement}function Y(e){return e instanceof te(e).Element}function Kn(e){if(typeof ShadowRoot>"u")return!1;let t=te(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function nt(e){let{overflow:t,overflowX:n,overflowY:o,display:i}=ae(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(i)}function pr(e){return["table","td","th"].includes(ye(e))}function on(e){let t=rn(),n=ae(e);return n.transform!=="none"||n.perspective!=="none"||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function rn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function yt(e){return["html","body","#document"].includes(ye(e))}var Gn=Math.min,et=Math.max,bt=Math.round;function to(e){let t=ae(e),n=parseFloat(t.width)||0,o=parseFloat(t.height)||0,i=ue(e),r=i?e.offsetWidth:n,s=i?e.offsetHeight:o,c=bt(n)!==r||bt(o)!==s;return c&&(n=r,o=s),{width:n,height:o,fallback:c}}function no(e){return Y(e)?e:e.contextElement}var oo={x:1,y:1};function ze(e){let t=no(e);if(!ue(t))return oo;let n=t.getBoundingClientRect(),{width:o,height:i,fallback:r}=to(t),s=(r?bt(n.width):n.width)/o,c=(r?bt(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}var Xn={x:0,y:0};function io(e,t,n){var o,i;if(t===void 0&&(t=!0),!rn())return Xn;let r=e?te(e):window;return!n||t&&n!==r?Xn:{x:((o=r.visualViewport)==null?void 0:o.offsetLeft)||0,y:((i=r.visualViewport)==null?void 0:i.offsetTop)||0}}function Fe(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);let i=e.getBoundingClientRect(),r=no(e),s=oo;t&&(o?Y(o)&&(s=ze(o)):s=ze(e));let c=io(r,n,o),l=(i.left+c.x)/s.x,a=(i.top+c.y)/s.y,f=i.width/s.x,u=i.height/s.y;if(r){let d=te(r),m=o&&Y(o)?te(o):o,p=d.frameElement;for(;p&&o&&m!==d;){let g=ze(p),h=p.getBoundingClientRect(),_=getComputedStyle(p);h.x+=(p.clientLeft+parseFloat(_.paddingLeft))*g.x,h.y+=(p.clientTop+parseFloat(_.paddingTop))*g.y,l*=g.x,a*=g.y,f*=g.x,u*=g.y,l+=h.x,a+=h.y,p=te(p).frameElement}}return Xe({width:f,height:u,x:l,y:a})}function ve(e){return((eo(e)?e.ownerDocument:e.document)||window.document).documentElement}function vt(e){return Y(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function hr(e){let{rect:t,offsetParent:n,strategy:o}=e,i=ue(n),r=ve(n);if(n===r)return t;let s={scrollLeft:0,scrollTop:0},c={x:1,y:1},l={x:0,y:0};if((i||!i&&o!=="fixed")&&((ye(n)!=="body"||nt(r))&&(s=vt(n)),ue(n))){let a=Fe(n);c=ze(n),l.x=a.x+n.clientLeft,l.y=a.y+n.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-s.scrollLeft*c.x+l.x,y:t.y*c.y-s.scrollTop*c.y+l.y}}function ro(e){return Fe(ve(e)).left+vt(e).scrollLeft}function _r(e){let t=ve(e),n=vt(e),o=e.ownerDocument.body,i=et(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),r=et(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight),s=-n.scrollLeft+ro(e),c=-n.scrollTop;return ae(o).direction==="rtl"&&(s+=et(t.clientWidth,o.clientWidth)-i),{width:i,height:r,x:s,y:c}}function qe(e){if(ye(e)==="html")return e;let t=e.assignedSlot||e.parentNode||Kn(e)&&e.host||ve(e);return Kn(t)?t.host:t}function so(e){let t=qe(e);return yt(t)?t.ownerDocument.body:ue(t)&&nt(t)?t:so(t)}function tt(e,t){var n;t===void 0&&(t=[]);let o=so(e),i=o===((n=e.ownerDocument)==null?void 0:n.body),r=te(o);return i?t.concat(r,r.visualViewport||[],nt(o)?o:[]):t.concat(o,tt(o))}function gr(e,t){let n=te(e),o=ve(e),i=n.visualViewport,r=o.clientWidth,s=o.clientHeight,c=0,l=0;if(i){r=i.width,s=i.height;let a=rn();(!a||a&&t==="fixed")&&(c=i.offsetLeft,l=i.offsetTop)}return{width:r,height:s,x:c,y:l}}function br(e,t){let n=Fe(e,!0,t==="fixed"),o=n.top+e.clientTop,i=n.left+e.clientLeft,r=ue(e)?ze(e):{x:1,y:1},s=e.clientWidth*r.x,c=e.clientHeight*r.y,l=i*r.x,a=o*r.y;return{width:s,height:c,x:l,y:a}}function Yn(e,t,n){let o;if(t==="viewport")o=gr(e,n);else if(t==="document")o=_r(ve(e));else if(Y(t))o=br(t,n);else{let i=io(e);o={...t,x:t.x-i.x,y:t.y-i.y}}return Xe(o)}function lo(e,t){let n=qe(e);return n===t||!Y(n)||yt(n)?!1:ae(n).position==="fixed"||lo(n,t)}function yr(e,t){let n=t.get(e);if(n)return n;let o=tt(e).filter(c=>Y(c)&&ye(c)!=="body"),i=null,r=ae(e).position==="fixed",s=r?qe(e):e;for(;Y(s)&&!yt(s);){let c=ae(s),l=on(s);!l&&c.position==="fixed"&&(i=null),(r?!l&&!i:!l&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||nt(s)&&!l&&lo(e,s))?o=o.filter(f=>f!==s):i=c,s=qe(s)}return t.set(e,o),o}function vr(e){let{element:t,boundary:n,rootBoundary:o,strategy:i}=e,s=[...n==="clippingAncestors"?yr(t,this._c):[].concat(n),o],c=s[0],l=s.reduce((a,f)=>{let u=Yn(t,f,i);return a.top=et(u.top,a.top),a.right=Gn(u.right,a.right),a.bottom=Gn(u.bottom,a.bottom),a.left=et(u.left,a.left),a},Yn(t,c,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function wr(e){return to(e)}function Jn(e,t){return!ue(e)||ae(e).position==="fixed"?null:t?t(e):e.offsetParent}function kr(e){let t=qe(e);for(;ue(t)&&!yt(t);){if(on(t))return t;t=qe(t)}return null}function Zn(e,t){let n=te(e);if(!ue(e))return n;let o=Jn(e,t);for(;o&&pr(o)&&ae(o).position==="static";)o=Jn(o,t);return o&&(ye(o)==="html"||ye(o)==="body"&&ae(o).position==="static"&&!on(o))?n:o||kr(e)||n}function Cr(e,t,n){let o=ue(t),i=ve(t),r=n==="fixed",s=Fe(e,!0,r,t),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};if(o||!o&&!r)if((ye(t)!=="body"||nt(i))&&(c=vt(t)),ue(t)){let a=Fe(t,!0,r,t);l.x=a.x+t.clientLeft,l.y=a.y+t.clientTop}else i&&(l.x=ro(i));return{x:s.left+c.scrollLeft-l.x,y:s.top+c.scrollTop-l.y,width:s.width,height:s.height}}var xr={getClippingRect:vr,convertOffsetParentRelativeRectToViewportRelativeRect:hr,isElement:Y,getDimensions:wr,getOffsetParent:Zn,getDocumentElement:ve,getScale:ze,async getElementRects(e){let{reference:t,floating:n,strategy:o}=e,i=this.getOffsetParent||Zn,r=this.getDimensions;return{reference:Cr(t,await i(n),o),floating:{x:0,y:0,...await r(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>ae(e).direction==="rtl"};function co(e,t,n,o){o===void 0&&(o={});let{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:s=!0,animationFrame:c=!1}=o,l=i||r?[...Y(e)?tt(e):e.contextElement?tt(e.contextElement):[],...tt(t)]:[];l.forEach(m=>{let p=!Y(m)&&m.toString().includes("V");i&&(!c||p)&&m.addEventListener("scroll",n,{passive:!0}),r&&m.addEventListener("resize",n)});let a=null;s&&(a=new ResizeObserver(()=>{n()}),Y(e)&&!c&&a.observe(e),!Y(e)&&e.contextElement&&!c&&a.observe(e.contextElement),a.observe(t));let f,u=c?Fe(e):null;c&&d();function d(){let m=Fe(e);u&&(m.x!==u.x||m.y!==u.y||m.width!==u.width||m.height!==u.height)&&n(),u=m,f=requestAnimationFrame(d)}return n(),()=>{var m;l.forEach(p=>{i&&p.removeEventListener("scroll",n),r&&p.removeEventListener("resize",n)}),(m=a)==null||m.disconnect(),a=null,c&&cancelAnimationFrame(f)}}var ao=(e,t,n)=>{let o=new Map,i={platform:xr,...n},r={...i.platform,_c:o};return Qn(e,t,{...i,platform:r})};var Er=1,sn=async(e,t,n)=>new Promise(o=>{n?.classList.add(e),n?.classList.remove(t),n?.addEventListener("animationend",()=>{n?.classList.remove(e),o()})}),ln=(e,t)=>(uo(t),new Promise(n=>{setTimeout(()=>{uo(t),n()},e)})),fo=()=>Er++,uo=e=>{clearTimeout(e)};var ne={html:!1,target:"body",placement:"top",shiftPadding:0,offset:10,delay:0,constant:!1,visibility:!0,classes:{container:"svooltip",content:"svooltip-content",arrow:"svooltip-arrow",animationEnter:"svooltip-entering",animationLeave:"svooltip-leaving"},middleware:[]};var wt=(e,t)=>{let{content:n,html:o=ne.html,target:i=ne.target,placement:r=ne.placement,shiftPadding:s=ne.shiftPadding,offset:c=ne.offset,delay:l=ne.delay,constant:a=ne.constant,classes:f=ne.classes,middleware:u=ne.middleware,visibility:d=ne.visibility,onMount:m,onDestroy:p}=t,g=d;if(!n)return;let h=typeof i=="string"?document.querySelector(i):i,_={in:typeof l=="number"?l:l[0],out:typeof l=="number"?l:l[1]},w=`svooltip-${fo()}`,v=e.title||n;e.removeAttribute("title");let b,F,N,I=!1,V=!1,pe,he=!1,W=({key:fe})=>{(fe==="Escape"||fe==="Esc")&&le()},G,$=()=>{b||V||(b=document.createElement("div"),b.setAttribute("id",w),b.setAttribute("role","tooltip"),b.setAttribute("data-placement",r),b.setAttribute("class",f.container),F=document.createElement("span"),F.setAttribute("class",f.content),F[o?"innerHTML":"textContent"]=v,N=document.createElement("div"),N.setAttribute("class",f.arrow),b.append(N),b.append(F))},K=()=>{!b||!N||ao(e,b,{placement:r,middleware:[tn(c),en(),nn({padding:s}),Zt({element:N}),...u]}).then(({x:fe,y:Di,placement:ji,middlewareData:Ri})=>{b.style.left=`${fe}px`,b.style.top=`${Di}px`;let{x:jn,y:Rn}=Ri.arrow,Ni={top:"bottom",right:"left",bottom:"top",left:"right"}[ji.split("-")[0]],Ii=(N.getBoundingClientRect().width/3).toFixed();Object.assign(N.style,{left:jn!=null?`${jn}px`:"",top:Rn!=null?`${Rn}px`:"",right:"",bottom:"",[Ni]:`-${Ii}px`})})},se=async()=>{if(!b&&g){if(_.in>0&&(await ln(_.in,pe),he||!I||V||b))return;if(e.setAttribute("aria-describedby",w),$(),K(),G&&G(),G=co(e,b,K),!h)throw new Error(`[SVooltip] Cannot find \`${h}\``);if(!b)throw new Error("[SVooltip] Tooltip has not been created.");h.append(b),await sn(f.animationEnter,f.animationLeave,b),m?.(),V=!0}},le=async()=>{(b||V)&&(_.out>0&&await ln(_.out,pe),await sn(f.animationLeave,f.animationEnter,b),G&&G(),b&&(e.removeAttribute("aria-describedby"),V=!1,b.remove(),b=null,p?.()))};if(a)se();else return e.addEventListener("mouseenter",se),e.addEventListener("mouseenter",()=>I=!0),e.addEventListener("focus",se),e.addEventListener("mouseleave",le),e.addEventListener("mouseleave",()=>I=!1),e.addEventListener("blur",le),window.addEventListener("keydown",W),{update(fe){v=fe.content,o=fe.html||!1,g=fe.visibility||d,b&&F&&(F[o?"innerHTML":"textContent"]=v,K())},destroy(){b&&(e.removeAttribute("aria-describedby"),V=!1,b.remove(),b=null),window.removeEventListener("keydown",W),p?.(),he=!0}}};function Sr(e){let t,n=[{width:e[1]},{height:e[1]},{"stroke-width":"0"},{class:e[2]},e[0].a,e[4],{xmlns:"http://www.w3.org/2000/svg"}],o={};for(let i=0;i<n.length;i+=1)o=In(o,n[i]);return{c(){t=qn("svg"),Ut(t,o)},m(i,r){O(i,t,r),t.innerHTML=e[3]},p(i,[r]){r&8&&(t.innerHTML=i[3]),Ut(t,o=Un(n,[r&2&&{width:i[1]},r&2&&{height:i[1]},{"stroke-width":"0"},r&4&&{class:i[2]},r&1&&i[0].a,r&16&&i[4],{xmlns:"http://www.w3.org/2000/svg"}]))},i:P,o:P,d(i){i&&S(t)}}}function Or(e,t,n){let{src:o}=t,{size:i="1em"}=t,{color:r=void 0}=t,{title:s=void 0}=t,{className:c=""}=t,l,a;return e.$$set=f=>{"src"in f&&n(0,o=f.src),"size"in f&&n(1,i=f.size),"color"in f&&n(5,r=f.color),"title"in f&&n(6,s=f.title),"className"in f&&n(2,c=f.className)},e.$$.update=()=>{if(e.$$.dirty&33)e:n(4,a={}),r&&(o.a.stroke!=="none"&&n(4,a.stroke=r,a),o.a.fill!=="none"&&n(4,a.fill=r,a));if(e.$$.dirty&65)e:n(3,l=(s?`<title>${s}</title>`:"")+o.c)},[o,i,c,l,a,r,s]}var cn=class extends R{constructor(t){super(),z(this,t,Or,Sr,D,{src:0,size:1,color:5,title:6,className:2})}},oe=cn;var mo={a:{viewBox:"0 0 24 24"},c:`<g><path fill="none" d="M0 0H24V24H0z"></path>
<path d="M12 19c.828 0 1.5.672 1.5 1.5S12.828 22 12 22s-1.5-.672-1.5-1.5.672-1.5 1.5-1.5zm0-17c3.314 0 6 2.686 6 6 0 2.165-.753 3.29-2.674 4.923C13.399 14.56 13 15.297 13 17h-2c0-2.474.787-3.695 3.031-5.601C15.548 10.11 16 9.434 16 8c0-2.21-1.79-4-4-4S8 5.79 8 8v1H6V8c0-3.314 2.686-6 6-6z"></path></g>`};var po={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" clip-rule="evenodd" d="M14.431 3.323l-8.47 10-.79-.036-3.35-4.77.818-.574 2.978 4.24 8.051-9.506.764.646z"></path>'};var ho={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" clip-rule="evenodd" d="M7.116 8l-4.558 4.558.884.884L8 8.884l4.558 4.558.884-.884L8.884 8l4.558-4.558-.884-.884L8 7.116 3.442 2.558l-.884.884L7.116 8z"></path>'};function _o(e,t,n){let o=e.slice();o[4]=t[n];let i=window.Popcorn.themes[o[4]];o[5]=i;let r=o[1](o[5].valid);return o[6]=r.icon,o[7]=r.text,o}function Fr(e){let t,n,o,i,r,s,c;return n=new oe({props:{color:"currentColor",src:e[6]}}),{c(){t=E("div"),j(n.$$.fragment),y(t,"class","theme-validity PopcornUI-14iiham"),y(t,"data-value",o=e[5].valid)},m(l,a){O(l,t,a),L(n,t,null),r=!0,s||(c=Bt(i=wt.call(null,t,{content:e[5].valid?e[7]:Ar(e[5].errors),target:"#PopcornUI-layers"})),s=!0)},p(l,a){e=l},i(l){r||(k(n.$$.fragment,l),r=!0)},o(l){x(n.$$.fragment,l),r=!1},d(l){l&&S(t),M(n),s=!1,c()}}}function go(e){let t,n,o=e[4]+"",i,r,s,c,l=(e[5].description??"")+"",a,f,u,d=e[5].enabled?"Disable":"Enable",m,p,g,h,_,w,v,b=Ve&&Fr(e);function F(){return e[2](e[4])}function N(){return e[3](e[4])}return{c(){t=E("div"),n=E("h1"),i=q(o),r=T(),b&&b.c(),s=T(),c=E("div"),a=q(l),f=T(),u=E("button"),m=q(d),p=T(),y(n,"class","theme-id PopcornUI-14iiham"),y(c,"class","theme-description PopcornUI-14iiham"),y(u,"class","theme-toggle PopcornUI-14iiham"),y(t,"class","theme-container PopcornUI-14iiham"),y(t,"id",g=e[4]),y(t,"data-enabled",h=e[5].enabled)},m(I,V){O(I,t,V),C(t,n),C(n,i),C(n,r),b&&b.m(n,null),C(t,s),C(t,c),C(c,a),C(t,f),C(t,u),C(u,m),C(t,p),_=!0,w||(v=[A(u,"click",F),A(u,"submit",N)],w=!0)},p(I,V){e=I,Ve&&b.p(e,V)},i(I){_||(k(b),_=!0)},o(I){x(b),_=!1},d(I){I&&S(t),b&&b.d(),w=!1,H(v)}}}function bo(e){let t=e[0][e[4]],n,o,i=go(e);return{c(){i.c(),n=ge()},m(r,s){i.m(r,s),O(r,n,s),o=!0},p(r,s){s&1&&D(t,t=r[0][r[4]])?(B(),x(i,1,1,P),U(),i=go(r),i.c(),k(i,1),i.m(n.parentNode,n)):i.p(r,s)},i(r){o||(k(i),o=!0)},o(r){x(i),o=!1},d(r){r&&S(n),i.d(r)}}}function Pr(e){let t,n,o=Object.keys(window.Popcorn.themes),i=[];for(let s=0;s<o.length;s+=1)i[s]=bo(_o(e,o,s));let r=s=>x(i[s],1,1,()=>{i[s]=null});return{c(){t=E("div");for(let s=0;s<i.length;s+=1)i[s].c();y(t,"class","themes-wrapper PopcornUI-14iiham")},m(s,c){O(s,t,c);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(t,null);n=!0},p(s,[c]){if(c&3){o=Object.keys(window.Popcorn.themes);let l;for(l=0;l<o.length;l+=1){let a=_o(s,o,l);i[l]?(i[l].p(a,c),k(i[l],1)):(i[l]=bo(a),i[l].c(),k(i[l],1),i[l].m(t,null))}for(B(),l=o.length;l<i.length;l+=1)r(l);U()}},i(s){if(!n){for(let c=0;c<o.length;c+=1)k(i[c]);n=!0}},o(s){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)x(i[c]);n=!1},d(s){s&&S(t),Se(i,s)}}}var yo=de({});function kt(e){yo.update(t=>(t[e]=!t[e],t))}function Ar(e){return e.map(t=>`Line ${t.line}: ${t.message}`).join(`
 `)}function Tr(e,t,n){let o;ee(e,yo,c=>n(0,o=c));function i(c){switch(c){case!0:return{icon:po,text:"Valid"};case!1:return{icon:ho,text:"Invalid"};case"unknown":default:return{icon:mo,text:"Validity Unknown"}}}return[o,i,c=>window.Popcorn.themes[c].toggle(),c=>window.Popcorn.themes[c].toggle()]}var an=class extends R{constructor(t){super(),z(this,t,Tr,Pr,D,{})}},vo=an;var Ct={main:"POPCORN_",quickCss:"QUICKCSS_",themes:"THEMES_"},wo=ko({getConfig:"GET_CONFIG",statusMessage:"STATUS_MESSAGE",getWindowData:"GET_WINDOW_DATA",log:"LOG",getThemes:"GET_THEMES",onThemeChange:"ON_THEME_CHANGE",saveThemeState:"SAVE_THEME_STATE",getQuickCss:"GET_QUICK_CSS",onQuickCssChange:"ON_QUICK_CSS_CHANGE",createQuickCssNode:"CREATE_QUICK_CSS_NODE",deleteQuickCssNode:"DELETE_QUICK_CSS_NODE",renameQuickCssNode:"RENAME_QUICK_CSS_NODE",updateQuickCssFile:"SAVE_QUICK_CSS_FILE"},Ct.main),ot={quickCss:ko({created:"CREATED",deleted:"DELETED",renamed:"RENAMED",updated:"UPDATED"},Ct.quickCss)};function ko(e,t){let n={};for(let o in e)n[o]=t+e[o];return n}var un=class{module;output;constructor(t,n="console"){this.module=t,this.output=this.#t(n)}#t(t){switch(t){case"ansi":case"terminal":return"ansi";default:return"console"}}#n(t){switch(t){case"info":case"warn":case"error":case"debug":return t;default:return"log"}}#o(t){switch(t){case"debug":return{str:"MediumSpringGreen",arr:[0,250,154]};case"info":return{str:"DeepSkyBlue",arr:[0,191,255]};case"error":return{str:"crimson",arr:[220,20,60]};case"warn":return{str:"DarkOrange",arr:[255,140,0]};default:return{str:"gold",arr:[255,215,0]}}}#i(t,n){return`\x1B[38;2;${t[0]};${t[1]};${t[2]}m${n}\x1B[0m`}async#e(t,n){t=this.#n(t);let o=this.#o(t),i=this.output==="ansi"?[`[${this.#i(o.arr,"Popcorn")} > ${this.module}]`]:[`[%cPopcorn%c > ${this.module}]`,`color: ${o.str};`,""];if(console[t](...i,...n),this.output==="ansi"){let{BrowserWindow:r}=await import("electron");r.getAllWindows().forEach(s=>s.webContents.send(wo.log,t,...n))}}log=(...t)=>this.#e("log",t);info=(...t)=>this.#e("info",t);warn=(...t)=>this.#e("warn",t);error=(...t)=>this.#e("error",t);debug=(...t)=>this.#e("debug",t)},Be=un;var Ue=new Be("Themes"),me,we,rt,fn,$e=class{constructor(t,n){dt(this,rt);_e(this,"description");_e(this,"id");_e(this,"json");dt(this,me,void 0);dt(this,we,void 0);_e(this,"rev",0);_e(this,"valid","unknown");_e(this,"errors",[]);Nt(this),this.description=n.description,this.id=t,this.json=n.json,xe(this,we,n.enabled),Ve&&Rt(this,rt,fn).call(this),n.enabled&&this.enable(!1)}get enabled(){return Te(this,we)}set enabled(t){t?this.enable():this.disable(),xe(this,we,t)}enable(t=!0){if(Te(this,me)){Ue.log(`"${this.id}" is already enabled.`);return}xe(this,we,!0);let n=xe(this,me,document.createElement("link"));n.rel="stylesheet",n.id=this.id,n.href=$e.link+this.id,n.dataset.popcorn="true",Pe.end.before(n),Ue.log(`"${this.id}" enabled.`),kt(this.id),t&&PopcornNative.saveThemeState(this.id,!0)}disable(t=!0){if(!Te(this,me)){Ue.warn(`"${this.id}" is not enabled.`);return}xe(this,we,!1),Te(this,me).remove(),xe(this,me,null),Ue.log(`"${this.id}" disabled.`),kt(this.id),t&&PopcornNative.saveThemeState(this.id,!1)}toggle(t=!0){this.enabled?this.disable(t):this.enable(t)}async update(){Te(this,me).href=$e.link+this.id+`?${++this.rev}`;let n=await(await fetch($e.link+this.id,{cache:"no-store"})).text();Ve&&Rt(this,rt,fn).call(this,n)}},xt=$e;me=new WeakMap,we=new WeakMap,rt=new WeakSet,fn=async function(t){t??=await(await fetch($e.link+this.id,{cache:"no-store"})).text(),PopcornNative.validateCSS(t).then(n=>{ke.verbose&&Ue.debug(`Validated "${this.id}".`,n),this.valid=n.valid,this.errors=n.errors,kt(this.id)}).catch(n=>{Ue.error(`Failed to validate "${this.id}".`,n)})},_e(xt,"link",PopcornNative.isSplash?"popcorn://splash-theme/":"popcorn://theme/");var it=class{start(){this.watchThemes()}watchThemes(){PopcornNative.onThemeChange(({id:t})=>{window.Popcorn.themes[t].update()})}};function Co(e){let t={};for(let n in e)t[n]=new xt(n,e[n]);return t}var Pn=Dt(dn());var Jo=Dt(dn()),Zo=Dt(Xo());var{window:xs}=ht;function Yo(e){let t;return{c(){t=E("p"),t.textContent="Loading monaco editor...",y(t,"class","loading-overlay")},m(n,o){O(n,t,o)},d(n){n&&S(t)}}}function Es(e){let t,n,o,i,r,s=!e[1]&&Yo(e);return{c(){t=E("div"),s&&s.c(),n=T(),o=E("div"),y(o,"class","monaco-editor PopcornUI-1tm8p33"),y(t,"class","monaco-wrapper")},m(c,l){O(c,t,l),s&&s.m(t,null),C(t,n),C(t,o),e[9](o),i||(r=A(xs,"resize",(0,Jo.debounce)(e[0],50)),i=!0)},p(c,[l]){c[1]?s&&(s.d(1),s=null):s||(s=Yo(c),s.c(),s.m(t,n))},i:P,o:P,d(c){c&&S(t),s&&s.d(),e[9](null),i=!1,r()}}}function Ss(e,t,n){let o,{editor:i=null}=t,{content:r}=t,{actions:s=[]}=t,{commands:c=[]}=t,{options:l={}}=t,a=Ge(),f=!1;Ie(async()=>{let p=await Zo.default.init();p.editor.onDidCreateEditor(()=>{n(1,f=!0),d(),a("ready")}),n(3,i=p.editor.create(o,{language:"css",theme:"vs-dark",...l,value:r}));let g=c.map(h=>({...h,keybinding:h.keybinding(p.KeyCode,p.KeyMod)}));for(let h of g)i.addCommand(h.keybinding,h.handler,h.context??void 0);for(let h of s){let{id:_,label:w,handler:v}=h;i.addAction({id:"custom."+_,label:w,keybindings:[],run:v})}return i.onDidChangeModelContent(()=>{let h=i.getValue();h!==r&&(n(8,u=!0),n(4,r=h),a("change",r))}),()=>{i.dispose(),n(1,f=!1)}});let u=!1;function d(){f&&window.requestAnimationFrame(()=>{i.layout({width:0,height:0});let p=o.parentElement.getBoundingClientRect();i.layout({width:p.width,height:p.height})})}function m(p){Q[p?"unshift":"push"](()=>{o=p,n(2,o)})}return e.$$set=p=>{"editor"in p&&n(3,i=p.editor),"content"in p&&n(4,r=p.content),"actions"in p&&n(5,s=p.actions),"commands"in p&&n(6,c=p.commands),"options"in p&&n(7,l=p.options)},e.$$.update=()=>{if(e.$$.dirty&282)e:typeof r=="string"&&f&&(u||i.getModel().setValue(r),n(8,u=!1))},[d,f,o,i,r,s,c,l,u,m]}var Sn=class extends R{constructor(t){super(),z(this,t,Ss,Es,D,{editor:3,content:4,actions:5,commands:6,options:7,recalculateSize:0})}get recalculateSize(){return this.$$.ctx[0]}},ei=Sn;var ti={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" clip-rule="evenodd" d="M4 7H3V4H0V3h3V0h1v3h3v1H4v3zm6.5-5.9l3.4 3.5.1.4v8.5l-.5.5h-10l-.5-.5V8h1v5h9V6H9V2H5V1h5.2l.3.1zM10 2v3h2.9L10 2z"></path>'};var ni={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" clip-rule="evenodd" d="M7 3H4V0H3v3H0v1h3v3h1V4h3V3zM5.5 7H5V6h.3l.8-.9.4-.1H14V4H8V3h6.5l.5.5v10l-.5.5h-13l-.5-.5V5h1v8h12V6H6.7l-.8.9-.4.1z"></path>'};var oi={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path d="M15 8H1V7h14v1z"></path>'};var ii={a:{viewBox:"0 0 1024 1024"},c:'<path d="M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 0 0-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zm-180 0H238c-13 0-24.8 7.9-29.7 20L136 643.2V256h188.5l119.6 114.4H748V444z"></path>'};var ri={a:{viewBox:"0 0 1024 1024"},c:'<path d="M880 298.4H521L403.7 186.2a8.15 8.15 0 0 0-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32z"></path>'};var si={a:{viewBox:"0 0 512 512"},c:'<path d="M480 32l-64 368-223.3 80L0 400l19.6-94.8h82l-8 40.6L210 390.2l134.1-44.4 18.8-97.1H29.5l16-82h333.7l10.5-52.7H56.3l16.3-82H480z"></path>'};var li={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path d="M8 4c.367 0 .721.048 1.063.145a3.943 3.943 0 0 1 1.762 1.031 3.944 3.944 0 0 1 1.03 1.762c.097.34.145.695.145 1.062 0 .367-.048.721-.145 1.063a3.94 3.94 0 0 1-1.03 1.765 4.017 4.017 0 0 1-1.762 1.031C8.72 11.953 8.367 12 8 12s-.721-.047-1.063-.14a4.056 4.056 0 0 1-1.765-1.032A4.055 4.055 0 0 1 4.14 9.062 3.992 3.992 0 0 1 4 8c0-.367.047-.721.14-1.063a4.02 4.02 0 0 1 .407-.953A4.089 4.089 0 0 1 5.98 4.546a3.94 3.94 0 0 1 .957-.401A3.89 3.89 0 0 1 8 4z"></path>'};function Os(e){let t,n=e[1].name+"",o;return{c(){t=E("span"),o=q(n),y(t,"class","item-name")},m(i,r){O(i,t,r),C(t,o)},p(i,r){r&2&&n!==(n=i[1].name+"")&&ce(o,n)},d(i){i&&S(t)}}}function Fs(e){let t,n,o,i;return{c(){t=E("input"),y(t,"class","rename-input"),y(t,"autocorrect","off"),y(t,"autocapitalize","off"),y(t,"spellcheck","false"),y(t,"type","text"),t.value=n=e[1].name},m(r,s){O(r,t,s),e[8](t),o||(i=[A(t,"keydown",e[7]),A(t,"focusout",function(){X(e[0]&&e[6])&&(e[0]&&e[6]).apply(this,arguments)})],o=!0)},p(r,s){e=r,s&2&&n!==(n=e[1].name)&&t.value!==n&&(t.value=n)},d(r){r&&S(t),e[8](null),o=!1,H(i)}}}function ci(e){let t,n;return t=new oe({props:{color:"currentColor",src:li}}),{c(){j(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p:P,i(o){n||(k(t.$$.fragment,o),n=!0)},o(o){x(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function Ps(e){let t,n,o,i,r,s,c;n=new oe({props:{color:"currentColor",src:si}});function l(d,m){return d[0]?Fs:Os}let a=l(e,-1),f=a(e),u=e[4]?.[e[1].location]?.unsaved&&ci(e);return{c(){t=E("button"),j(n.$$.fragment),o=T(),f.c(),i=T(),u&&u.c(),y(t,"class","item file"),be(t,"--depth",e[2])},m(d,m){O(d,t,m),L(n,t,null),C(t,o),f.m(t,null),C(t,i),u&&u.m(t,null),r=!0,s||(c=[A(t,"click",e[5]),A(t,"submit",Ne(e[5])),A(t,"dblclick",e[6]),A(t,"keydown",_t(Ne(e[7])))],s=!0)},p(d,[m]){a===(a=l(d,m))&&f?f.p(d,m):(f.d(1),f=a(d),f&&(f.c(),f.m(t,i))),d[4]?.[d[1].location]?.unsaved?u?(u.p(d,m),m&18&&k(u,1)):(u=ci(d),u.c(),k(u,1),u.m(t,null)):u&&(B(),x(u,1,1,()=>{u=null}),U()),(!r||m&4)&&be(t,"--depth",d[2])},i(d){r||(k(n.$$.fragment,d),k(u),r=!0)},o(d){x(n.$$.fragment,d),x(u),r=!1},d(d){d&&S(t),M(n),f.d(),u&&u.d(),s=!1,H(c)}}}function As(e,t,n){let o;ee(e,Ae,d=>n(4,o=d));let{file:i}=t,{rename:r=!1}=t,{depth:s=0}=t;function c(){re.set(i)}let l;function a(){r&&l?.value!==i.name&&PopcornNative.renameQuickCssNode(i.location,l.value),n(0,r=!r)}function f(d){switch(d.key){case"F2":a();break;case"Enter":r&&a();break}}function u(d){Q[d?"unshift":"push"](()=>{l=d,n(3,l)})}return e.$$set=d=>{"file"in d&&n(1,i=d.file),"rename"in d&&n(0,r=d.rename),"depth"in d&&n(2,s=d.depth)},e.$$.update=()=>{if(e.$$.dirty&8)e:l&&(l.focus(),l.setSelectionRange(0,l.value.length-4))},[r,i,s,l,o,c,a,f,u]}var On=class extends R{constructor(t){super(),z(this,t,As,Ps,D,{file:1,rename:0,depth:2})}},ai=On;function ui(e,t,n){let o=e.slice();return o[9]=t[n],o}function Ts(e){let t,n;return t=new oe({props:{color:"currentColor",src:ri}}),{c(){j(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p:P,i(o){n||(k(t.$$.fragment,o),n=!0)},o(o){x(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function Ms(e){let t,n;return t=new oe({props:{color:"currentColor",src:ii}}),{c(){j(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p:P,i(o){n||(k(t.$$.fragment,o),n=!0)},o(o){x(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function Ls(e){let t,n=e[2].name+"",o;return{c(){t=E("span"),o=q(n),y(t,"class","item-name")},m(i,r){O(i,t,r),C(t,o)},p(i,r){r&4&&n!==(n=i[2].name+"")&&ce(o,n)},d(i){i&&S(t)}}}function Ds(e){let t,n,o,i;return{c(){t=E("input"),y(t,"class","rename-input"),y(t,"autocorrect","off"),y(t,"autocapitalize","off"),y(t,"spellcheck","false"),y(t,"type","text"),t.value=n=e[2].name},m(r,s){O(r,t,s),e[8](t),o||(i=[A(t,"keydown",e[7]),A(t,"focusout",function(){X(e[0]&&e[6])&&(e[0]&&e[6]).apply(this,arguments)})],o=!0)},p(r,s){e=r,s&4&&n!==(n=e[2].name)&&t.value!==n&&(t.value=n)},d(r){r&&S(t),e[8](null),o=!1,H(i)}}}function fi(e){let t,n,o=e[2].files,i=[];for(let s=0;s<o.length;s+=1)i[s]=di(ui(e,o,s));let r=s=>x(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();t=ge()},m(s,c){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(s,c);O(s,t,c),n=!0},p(s,c){if(c&12){o=s[2].files;let l;for(l=0;l<o.length;l+=1){let a=ui(s,o,l);i[l]?(i[l].p(a,c),k(i[l],1)):(i[l]=di(a),i[l].c(),k(i[l],1),i[l].m(t.parentNode,t))}for(B(),l=o.length;l<i.length;l+=1)r(l);U()}},i(s){if(!n){for(let c=0;c<o.length;c+=1)k(i[c]);n=!0}},o(s){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)x(i[c]);n=!1},d(s){Se(i,s),s&&S(t)}}}function js(e){let t,n;return t=new ai({props:{file:e[9],depth:e[3]+1}}),{c(){j(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p(o,i){let r={};i&4&&(r.file=o[9]),i&8&&(r.depth=o[3]+1),t.$set(r)},i(o){n||(k(t.$$.fragment,o),n=!0)},o(o){x(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function Rs(e){let t,n;return t=new Pt({props:{folder:e[9],depth:e[3]+1}}),{c(){j(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p(o,i){let r={};i&4&&(r.folder=o[9]),i&8&&(r.depth=o[3]+1),t.$set(r)},i(o){n||(k(t.$$.fragment,o),n=!0)},o(o){x(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function di(e){let t,n,o,i,r=[Rs,js],s=[];function c(l,a){return"files"in l[9]?0:1}return t=c(e,-1),n=s[t]=r[t](e),{c(){n.c(),o=ge()},m(l,a){s[t].m(l,a),O(l,o,a),i=!0},p(l,a){let f=t;t=c(l,a),t===f?s[t].p(l,a):(B(),x(s[f],1,1,()=>{s[f]=null}),U(),n=s[t],n?n.p(l,a):(n=s[t]=r[t](l),n.c()),k(n,1),n.m(o.parentNode,o))},i(l){i||(k(n),i=!0)},o(l){x(n),i=!1},d(l){s[t].d(l),l&&S(o)}}}function Ns(e){let t,n,o,i,r,s,c,l,a,f=[Ms,Ts],u=[];function d(_,w){return _[1]?0:1}n=d(e,-1),o=u[n]=f[n](e);function m(_,w){return _[0]?Ds:Ls}let p=m(e,-1),g=p(e),h=e[1]&&fi(e);return{c(){t=E("button"),o.c(),i=T(),g.c(),r=T(),h&&h.c(),s=ge(),y(t,"class","item folder"),be(t,"--depth",e[3]),y(t,"data-opened",e[1])},m(_,w){O(_,t,w),u[n].m(t,null),C(t,i),g.m(t,null),O(_,r,w),h&&h.m(_,w),O(_,s,w),c=!0,l||(a=[A(t,"click",e[5]),A(t,"submit",Ne(e[5])),A(t,"dblclick",e[6]),A(t,"keydown",_t(Ne(e[7])))],l=!0)},p(_,[w]){let v=n;n=d(_,w),n===v?u[n].p(_,w):(B(),x(u[v],1,1,()=>{u[v]=null}),U(),o=u[n],o?o.p(_,w):(o=u[n]=f[n](_),o.c()),k(o,1),o.m(t,i)),p===(p=m(_,w))&&g?g.p(_,w):(g.d(1),g=p(_),g&&(g.c(),g.m(t,null))),(!c||w&8)&&be(t,"--depth",_[3]),(!c||w&2)&&y(t,"data-opened",_[1]),_[1]?h?(h.p(_,w),w&2&&k(h,1)):(h=fi(_),h.c(),k(h,1),h.m(s.parentNode,s)):h&&(B(),x(h,1,1,()=>{h=null}),U())},i(_){c||(k(o),k(h),c=!0)},o(_){x(o),x(h),c=!1},d(_){_&&S(t),u[n].d(),g.d(),_&&S(r),h&&h.d(_),_&&S(s),l=!1,H(a)}}}function Is(e,t,n){let{folder:o}=t,{rename:i=!1}=t,{opened:r=!0}=t,{depth:s=0}=t;function c(){n(1,r=!r),J.set(o)}let l;function a(){i&&l?.value!==o.name&&PopcornNative.renameQuickCssNode(o.location,l.value),n(0,i=!i)}function f(d){switch(d.key){case"F2":a();break;case"Enter":i&&a();break}}function u(d){Q[d?"unshift":"push"](()=>{l=d,n(4,l)})}return e.$$set=d=>{"folder"in d&&n(2,o=d.folder),"rename"in d&&n(0,i=d.rename),"opened"in d&&n(1,r=d.opened),"depth"in d&&n(3,s=d.depth)},e.$$.update=()=>{if(e.$$.dirty&16)e:l&&(l.focus(),l.setSelectionRange(0,l.value.length))},[i,r,o,s,l,c,a,f,u]}var Pt=class extends R{constructor(t){super(),z(this,t,Is,Ns,D,{folder:2,rename:0,opened:1,depth:3})}},mi=Pt;function Hs(e){let t,n,o,i,r,s,c=e[1].name+"",l,a,f,u,d,m,p,g,h,_,w,v;return i=new oe({props:{color:"currentColor",src:oi}}),u=new oe({props:{color:"currentColor",src:ti}}),p=new oe({props:{color:"currentColor",src:ni}}),h=new mi({props:{folder:window.Popcorn.quickCss}}),{c(){t=E("div"),n=E("div"),o=E("button"),j(i.$$.fragment),r=T(),s=E("span"),l=q(c),a=T(),f=E("button"),j(u.$$.fragment),d=T(),m=E("button"),j(p.$$.fragment),g=T(),j(h.$$.fragment),y(o,"class","action PopcornUI-1je845r"),y(o,"data-action","delete"),y(s,"class","selected-file"),y(f,"class","action PopcornUI-1je845r"),y(f,"data-action","new-file"),y(m,"class","action PopcornUI-1je845r"),y(m,"data-action","new-folder"),y(n,"class","action-bar PopcornUI-1je845r"),y(t,"class","sidebar PopcornUI-1je845r"),be(t,"width","22ch")},m(b,F){O(b,t,F),C(t,n),C(n,o),L(i,o,null),C(n,r),C(n,s),C(s,l),C(n,a),C(n,f),L(u,f,null),C(n,d),C(n,m),L(p,m,null),C(t,g),L(h,t,null),e[5](t),_=!0,w||(v=[A(o,"click",e[2]),A(o,"submit",e[2]),A(f,"click",e[3]),A(f,"submit",e[3]),A(m,"click",e[4]),A(m,"submit",e[4])],w=!0)},p(b,[F]){(!_||F&2)&&c!==(c=b[1].name+"")&&ce(l,c)},i(b){_||(k(i.$$.fragment,b),k(u.$$.fragment,b),k(p.$$.fragment,b),k(h.$$.fragment,b),_=!0)},o(b){x(i.$$.fragment,b),x(u.$$.fragment,b),x(p.$$.fragment,b),x(h.$$.fragment,b),_=!1},d(b){b&&S(t),M(i),M(u),M(p),M(h),e[5](null),w=!1,H(v)}}}var Ae=de({});function zs(e,t,n){let o,i;ee(e,J,u=>n(6,o=u)),ee(e,hi,u=>n(1,i=u));let r,s=Ge();Ie(()=>{let u=new ResizeObserver(d=>{s("resize",d[0])});return u.observe(r),()=>{u.disconnect()}});function c(){PopcornNative.deleteQuickCssNode(i.location)}function l(){PopcornNative.createQuickCssNode(o.location,"file")}function a(){PopcornNative.createQuickCssNode(o.location,"folder")}function f(u){Q[u?"unshift":"push"](()=>{r=u,n(0,r)})}return[r,i,c,l,a,f]}var Fn=class extends R{constructor(t){super(),z(this,t,zs,Hs,D,{})}},pi=Fn;function _i(e){let t,n;return t=new pi({}),t.$on("resize",function(){X((0,Pn.debounce)(e[1],50))&&(0,Pn.debounce)(e[1],50).apply(this,arguments)}),{c(){j(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p(o,i){e=o},i(o){n||(k(t.$$.fragment,o),n=!0)},o(o){x(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function qs(e){let t;return{c(){t=E("span"),t.textContent="Select a file to edit",y(t,"class","no-file-selected")},m(n,o){O(n,t,o)},p:P,i:P,o:P,d(n){n&&S(t)}}}function Vs(e){let t,n,o=e[2].location+"",i,r,s,c,l,a,f,u=e[4].type&&gi(e);function d(g){e[8](g)}function m(g){e[9](g)}let p={actions:e[5],commands:e[6]};return e[0]!==void 0&&(p.content=e[0]),e[1]!==void 0&&(p.recalculateSize=e[1]),c=new ei({props:p}),Q.push(()=>Wt(c,"content",d)),Q.push(()=>Wt(c,"recalculateSize",m)),c.$on("change",e[7]),{c(){t=E("div"),n=E("span"),i=q(o),r=T(),u&&u.c(),s=T(),j(c.$$.fragment),y(n,"class","selected-file"),y(t,"class","status-bar PopcornUI-szncc9")},m(g,h){O(g,t,h),C(t,n),C(n,i),C(t,r),u&&u.m(t,null),O(g,s,h),L(c,g,h),f=!0},p(g,h){(!f||h&4)&&o!==(o=g[2].location+"")&&ce(i,o),g[4].type?u?u.p(g,h):(u=gi(g),u.c(),u.m(t,null)):u&&(u.d(1),u=null);let _={};!l&&h&1&&(l=!0,_.content=g[0],Qt(()=>l=!1)),!a&&h&2&&(a=!0,_.recalculateSize=g[1],Qt(()=>a=!1)),c.$set(_)},i(g){f||(k(c.$$.fragment,g),f=!0)},o(g){x(c.$$.fragment,g),f=!1},d(g){g&&S(t),u&&u.d(),g&&S(s),M(c,g)}}}function gi(e){let t,n,o=e[4].message+"",i,r;return{c(){t=E("div"),n=E("div"),i=q(o),y(n,"class","status-message"),y(t,"class","status"),y(t,"data-type",r=e[4].type)},m(s,c){O(s,t,c),C(t,n),C(n,i)},p(s,c){c&16&&o!==(o=s[4].message+"")&&ce(i,o),c&16&&r!==(r=s[4].type)&&y(t,"data-type",r)},d(s){s&&S(t)}}}function Bs(e){let t,n=e[3],o,i,r,s,c=_i(e),l=[Vs,qs],a=[];function f(u,d){return u[2]?0:1}return i=f(e,-1),r=a[i]=l[i](e),{c(){t=E("div"),c.c(),o=T(),r.c(),y(t,"class","quickCss-wrapper PopcornUI-szncc9")},m(u,d){O(u,t,d),c.m(t,null),C(t,o),a[i].m(t,null),s=!0},p(u,[d]){d&8&&D(n,n=u[3])?(B(),x(c,1,1,P),U(),c=_i(u),c.c(),k(c,1),c.m(t,o)):c.p(u,d);let m=i;i=f(u,d),i===m?a[i].p(u,d):(B(),x(a[m],1,1,()=>{a[m]=null}),U(),r=a[i],r?r.p(u,d):(r=a[i]=l[i](u),r.c()),k(r,1),r.m(t,null))},i(u){s||(k(c),k(r),s=!0)},o(u){x(c),x(r),s=!1},d(u){u&&S(t),c.d(u),a[i].d()}}}var bi=de();function yi(){bi.update(e=>!e)}var An=de(),re=de(),J=de(),hi={subscribe:An.subscribe},ut=de({});function Us(e,t,n){let o,i=P,r=()=>(i(),i=je(re,v=>n(2,o=v)),re),s,c,l,a=P,f=()=>(a(),a=je(ut,v=>n(4,l=v)),ut);ee(e,re,v=>n(2,o=v)),ee(e,Ae,v=>n(10,s=v)),ee(e,bi,v=>n(3,c=v)),ee(e,ut,v=>n(4,l=v)),e.$$.on_destroy.push(()=>i()),e.$$.on_destroy.push(()=>a());let u;re.subscribe(v=>{v&&(n(0,u=v.content),An.set(v))}),J.subscribe(v=>{v&&An.set(v)});let d=[{id:"save",label:"Save the currently selected file",handler:g}],m=[{keybinding:(v,b)=>b.CtrlCmd|v.KeyS,handler:g}];function p(){pt(Ae,s[o.location]??={},s),pt(Ae,s[o.location].unsaved=!0,s)}function g(){pt(Ae,s[o.location].unsaved=!1,s),PopcornNative.updateQuickCssFile(o.location,u)}let h;function _(v){u=v,n(0,u)}function w(v){h=v,n(1,h)}return[u,h,o,c,l,d,m,p,_,w]}var Tn=class extends R{constructor(t){super(),z(this,t,Us,Bs,D,{})}},vi=Tn;var $s=new Be("QuickCSS"),ft=class{styleElements=new Map;start(){this.populateQuickCss(),this.watchQuickCss(),J.set(window.Popcorn.quickCss)}populateQuickCss(){let{imports:t,contents:n}=wi(window.Popcorn.quickCss),o=this.styleElements.get("imports");if(o)t!==o.textContent&&(o.textContent=t);else{let r=document.createElement("style");r.id="popcorn-quickcss-imports",r.textContent=t,r.dataset.popcorn="true",Pe.end.after(r),this.styleElements.set("imports",r)}let i=this.styleElements.get("contents");if(i)n!==i.textContent&&(i.textContent=n);else{let r=document.createElement("style");r.id="popcorn-quickcss-contents",r.textContent=n,r.dataset.popcorn="true",Pe.end.after(r),this.styleElements.set("contents",r)}}watchQuickCss(){PopcornNative.onQuickCssChange(t=>{ke.verbose&&$s.debug("QuickCSS Updated"),window.Popcorn.quickCss=t,yi(),this.populateQuickCss()})}};function wi(e){let t="",n="",o=/^@import\s+(?:url\(['"]?.*?['"]?\)|['"].*?['"])(\s+[^;]+?)?;$/gmi;for(let i of e.files)if("files"in i){let r=wi(i);t+=r.imports,n+=r.contents}else{let r=i.content.replace(o,s=>(t+=s.replace(/;$/,"")+`; /* ${i.location} */
`,"")).trim();r&&(n+=`

/* ${i.location} */
`+r)}return{imports:t,contents:n}}function At(e,t=window.Popcorn.quickCss){if(t.location===e)return t;for(let n of t.files){if("content"in n){if(n.location===e)return n;continue}let o=At(e,n);if(o)return o}return null}function ki(e,t,n){let o=e.slice();o[7]=t[n];let i=o[0].find(function(...s){return e[6](o[7],...s)});return o[8]=i,o}function Ci(e,t,n){let o=e.slice();return o[11]=t[n].name,o}function xi(e){let t,n=e[11]+"",o,i,r,s,c;function l(){return e[4](e[11])}function a(){return e[5](e[11])}return{c(){t=E("button"),o=q(n),i=T(),y(t,"class","tab PopcornUI-cd56hu"),y(t,"data-selected",r=e[1]===e[11])},m(f,u){O(f,t,u),C(t,o),C(t,i),s||(c=[A(t,"click",l),A(t,"keypress",a)],s=!0)},p(f,u){e=f,u&1&&n!==(n=e[11]+"")&&ce(o,n),u&3&&r!==(r=e[1]===e[11])&&y(t,"data-selected",r)},d(f){f&&S(t),s=!1,H(c)}}}function Ei(e){let t,n,o,i,r,s;var c=e[8].component;function l(a){return{}}return c&&(n=$t(c,l(e))),{c(){t=E("div"),n&&j(n.$$.fragment),o=T(),y(t,"class","tab-wrapper PopcornUI-cd56hu"),y(t,"data-selected",i=e[8].name===e[1]),y(t,"data-name",r=e[8].name)},m(a,f){O(a,t,f),n&&L(n,t,null),C(t,o),s=!0},p(a,f){if(f&1&&c!==(c=a[8].component)){if(n){B();let u=n;x(u.$$.fragment,1,0,()=>{M(u,1)}),U()}c?(n=$t(c,l(a)),j(n.$$.fragment),k(n.$$.fragment,1),L(n,t,o)):n=null}(!s||f&3&&i!==(i=a[8].name===a[1]))&&y(t,"data-selected",i),(!s||f&1&&r!==(r=a[8].name))&&y(t,"data-name",r)},i(a){s||(n&&k(n.$$.fragment,a),s=!0)},o(a){n&&x(n.$$.fragment,a),s=!1},d(a){a&&S(t),n&&M(n)}}}function Qs(e){let t,n,o,i,r=e[0],s=[];for(let f=0;f<r.length;f+=1)s[f]=xi(Ci(e,r,f));let c=e[2],l=[];for(let f=0;f<c.length;f+=1)l[f]=Ei(ki(e,c,f));let a=f=>x(l[f],1,1,()=>{l[f]=null});return{c(){t=E("div");for(let f=0;f<s.length;f+=1)s[f].c();n=T();for(let f=0;f<l.length;f+=1)l[f].c();o=ge(),y(t,"class","tab-list PopcornUI-cd56hu")},m(f,u){O(f,t,u);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(t,null);O(f,n,u);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(f,u);O(f,o,u),i=!0},p(f,[u]){if(u&11){r=f[0];let d;for(d=0;d<r.length;d+=1){let m=Ci(f,r,d);s[d]?s[d].p(m,u):(s[d]=xi(m),s[d].c(),s[d].m(t,null))}for(;d<s.length;d+=1)s[d].d(1);s.length=r.length}if(u&7){c=f[2];let d;for(d=0;d<c.length;d+=1){let m=ki(f,c,d);l[d]?(l[d].p(m,u),k(l[d],1)):(l[d]=Ei(m),l[d].c(),k(l[d],1),l[d].m(o.parentNode,o))}for(B(),d=c.length;d<l.length;d+=1)a(d);U()}},i(f){if(!i){for(let u=0;u<c.length;u+=1)k(l[u]);i=!0}},o(f){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)x(l[u]);i=!1},d(f){f&&S(t),Se(s,f),f&&S(n),Se(l,f),f&&S(o)}}}function Ws(e,t,n){let{tabs:o}=t,i=o?.[0]?.name,r=[i];function s(f){n(1,i=f),r.includes(f)||r.push(f)}let c=f=>s(f),l=f=>s(f),a=(f,u)=>u.name===f;return e.$$set=f=>{"tabs"in f&&n(0,o=f.tabs)},[o,i,r,s,c,l,a]}var Mn=class extends R{constructor(t){super(),z(this,t,Ws,Qs,D,{tabs:0})}},Si=Mn;var Fi=(e,t)=>{let n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(o=>Object.prototype.hasOwnProperty.call(t,o)&&e[o]===t[o])},Ks=(e,t)=>e.length===t.length&&e.every((n,o)=>Fi(n,t[o])),Gs=(e,t)=>{if(e.length<t.length)return!1;let n=e.length-t.length;for(let o=t.length-1;o>=0;o-=1)if(!Fi(e[n+o],t[o]))return!1;return!0},Pi=e=>e.reduce((t,n)=>({...t,[n]:!0}),{}),Ai=["ctrl","shift","alt","meta"],Xs=Pi(Ai),Ys=e=>Object.keys(e).filter(t=>!Xs[t]).length===1,Tt=(e,t)=>{if(!e)throw new Error(t)},Mt=(e,t,n)=>{Tt(typeof e===n,`The ${t} must be a ${n}; given ${typeof e}`)},Ti=e=>e.split(/ +/g).map(t=>{let n=t.split("+").filter(Boolean),o=Pi(n);return Tt(Object.keys(o).length>=n.length,`Hotkey combination has duplicates "${e}"`),Tt(Ys(o),`Invalid hotkey combination: "${e}"`),o}),Js=(e,t)=>{Mt(e,"hotkey","string"),Mt(t,"callback","function")},Oi=(e,t)=>(n,o)=>{Js(n,o),t(e,n,o)},Zs=(e,t,n)=>{e.push({hotkey:Ti(t),callback:n})},el=(e,t,n)=>{let o=Ti(t),i=e.findIndex(r=>r.callback===n&&Ks(o,r.hotkey));i!==-1&&e.splice(i,1)},tl=(e,t)=>{let n=null;return()=>{clearTimeout(n),n=setTimeout(e,t)}},nl=e=>{switch(e){case"+":return"plus";case" ":return"space";default:return e.toLowerCase()}},ol=(e,t)=>{let n=[],o=tl(()=>{n=[]},t);return i=>{if(i.repeat||i.getModifierState(i.key))return;o();let r={[nl(i.key)]:!0};Ai.forEach(s=>{i[`${s}Key`]&&(r[s]=!0)}),n.push(r),e.forEach(s=>{Gs(n,s.hotkey)&&s.callback(i)})}},il=e=>{let{debounceTime:t=500,autoEnable:n=!0}=e||{};return Mt(t,"debounceTime","number"),Tt(t>0,"debounceTime must be > 0"),Mt(n,"autoEnable","boolean"),{debounceTime:t,autoEnable:n}},Mi=e=>{let{debounceTime:t,autoEnable:n}=il(e),o=[],i=ol(o,t),r=()=>document.addEventListener("keydown",i),s=()=>document.removeEventListener("keydown",i);return n&&r(),{register:Oi(o,Zs),unregister:Oi(o,el),enable:r,disable:s}};function rl(e){let t,n,o,i,r;return n=new Si({props:{tabs:e[1]}}),{c(){t=E("dialog"),j(n.$$.fragment),o=T(),i=E("div"),y(i,"id","PopcornUI-layers"),y(t,"class","PopcornUI-dialog PopcornUI-6ipy8a")},m(s,c){O(s,t,c),L(n,t,null),C(t,o),C(t,i),e[2](t),r=!0},p:P,i(s){r||(k(n.$$.fragment,s),r=!0)},o(s){x(n.$$.fragment,s),r=!1},d(s){s&&S(t),M(n),e[2](null)}}}function sl(e,t,n){let o,i=!1;function r(){i?o.close():o.showModal(),i=!i,document.documentElement.dataset.popcornUiOpen=i.toString()}Ie(()=>{let l=Mi({autoEnable:!0});l.register(ke.hotkey,a=>{a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault(),r()}),l.register("escape",a=>{i&&(a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault(),r())})});let s=[{name:"Themes",component:vo},{name:"QuickCSS",component:vi}];function c(l){Q[l?"unshift":"push"](()=>{o=l,n(0,o)})}return[o,s,c]}var Ln=class extends R{constructor(t){super(),z(this,t,sl,rl,D,{})}},Li=Ln;var Dn=new Be("IPC");PopcornNative.onStatusMessage(e=>{ke.verbose&&Dn.debug(e),e.type.startsWith(Ct.quickCss)&&ll(e)});function ll(e){let t=e.success?"success":"error";if(!e.success){Dn.warn(e.type,"failed");return}switch(e.type){case ot.quickCss.created:{let{type:o,location:i}=e.data,r=At(i);o==="file"?re.set(r):J.set(r);var n=e.success?`Created ${i} successfully.`:`Failed to create ${i}.`}break;case ot.quickCss.deleted:{let{type:o,location:i}=e.data;o==="file"&&Re(re).location===i?re.set(null):o==="folder"&&Re(J).location===i&&J.set(null);var n=e.success?`Deleted ${i} successfully.`:`Failed to delete ${i}.`}break;case ot.quickCss.renamed:{let{oldLocation:o,newLocation:i}=e.data,r=At(i),s="files"in r?"folder":"file";s==="file"&&Re(re).location===o?re.set(r):s==="folder"&&Re(J).location===o&&J.set(r);var n=e.success?`Renamed ${o} to ${i} successfully.`:`Failed to rename ${o} to ${i}.`}break;case ot.quickCss.updated:var n=e.success?`Updated ${e.data} successfully.`:`Failed to update ${e.data}.`;break;default:Dn.warn(`Unknown status message type: ${e.type}`,e)}n&&ut.set({type:t,message:n})}var Pe={start:document.createComment(" section:Popcorn "),end:document.createComment(" endsection ")},ke=await PopcornNative.config,Ve=!!PopcornNative.validateCSS,gu=new class{async start(){document.head.append(Pe.start,Pe.end);let t=await PopcornNative.getThemes(),n=await PopcornNative.getQuickCss(),o={themes:Co(t),quickCss:n};window.Popcorn=o,new Li({target:document.body}),new it().start(),new ft().start()}};export{Pe as comments,ke as config,gu as default,Ve as shouldValidate};
