var Hi=Object.create;var Mt=Object.defineProperty;var zi=Object.getOwnPropertyDescriptor;var qi=Object.getOwnPropertyNames;var Vi=Object.getPrototypeOf,Bi=Object.prototype.hasOwnProperty;var $i=(e,t,n)=>t in e?Mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ee=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ui=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of qi(t))!Bi.call(e,i)&&i!==n&&Mt(e,i,{get:()=>t[i],enumerable:!(o=zi(t,i))||o.enumerable});return e};var Lt=(e,t,n)=>(n=e!=null?Hi(Vi(e)):{},Ui(t||!e||!e.__esModule?Mt(n,"default",{value:e,enumerable:!0}):n,e));var xe=(e,t,n)=>($i(e,typeof t!="symbol"?t+"":t,n),n),jt=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var Te=(e,t,n)=>(jt(e,t,"read from private field"),n?n.call(e):t.get(e)),ft=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ce=(e,t,n,o)=>(jt(e,t,"write to private field"),o?o.call(e,n):t.set(e,n),n);var Dt=(e,t,n)=>(jt(e,t,"access private method"),n);var dn=ee(Co=>{Co.debounce=function(e,t,n){var o,i,r;t===void 0&&(t=50),n===void 0&&(n={});var s=(o=n.isImmediate)!=null&&o,c=(i=n.callback)!=null&&i,l=n.maxWait,a=Date.now(),f=[];function u(){if(l!==void 0){var m=Date.now()-a;if(m+t>=l)return l-m}return t}var d=function(){var m=[].slice.call(arguments),p=this;return new Promise(function(_,h){var g=s&&r===void 0;if(r!==void 0&&clearTimeout(r),r=setTimeout(function(){if(r=void 0,a=Date.now(),!s){var v=e.apply(p,m);c&&c(v),f.forEach(function(y){return(0,y.resolve)(v)}),f=[]}},u()),g){var k=e.apply(p,m);return c&&c(k),_(k)}f.push({resolve:_,reject:h})})};return d.cancel=function(m){r!==void 0&&clearTimeout(r),f.forEach(function(p){return(0,p.reject)(m)}),f=[]},d}});var pn=ee(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});function So(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Eo(Object(n),!0).forEach(function(o){So(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Oo(e,t){if(e==null)return{};var n={},o=Object.keys(e),i,r;for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Dr(e,t){if(e==null)return{};var n=Oo(e,t),o,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function Rr(e,t){return Fo(e)||Po(e,t)||Ao(e,t)||To()}function Fo(e){if(Array.isArray(e))return e}function Po(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],o=!0,i=!1,r=void 0;try{for(var s=e[Symbol.iterator](),c;!(o=(c=s.next()).done)&&(n.push(c.value),!(t&&n.length===t));o=!0);}catch(l){i=!0,r=l}finally{try{!o&&s.return!=null&&s.return()}finally{if(i)throw r}}return n}}function Ao(e,t){if(e){if(typeof e=="string")return mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mn(e,t)}}function mn(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function To(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}ie.arrayLikeToArray=mn;ie.arrayWithHoles=Fo;ie.defineProperty=So;ie.iterableToArrayLimit=Po;ie.nonIterableRest=To;ie.objectSpread2=jr;ie.objectWithoutProperties=Dr;ie.objectWithoutPropertiesLoose=Oo;ie.slicedToArray=Rr;ie.unsupportedIterableToArray=Ao});var Do=ee((Pc,jo)=>{"use strict";function Nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function Lo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mo(Object(n),!0).forEach(function(o){Nr(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mo(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Ir(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(o){return t.reduceRight(function(i,r){return r(i)},o)}}function rt(e){return function t(){for(var n=this,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];return t.apply(n,[].concat(i,c))}}}function Et(e){return{}.toString.call(e).includes("Object")}function Hr(e){return!Object.keys(e).length}function st(e){return typeof e=="function"}function zr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qr(e,t){return Et(t)||ke("changeType"),Object.keys(t).some(function(n){return!zr(e,n)})&&ke("changeField"),t}function Vr(e){st(e)||ke("selectorType")}function Br(e){st(e)||Et(e)||ke("handlerType"),Et(e)&&Object.values(e).some(function(t){return!st(t)})&&ke("handlersType")}function $r(e){e||ke("initialIsRequired"),Et(e)||ke("initialType"),Hr(e)&&ke("initialContent")}function Ur(e,t){throw new Error(e[t]||e.default)}var Qr={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ke=rt(Ur)(Qr),Ct={changes:qr,selector:Vr,handler:Br,initial:$r};function Wr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ct.initial(e),Ct.handler(t);var n={current:e},o=rt(Xr)(n,t),i=rt(Gr)(n),r=rt(Ct.changes)(e),s=rt(Kr)(n);function c(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return Ct.selector(a),a(n.current)}function l(a){Ir(o,i,r,s)(a)}return[c,l]}function Kr(e,t){return st(t)?t(e.current):t}function Gr(e,t){return e.current=Lo(Lo({},e.current),t),t}function Xr(e,t,n){return st(t)?t(e.current):Object.keys(n).forEach(function(o){var i;return(i=t[o])===null||i===void 0?void 0:i.call(t,e.current[o])}),n}var Yr={create:Wr};jo.exports=Yr});var Ro=ee(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});var Jr={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.36.1/min/vs"}};hn.default=Jr});var No=ee(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});function Zr(e){return function t(){for(var n=this,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];return t.apply(n,[].concat(i,c))}}}_n.default=Zr});var Io=ee(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});function es(e){return{}.toString.call(e).includes("Object")}gn.default=es});var Ho=ee(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});var ts=No(),ns=Io();function os(e){return e||bn("configIsRequired"),ns.default(e)||bn("configType"),e.urls?(is(),{paths:{vs:e.urls.monacoBase}}):e}function is(){console.warn(yn.deprecation)}function rs(e,t){throw new Error(e[t]||e.default)}var yn={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},bn=ts.default(rs)(yn),ss={config:os};lt.default=ss;lt.errorHandler=bn;lt.errorMessages=yn});var zo=ee(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});var ls=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return function(i){return n.reduceRight(function(r,s){return s(r)},i)}};vn.default=ls});var Bo=ee(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});var qo=pn();function Vo(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],Vo(e[n],t[n]))}),qo.objectSpread2(qo.objectSpread2({},e),t)}wn.default=Vo});var Uo=ee(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});var $o={type:"cancelation",msg:"operation is manually canceled"};function cs(e){var t=!1,n=new Promise(function(o,i){e.then(function(r){return t?i($o):o(r)}),e.catch(i)});return n.cancel=function(){return t=!0},n}St.CANCELATION_MESSAGE=$o;St.default=cs});var Go=ee(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});var Qo=pn(),as=Do(),us=Ro(),fs=Ho(),ds=zo(),ms=Bo(),kn=Uo();function ps(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var hs=ps(as),_s=hs.default.create({config:us.default,isInitialized:!1,resolve:null,reject:null,monaco:null}),Wo=Qo.slicedToArray(_s,2),ct=Wo[0],Ot=Wo[1];function gs(e){var t=fs.default.config(e),n=t.monaco,o=Qo.objectWithoutProperties(t,["monaco"]);Ot(function(i){return{config:ms.default(i.config,o),monaco:n}})}function bs(){var e=ct(function(t){var n=t.monaco,o=t.isInitialized,i=t.resolve;return{monaco:n,isInitialized:o,resolve:i}});if(!e.isInitialized){if(Ot({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),kn.default(xn);if(window.monaco&&window.monaco.editor)return Ko(window.monaco),e.resolve(window.monaco),kn.default(xn);ds.default(ys,ws)(ks)}return kn.default(xn)}function ys(e){return document.body.appendChild(e)}function vs(e){var t=document.createElement("script");return e&&(t.src=e),t}function ws(e){var t=ct(function(o){var i=o.config,r=o.reject;return{config:i,reject:r}}),n=vs("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function ks(){var e=ct(function(n){var o=n.config,i=n.resolve,r=n.reject;return{config:o,resolve:i,reject:r}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){Ko(n),e.resolve(n)},function(n){e.reject(n)})}function Ko(e){ct().monaco||Ot({monaco:e})}function xs(){return ct(function(e){var t=e.monaco;return t})}var xn=new Promise(function(e,t){return Ot({resolve:e,reject:t})}),Cs={config:gs,init:bs,__getMonacoInstance:xs};Cn.default=Cs});var Xo=ee(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});var Es=Go();En.default=Es.default});var Qi=e=>{let t=new Set;do for(let n of Reflect.ownKeys(e))t.add([e,n]);while((e=Reflect.getPrototypeOf(e))&&e!==Object.prototype);return t};function Rt(e,{include:t,exclude:n}={}){let o=i=>{let r=s=>typeof s=="string"?i===s:s.test(i);return t?t.some(r):n?!n.some(r):!0};for(let[i,r]of Qi(e.constructor.prototype)){if(r==="constructor"||!o(r))continue;let s=Reflect.getOwnPropertyDescriptor(i,r);s&&typeof s.value=="function"&&(e[r]=e[r].bind(e))}return e}function F(){}function In(e,t){for(let n in t)e[n]=t[n];return e}function qt(e){return e()}function Nn(){return Object.create(null)}function H(e){e.forEach(qt)}function Y(e){return typeof e=="function"}function R(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Hn(e){return Object.keys(e).length===0}function De(e,...t){if(e==null)return F;let n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Re(e){let t;return De(e,n=>t=n)(),t}function te(e,t,n){e.$$.on_destroy.push(De(t,n))}function mt(e,t,n){return e.set(n),t}function Vt(e){return e&&Y(e.destroy)?e.destroy:F}var pt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,Qe=class{constructor(t){this.options=t,this._listeners="WeakMap"in pt?new WeakMap:void 0}observe(t,n){return this._listeners.set(t,n),this._getObserver().observe(t,this.options),()=>{this._listeners.delete(t),this._observer.unobserve(t)}}_getObserver(){var t;return(t=this._observer)!==null&&t!==void 0?t:this._observer=new ResizeObserver(n=>{var o;for(let i of n)Qe.entries.set(i.target,i),(o=this._listeners.get(i.target))===null||o===void 0||o(i)})}};Qe.entries="WeakMap"in pt?new WeakMap:void 0;var zn=!1;function Wi(){zn=!0}function Ki(){zn=!1}function C(e,t){e.appendChild(t)}function S(e,t,n){e.insertBefore(t,n||null)}function E(e){e.parentNode&&e.parentNode.removeChild(e)}function Se(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function O(e){return document.createElement(e)}function qn(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function V(e){return document.createTextNode(e)}function A(){return V(" ")}function _e(){return V("")}function T(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function Ne(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function ht(e){return function(t){t.target===this&&e.call(this,t)}}function b(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Bt(e,t){for(let n in t)b(e,n,t[n])}function Gi(e){return Array.from(e.childNodes)}function ce(e,t){t=""+t,e.data!==t&&(e.data=t)}function ge(e,t,n,o){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function Xi(e,t,{bubbles:n=!1,cancelable:o=!1}={}){let i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,o,t),i}function $t(e,t){return new e(t)}var We;function Ue(e){We=e}function Vn(){if(!We)throw new Error("Function called outside component initialization");return We}function Ie(e){Vn().$$.on_mount.push(e)}function Ke(){let e=Vn();return(t,n,{cancelable:o=!1}={})=>{let i=e.$$.callbacks[t];if(i){let r=Xi(t,n,{cancelable:o});return i.slice().forEach(s=>{s.call(e,r)}),!r.defaultPrevented}return!0}}var Le=[];var W=[],je=[],It=[],Yi=Promise.resolve(),Ht=!1;function Ji(){Ht||(Ht=!0,Yi.then(Bn))}function zt(e){je.push(e)}function Ut(e){It.push(e)}var Nt=new Set,Me=0;function Bn(){if(Me!==0)return;let e=We;do{try{for(;Me<Le.length;){let t=Le[Me];Me++,Ue(t),Zi(t.$$)}}catch(t){throw Le.length=0,Me=0,t}for(Ue(null),Le.length=0,Me=0;W.length;)W.pop()();for(let t=0;t<je.length;t+=1){let n=je[t];Nt.has(n)||(Nt.add(n),n())}je.length=0}while(Le.length);for(;It.length;)It.pop()();Ht=!1,Nt.clear(),Ue(e)}function Zi(e){if(e.fragment!==null){e.update(),H(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(zt)}}function er(e){let t=[],n=[];je.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),je=t}var dt=new Set,Ee;function B(){Ee={r:0,c:[],p:Ee}}function $(){Ee.r||H(Ee.c),Ee=Ee.p}function w(e,t){e&&e.i&&(dt.delete(e),e.i(t))}function x(e,t,n,o){if(e&&e.o){if(dt.has(e))return;dt.add(e),Ee.c.push(()=>{dt.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}function $n(e,t){let n={},o={},i={$$scope:1},r=e.length;for(;r--;){let s=e[r],c=t[r];if(c){for(let l in s)l in c||(o[l]=1);for(let l in c)i[l]||(n[l]=c[l],i[l]=1);e[r]=c}else for(let l in s)i[l]=1}for(let s in o)s in n||(n[s]=void 0);return n}var tr=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],dl=new Set([...tr]);function Qt(e,t,n){let o=e.$$.props[t];o!==void 0&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function D(e){e&&e.c()}function L(e,t,n,o){let{fragment:i,after_update:r}=e.$$;i&&i.m(t,n),o||zt(()=>{let s=e.$$.on_mount.map(qt).filter(Y);e.$$.on_destroy?e.$$.on_destroy.push(...s):H(s),e.$$.on_mount=[]}),r.forEach(zt)}function M(e,t){let n=e.$$;n.fragment!==null&&(er(n.after_update),H(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function nr(e,t){e.$$.dirty[0]===-1&&(Le.push(e),Ji(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function z(e,t,n,o,i,r,s,c=[-1]){let l=We;Ue(e);let a=e.$$={fragment:null,ctx:[],props:r,update:F,not_equal:i,bound:Nn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Nn(),dirty:c,skip_bound:!1,root:t.target||l.$$.root};s&&s(a.root);let f=!1;if(a.ctx=n?n(e,t.props||{},(u,d,...m)=>{let p=m.length?m[0]:d;return a.ctx&&i(a.ctx[u],a.ctx[u]=p)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](p),f&&nr(e,u)),d}):[],a.update(),f=!0,H(a.before_update),a.fragment=o?o(a.ctx):!1,t.target){if(t.hydrate){Wi();let u=Gi(t.target);a.fragment&&a.fragment.l(u),u.forEach(E)}else a.fragment&&a.fragment.c();t.intro&&w(e.$$.fragment),L(e,t.target,t.anchor,t.customElement),Ki(),Bn()}Ue(l)}var or;typeof HTMLElement=="function"&&(or=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(qt).filter(Y);for(let t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){H(this.$$.on_disconnect)}$destroy(){M(this,1),this.$destroy=F}$on(e,t){if(!Y(t))return F;let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let o=n.indexOf(t);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!Hn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});var N=class{$destroy(){M(this,1),this.$destroy=F}$on(t,n){if(!Y(n))return F;let o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{let i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(t){this.$$set&&!Hn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};var He=[];function pe(e,t=F){let n,o=new Set;function i(c){if(R(e,c)&&(e=c,n)){let l=!He.length;for(let a of o)a[1](),He.push(a,e);if(l){for(let a=0;a<He.length;a+=2)He[a][0](He[a+1]);He.length=0}}}function r(c){i(c(e))}function s(c,l=F){let a=[c,l];return o.add(a),o.size===1&&(n=t(i)||F),c(e),()=>{o.delete(a),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:s}}function Xe(e){return e.split("-")[1]}function Xt(e){return e==="y"?"height":"width"}function Oe(e){return e.split("-")[0]}function Ye(e){return["top","bottom"].includes(Oe(e))?"x":"y"}function Un(e,t,n){let{reference:o,floating:i}=e,r=o.x+o.width/2-i.width/2,s=o.y+o.height/2-i.height/2,c=Ye(t),l=Xt(c),a=o[l]/2-i[l]/2,f=Oe(t),u=c==="x",d;switch(f){case"top":d={x:r,y:o.y-i.height};break;case"bottom":d={x:r,y:o.y+o.height};break;case"right":d={x:o.x+o.width,y:s};break;case"left":d={x:o.x-i.width,y:s};break;default:d={x:o.x,y:o.y}}switch(Xe(t)){case"start":d[c]-=a*(n&&u?-1:1);break;case"end":d[c]+=a*(n&&u?-1:1);break}return d}var Qn=async(e,t,n)=>{let{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:s}=n,c=r.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t)),a=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:u}=Un(a,o,l),d=o,m={},p=0;for(let _=0;_<c.length;_++){let{name:h,fn:g}=c[_],{x:k,y:v,data:y,reset:P}=await g({x:f,y:u,initialPlacement:o,placement:d,strategy:i,middlewareData:m,rects:a,platform:s,elements:{reference:e,floating:t}});if(f=k??f,u=v??u,m={...m,[h]:{...m[h],...y}},P&&p<=50){p++,typeof P=="object"&&(P.placement&&(d=P.placement),P.rects&&(a=P.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):P.rects),{x:f,y:u}=Un(a,d,l)),_=-1;continue}}return{x:f,y:u,placement:d,strategy:i,middlewareData:m}};function Je(e,t){return typeof e=="function"?e(t):e}function ir(e){return{top:0,right:0,bottom:0,left:0,...e}}function Wn(e){return typeof e!="number"?ir(e):{top:e,right:e,bottom:e,left:e}}function Ge(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Yt(e,t){var n;t===void 0&&(t={});let{x:o,y:i,platform:r,rects:s,elements:c,strategy:l}=e,{boundary:a="clippingAncestors",rootBoundary:f="viewport",elementContext:u="floating",altBoundary:d=!1,padding:m=0}=Je(t,e),p=Wn(m),h=c[d?u==="floating"?"reference":"floating":u],g=Ge(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(h)))==null||n?h:h.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(c.floating)),boundary:a,rootBoundary:f,strategy:l})),k=u==="floating"?{...s.floating,x:o,y:i}:s.reference,v=await(r.getOffsetParent==null?void 0:r.getOffsetParent(c.floating)),y=await(r.isElement==null?void 0:r.isElement(v))?await(r.getScale==null?void 0:r.getScale(v))||{x:1,y:1}:{x:1,y:1},P=Ge(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:k,offsetParent:v,strategy:l}):k);return{top:(g.top-P.top+p.top)/y.y,bottom:(P.bottom-g.bottom+p.bottom)/y.y,left:(g.left-P.left+p.left)/y.x,right:(P.right-g.right+p.right)/y.x}}var Wt=Math.min,rr=Math.max;function Kt(e,t,n){return rr(e,Wt(t,n))}var Jt=e=>({name:"arrow",options:e,async fn(t){let{x:n,y:o,placement:i,rects:r,platform:s,elements:c}=t,{element:l,padding:a=0}=Je(e,t)||{};if(l==null)return{};let f=Wn(a),u={x:n,y:o},d=Ye(i),m=Xt(d),p=await s.getDimensions(l),_=d==="y",h=_?"top":"left",g=_?"bottom":"right",k=_?"clientHeight":"clientWidth",v=r.reference[m]+r.reference[d]-u[d]-r.floating[m],y=u[d]-r.reference[d],P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l)),I=P?P[k]:0;(!I||!await(s.isElement==null?void 0:s.isElement(P)))&&(I=c.floating[k]||r.floating[m]);let U=v/2-y/2,K=I/2-p[m]/2-1,fe=Wt(f[h],K),de=Wt(f[g],K),j=fe,q=I-p[m]-de,Q=I/2-p[m]/2+U,G=Kt(j,Q,q),le=Xe(i)!=null&&Q!=G&&r.reference[m]/2-(Q<j?fe:de)-p[m]/2<0?Q<j?j-Q:q-Q:0;return{[d]:u[d]-le,data:{[d]:G,centerOffset:Q-G}}}});var sr={left:"right",right:"left",bottom:"top",top:"bottom"};function _t(e){return e.replace(/left|right|bottom|top/g,t=>sr[t])}function lr(e,t,n){n===void 0&&(n=!1);let o=Xe(e),i=Ye(e),r=Xt(i),s=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(s=_t(s)),{main:s,cross:_t(s)}}var cr={start:"end",end:"start"};function Gt(e){return e.replace(/start|end/g,t=>cr[t])}function ar(e){let t=_t(e);return[Gt(e),t,Gt(t)]}function ur(e,t,n){let o=["left","right"],i=["right","left"],r=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:o:t?o:i;case"left":case"right":return t?r:s;default:return[]}}function fr(e,t,n,o){let i=Xe(e),r=ur(Oe(e),n==="start",o);return i&&(r=r.map(s=>s+"-"+i),t&&(r=r.concat(r.map(Gt)))),r}var Zt=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;let{placement:o,middlewareData:i,rects:r,initialPlacement:s,platform:c,elements:l}=t,{mainAxis:a=!0,crossAxis:f=!0,fallbackPlacements:u,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,..._}=Je(e,t),h=Oe(o),g=Oe(s)===s,k=await(c.isRTL==null?void 0:c.isRTL(l.floating)),v=u||(g||!p?[_t(s)]:ar(s));!u&&m!=="none"&&v.push(...fr(s,p,m,k));let y=[s,...v],P=await Yt(t,_),I=[],U=((n=i.flip)==null?void 0:n.overflows)||[];if(a&&I.push(P[h]),f){let{main:j,cross:q}=lr(o,r,k);I.push(P[j],P[q])}if(U=[...U,{placement:o,overflows:I}],!I.every(j=>j<=0)){var K,fe;let j=(((K=i.flip)==null?void 0:K.index)||0)+1,q=y[j];if(q)return{data:{index:j,overflows:U},reset:{placement:q}};let Q=(fe=U.filter(G=>G.overflows[0]<=0).sort((G,se)=>G.overflows[1]-se.overflows[1])[0])==null?void 0:fe.placement;if(!Q)switch(d){case"bestFit":{var de;let G=(de=U.map(se=>[se.placement,se.overflows.filter(le=>le>0).reduce((le,me)=>le+me,0)]).sort((se,le)=>se[1]-le[1])[0])==null?void 0:de[0];G&&(Q=G);break}case"initialPlacement":Q=s;break}if(o!==Q)return{reset:{placement:Q}}}return{}}}};async function dr(e,t){let{placement:n,platform:o,elements:i}=e,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),s=Oe(n),c=Xe(n),l=Ye(n)==="x",a=["left","top"].includes(s)?-1:1,f=r&&l?-1:1,u=Je(t,e),{mainAxis:d,crossAxis:m,alignmentAxis:p}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return c&&typeof p=="number"&&(m=c==="end"?p*-1:p),l?{x:m*f,y:d*a}:{x:d*a,y:m*f}}var en=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){let{x:n,y:o}=t,i=await dr(t,e);return{x:n+i.x,y:o+i.y,data:i}}}};function mr(e){return e==="x"?"y":"x"}var tn=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:n,y:o,placement:i}=t,{mainAxis:r=!0,crossAxis:s=!1,limiter:c={fn:h=>{let{x:g,y:k}=h;return{x:g,y:k}}},...l}=Je(e,t),a={x:n,y:o},f=await Yt(t,l),u=Ye(Oe(i)),d=mr(u),m=a[u],p=a[d];if(r){let h=u==="y"?"top":"left",g=u==="y"?"bottom":"right",k=m+f[h],v=m-f[g];m=Kt(k,m,v)}if(s){let h=d==="y"?"top":"left",g=d==="y"?"bottom":"right",k=p+f[h],v=p-f[g];p=Kt(k,p,v)}let _=c.fn({...t,[u]:m,[d]:p});return{..._,data:{x:_.x-n,y:_.y-o}}}}};function ne(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ae(e){return ne(e).getComputedStyle(e)}function eo(e){return e instanceof ne(e).Node}function be(e){return eo(e)?(e.nodeName||"").toLowerCase():""}function ue(e){return e instanceof ne(e).HTMLElement}function J(e){return e instanceof ne(e).Element}function Kn(e){if(typeof ShadowRoot>"u")return!1;let t=ne(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function tt(e){let{overflow:t,overflowX:n,overflowY:o,display:i}=ae(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(i)}function pr(e){return["table","td","th"].includes(be(e))}function nn(e){let t=on(),n=ae(e);return n.transform!=="none"||n.perspective!=="none"||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function on(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bt(e){return["html","body","#document"].includes(be(e))}var Gn=Math.min,Ze=Math.max,gt=Math.round;function to(e){let t=ae(e),n=parseFloat(t.width)||0,o=parseFloat(t.height)||0,i=ue(e),r=i?e.offsetWidth:n,s=i?e.offsetHeight:o,c=gt(n)!==r||gt(o)!==s;return c&&(n=r,o=s),{width:n,height:o,fallback:c}}function no(e){return J(e)?e:e.contextElement}var oo={x:1,y:1};function ze(e){let t=no(e);if(!ue(t))return oo;let n=t.getBoundingClientRect(),{width:o,height:i,fallback:r}=to(t),s=(r?gt(n.width):n.width)/o,c=(r?gt(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}var Xn={x:0,y:0};function io(e,t,n){var o,i;if(t===void 0&&(t=!0),!on())return Xn;let r=e?ne(e):window;return!n||t&&n!==r?Xn:{x:((o=r.visualViewport)==null?void 0:o.offsetLeft)||0,y:((i=r.visualViewport)==null?void 0:i.offsetTop)||0}}function Fe(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);let i=e.getBoundingClientRect(),r=no(e),s=oo;t&&(o?J(o)&&(s=ze(o)):s=ze(e));let c=io(r,n,o),l=(i.left+c.x)/s.x,a=(i.top+c.y)/s.y,f=i.width/s.x,u=i.height/s.y;if(r){let d=ne(r),m=o&&J(o)?ne(o):o,p=d.frameElement;for(;p&&o&&m!==d;){let _=ze(p),h=p.getBoundingClientRect(),g=getComputedStyle(p);h.x+=(p.clientLeft+parseFloat(g.paddingLeft))*_.x,h.y+=(p.clientTop+parseFloat(g.paddingTop))*_.y,l*=_.x,a*=_.y,f*=_.x,u*=_.y,l+=h.x,a+=h.y,p=ne(p).frameElement}}return Ge({width:f,height:u,x:l,y:a})}function ye(e){return((eo(e)?e.ownerDocument:e.document)||window.document).documentElement}function yt(e){return J(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function hr(e){let{rect:t,offsetParent:n,strategy:o}=e,i=ue(n),r=ye(n);if(n===r)return t;let s={scrollLeft:0,scrollTop:0},c={x:1,y:1},l={x:0,y:0};if((i||!i&&o!=="fixed")&&((be(n)!=="body"||tt(r))&&(s=yt(n)),ue(n))){let a=Fe(n);c=ze(n),l.x=a.x+n.clientLeft,l.y=a.y+n.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-s.scrollLeft*c.x+l.x,y:t.y*c.y-s.scrollTop*c.y+l.y}}function ro(e){return Fe(ye(e)).left+yt(e).scrollLeft}function _r(e){let t=ye(e),n=yt(e),o=e.ownerDocument.body,i=Ze(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),r=Ze(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight),s=-n.scrollLeft+ro(e),c=-n.scrollTop;return ae(o).direction==="rtl"&&(s+=Ze(t.clientWidth,o.clientWidth)-i),{width:i,height:r,x:s,y:c}}function qe(e){if(be(e)==="html")return e;let t=e.assignedSlot||e.parentNode||Kn(e)&&e.host||ye(e);return Kn(t)?t.host:t}function so(e){let t=qe(e);return bt(t)?t.ownerDocument.body:ue(t)&&tt(t)?t:so(t)}function et(e,t){var n;t===void 0&&(t=[]);let o=so(e),i=o===((n=e.ownerDocument)==null?void 0:n.body),r=ne(o);return i?t.concat(r,r.visualViewport||[],tt(o)?o:[]):t.concat(o,et(o))}function gr(e,t){let n=ne(e),o=ye(e),i=n.visualViewport,r=o.clientWidth,s=o.clientHeight,c=0,l=0;if(i){r=i.width,s=i.height;let a=on();(!a||a&&t==="fixed")&&(c=i.offsetLeft,l=i.offsetTop)}return{width:r,height:s,x:c,y:l}}function br(e,t){let n=Fe(e,!0,t==="fixed"),o=n.top+e.clientTop,i=n.left+e.clientLeft,r=ue(e)?ze(e):{x:1,y:1},s=e.clientWidth*r.x,c=e.clientHeight*r.y,l=i*r.x,a=o*r.y;return{width:s,height:c,x:l,y:a}}function Yn(e,t,n){let o;if(t==="viewport")o=gr(e,n);else if(t==="document")o=_r(ye(e));else if(J(t))o=br(t,n);else{let i=io(e);o={...t,x:t.x-i.x,y:t.y-i.y}}return Ge(o)}function lo(e,t){let n=qe(e);return n===t||!J(n)||bt(n)?!1:ae(n).position==="fixed"||lo(n,t)}function yr(e,t){let n=t.get(e);if(n)return n;let o=et(e).filter(c=>J(c)&&be(c)!=="body"),i=null,r=ae(e).position==="fixed",s=r?qe(e):e;for(;J(s)&&!bt(s);){let c=ae(s),l=nn(s);!l&&c.position==="fixed"&&(i=null),(r?!l&&!i:!l&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||tt(s)&&!l&&lo(e,s))?o=o.filter(f=>f!==s):i=c,s=qe(s)}return t.set(e,o),o}function vr(e){let{element:t,boundary:n,rootBoundary:o,strategy:i}=e,s=[...n==="clippingAncestors"?yr(t,this._c):[].concat(n),o],c=s[0],l=s.reduce((a,f)=>{let u=Yn(t,f,i);return a.top=Ze(u.top,a.top),a.right=Gn(u.right,a.right),a.bottom=Gn(u.bottom,a.bottom),a.left=Ze(u.left,a.left),a},Yn(t,c,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function wr(e){return to(e)}function Jn(e,t){return!ue(e)||ae(e).position==="fixed"?null:t?t(e):e.offsetParent}function kr(e){let t=qe(e);for(;ue(t)&&!bt(t);){if(nn(t))return t;t=qe(t)}return null}function Zn(e,t){let n=ne(e);if(!ue(e))return n;let o=Jn(e,t);for(;o&&pr(o)&&ae(o).position==="static";)o=Jn(o,t);return o&&(be(o)==="html"||be(o)==="body"&&ae(o).position==="static"&&!nn(o))?n:o||kr(e)||n}function xr(e,t,n){let o=ue(t),i=ye(t),r=n==="fixed",s=Fe(e,!0,r,t),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};if(o||!o&&!r)if((be(t)!=="body"||tt(i))&&(c=yt(t)),ue(t)){let a=Fe(t,!0,r,t);l.x=a.x+t.clientLeft,l.y=a.y+t.clientTop}else i&&(l.x=ro(i));return{x:s.left+c.scrollLeft-l.x,y:s.top+c.scrollTop-l.y,width:s.width,height:s.height}}var Cr={getClippingRect:vr,convertOffsetParentRelativeRectToViewportRelativeRect:hr,isElement:J,getDimensions:wr,getOffsetParent:Zn,getDocumentElement:ye,getScale:ze,async getElementRects(e){let{reference:t,floating:n,strategy:o}=e,i=this.getOffsetParent||Zn,r=this.getDimensions;return{reference:xr(t,await i(n),o),floating:{x:0,y:0,...await r(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>ae(e).direction==="rtl"};function co(e,t,n,o){o===void 0&&(o={});let{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:s=!0,animationFrame:c=!1}=o,l=i||r?[...J(e)?et(e):e.contextElement?et(e.contextElement):[],...et(t)]:[];l.forEach(m=>{let p=!J(m)&&m.toString().includes("V");i&&(!c||p)&&m.addEventListener("scroll",n,{passive:!0}),r&&m.addEventListener("resize",n)});let a=null;s&&(a=new ResizeObserver(()=>{n()}),J(e)&&!c&&a.observe(e),!J(e)&&e.contextElement&&!c&&a.observe(e.contextElement),a.observe(t));let f,u=c?Fe(e):null;c&&d();function d(){let m=Fe(e);u&&(m.x!==u.x||m.y!==u.y||m.width!==u.width||m.height!==u.height)&&n(),u=m,f=requestAnimationFrame(d)}return n(),()=>{var m;l.forEach(p=>{i&&p.removeEventListener("scroll",n),r&&p.removeEventListener("resize",n)}),(m=a)==null||m.disconnect(),a=null,c&&cancelAnimationFrame(f)}}var ao=(e,t,n)=>{let o=new Map,i={platform:Cr,...n},r={...i.platform,_c:o};return Qn(e,t,{...i,platform:r})};var Er=1,rn=async(e,t,n)=>new Promise(o=>{n?.classList.add(e),n?.classList.remove(t),n?.addEventListener("animationend",()=>{n?.classList.remove(e),o()})}),sn=(e,t)=>(uo(t),new Promise(n=>{setTimeout(()=>{uo(t),n()},e)})),fo=()=>Er++,uo=e=>{clearTimeout(e)};var oe={html:!1,target:"body",placement:"top",shiftPadding:0,offset:10,delay:0,constant:!1,visibility:!0,classes:{container:"svooltip",content:"svooltip-content",arrow:"svooltip-arrow",animationEnter:"svooltip-entering",animationLeave:"svooltip-leaving"},middleware:[]};var vt=(e,t)=>{let{content:n,html:o=oe.html,target:i=oe.target,placement:r=oe.placement,shiftPadding:s=oe.shiftPadding,offset:c=oe.offset,delay:l=oe.delay,constant:a=oe.constant,classes:f=oe.classes,middleware:u=oe.middleware,visibility:d=oe.visibility,onMount:m,onDestroy:p}=t,_=d;if(!n)return;let h=typeof i=="string"?document.querySelector(i):i,g={in:typeof l=="number"?l:l[0],out:typeof l=="number"?l:l[1]},k=`svooltip-${fo()}`,v=e.title||n;e.removeAttribute("title");let y,P,I,U=!1,K=!1,fe,de=!1,j=({key:me})=>{(me==="Escape"||me==="Esc")&&le()},q,Q=()=>{y||K||(y=document.createElement("div"),y.setAttribute("id",k),y.setAttribute("role","tooltip"),y.setAttribute("data-placement",r),y.setAttribute("class",f.container),P=document.createElement("span"),P.setAttribute("class",f.content),P[o?"innerHTML":"textContent"]=v,I=document.createElement("div"),I.setAttribute("class",f.arrow),y.append(I),y.append(P))},G=()=>{!y||!I||ao(e,y,{placement:r,middleware:[en(c),Zt(),tn({padding:s}),Jt({element:I}),...u]}).then(({x:me,y:ji,placement:Di,middlewareData:Ri})=>{y.style.left=`${me}px`,y.style.top=`${ji}px`;let{x:Dn,y:Rn}=Ri.arrow,Ni={top:"bottom",right:"left",bottom:"top",left:"right"}[Di.split("-")[0]],Ii=(I.getBoundingClientRect().width/3).toFixed();Object.assign(I.style,{left:Dn!=null?`${Dn}px`:"",top:Rn!=null?`${Rn}px`:"",right:"",bottom:"",[Ni]:`-${Ii}px`})})},se=async()=>{if(!y&&_){if(g.in>0&&(await sn(g.in,fe),de||!U||K||y))return;if(e.setAttribute("aria-describedby",k),Q(),G(),q&&q(),q=co(e,y,G),!h)throw new Error(`[SVooltip] Cannot find \`${h}\``);if(!y)throw new Error("[SVooltip] Tooltip has not been created.");h.append(y),await rn(f.animationEnter,f.animationLeave,y),m?.(),K=!0}},le=async()=>{(y||K)&&(g.out>0&&await sn(g.out,fe),await rn(f.animationLeave,f.animationEnter,y),q&&q(),y&&(e.removeAttribute("aria-describedby"),K=!1,y.remove(),y=null,p?.()))};if(a)se();else return e.addEventListener("mouseenter",se),e.addEventListener("mouseenter",()=>U=!0),e.addEventListener("focus",se),e.addEventListener("mouseleave",le),e.addEventListener("mouseleave",()=>U=!1),e.addEventListener("blur",le),window.addEventListener("keydown",j),{update(me){v=me.content,o=me.html||!1,_=me.visibility||d,y&&P&&(P[o?"innerHTML":"textContent"]=v,G())},destroy(){y&&(e.removeAttribute("aria-describedby"),K=!1,y.remove(),y=null),window.removeEventListener("keydown",j),p?.(),de=!0}}};function Sr(e){let t,n=[{width:e[1]},{height:e[1]},{"stroke-width":"0"},{class:e[2]},e[0].a,e[4],{xmlns:"http://www.w3.org/2000/svg"}],o={};for(let i=0;i<n.length;i+=1)o=In(o,n[i]);return{c(){t=qn("svg"),Bt(t,o)},m(i,r){S(i,t,r),t.innerHTML=e[3]},p(i,[r]){r&8&&(t.innerHTML=i[3]),Bt(t,o=$n(n,[r&2&&{width:i[1]},r&2&&{height:i[1]},{"stroke-width":"0"},r&4&&{class:i[2]},r&1&&i[0].a,r&16&&i[4],{xmlns:"http://www.w3.org/2000/svg"}]))},i:F,o:F,d(i){i&&E(t)}}}function Or(e,t,n){let{src:o}=t,{size:i="1em"}=t,{color:r=void 0}=t,{title:s=void 0}=t,{className:c=""}=t,l,a;return e.$$set=f=>{"src"in f&&n(0,o=f.src),"size"in f&&n(1,i=f.size),"color"in f&&n(5,r=f.color),"title"in f&&n(6,s=f.title),"className"in f&&n(2,c=f.className)},e.$$.update=()=>{if(e.$$.dirty&33)e:n(4,a={}),r&&(o.a.stroke!=="none"&&n(4,a.stroke=r,a),o.a.fill!=="none"&&n(4,a.fill=r,a));if(e.$$.dirty&65)e:n(3,l=(s?`<title>${s}</title>`:"")+o.c)},[o,i,c,l,a,r,s]}var ln=class extends N{constructor(t){super(),z(this,t,Or,Sr,R,{src:0,size:1,color:5,title:6,className:2})}},X=ln;var mo={a:{viewBox:"0 0 24 24"},c:`<g><path fill="none" d="M0 0H24V24H0z"></path>
<path d="M12 19c.828 0 1.5.672 1.5 1.5S12.828 22 12 22s-1.5-.672-1.5-1.5.672-1.5 1.5-1.5zm0-17c3.314 0 6 2.686 6 6 0 2.165-.753 3.29-2.674 4.923C13.399 14.56 13 15.297 13 17h-2c0-2.474.787-3.695 3.031-5.601C15.548 10.11 16 9.434 16 8c0-2.21-1.79-4-4-4S8 5.79 8 8v1H6V8c0-3.314 2.686-6 6-6z"></path></g>`};var po={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" clip-rule="evenodd" d="M14.431 3.323l-8.47 10-.79-.036-3.35-4.77.818-.574 2.978 4.24 8.051-9.506.764.646z"></path>'};var ho={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" clip-rule="evenodd" d="M7.116 8l-4.558 4.558.884.884L8 8.884l4.558 4.558.884-.884L8.884 8l4.558-4.558-.884-.884L8 7.116 3.442 2.558l-.884.884L7.116 8z"></path>'};function _o(e,t,n){let o=e.slice();o[4]=t[n];let i=o[1][o[4]];return o[5]=i,o}function Fr(e){let t,n,o,i;return t=new X({props:{color:"currentColor",src:mo}}),{c(){D(t.$$.fragment),n=A(),o=O("span"),o.textContent="Validity Unknown",b(o,"class","theme-validity-text")},m(r,s){L(t,r,s),S(r,n,s),S(r,o,s),i=!0},p:F,i(r){i||(w(t.$$.fragment,r),i=!0)},o(r){x(t.$$.fragment,r),i=!1},d(r){M(t,r),r&&E(n),r&&E(o)}}}function Pr(e){let t,n,o,i;return t=new X({props:{color:"currentColor",src:ho}}),{c(){D(t.$$.fragment),n=A(),o=O("span"),o.textContent="Invalid",b(o,"class","theme-validity-text")},m(r,s){L(t,r,s),S(r,n,s),S(r,o,s),i=!0},p:F,i(r){i||(w(t.$$.fragment,r),i=!0)},o(r){x(t.$$.fragment,r),i=!1},d(r){M(t,r),r&&E(n),r&&E(o)}}}function Ar(e){let t,n,o,i;return t=new X({props:{color:"currentColor",src:po}}),{c(){D(t.$$.fragment),n=A(),o=O("span"),o.textContent="Valid",b(o,"class","theme-validity-text")},m(r,s){L(t,r,s),S(r,n,s),S(r,o,s),i=!0},p:F,i(r){i||(w(t.$$.fragment,r),i=!0)},o(r){x(t.$$.fragment,r),i=!1},d(r){M(t,r),r&&E(n),r&&E(o)}}}function go(e){let t,n,o=e[4]+"",i,r,s,c,l,a,f,u,d,m,p=e[5].enabled?"Disable":"Enable",_,h,g,k,v,y,P,I=[Ar,Pr,Fr],U=[];function K(j,q){return j[5].valid===!0?0:j[5].valid===!1?1:2}l=K(e,-1),a=U[l]=I[l](e);function fe(){return e[2](e[4])}function de(){return e[3](e[4])}return{c(){t=O("div"),n=O("h1"),i=V(o),r=A(),s=O("div"),c=O("div"),a.c(),d=A(),m=O("button"),_=V(p),h=A(),b(n,"class","theme-id PopcornUI-fvjo5t"),b(c,"class","theme-validity PopcornUI-fvjo5t"),b(c,"data-value",f=e[5].valid),b(s,"class","theme-meta PopcornUI-fvjo5t"),b(m,"class","theme-toggle PopcornUI-fvjo5t"),b(t,"class","theme-container PopcornUI-fvjo5t"),b(t,"id",g=e[4]),b(t,"data-enabled",k=e[5].enabled)},m(j,q){S(j,t,q),C(t,n),C(n,i),C(t,r),C(t,s),C(s,c),U[l].m(c,null),C(t,d),C(t,m),C(m,_),C(t,h),v=!0,y||(P=[Vt(u=vt.call(null,c,{content:Mr(e[5].errors),target:"#PopcornUI-layers"})),T(m,"click",fe),T(m,"submit",de)],y=!0)},p(j,q){e=j,a.p(e,q)},i(j){v||(w(a),v=!0)},o(j){x(a),v=!1},d(j){j&&E(t),U[l].d(),y=!1,H(P)}}}function bo(e){let t=e[0][e[4]],n,o,i=go(e);return{c(){i.c(),n=_e()},m(r,s){i.m(r,s),S(r,n,s),o=!0},p(r,s){s&1&&R(t,t=r[0][r[4]])?(B(),x(i,1,1,F),$(),i=go(r),i.c(),w(i,1),i.m(n.parentNode,n)):i.p(r,s)},i(r){o||(w(i),o=!0)},o(r){x(i),o=!1},d(r){r&&E(n),i.d(r)}}}function Tr(e){let t,n,o=Object.keys(e[1]),i=[];for(let s=0;s<o.length;s+=1)i[s]=bo(_o(e,o,s));let r=s=>x(i[s],1,1,()=>{i[s]=null});return{c(){t=O("div");for(let s=0;s<i.length;s+=1)i[s].c();b(t,"class","themes-wrapper PopcornUI-fvjo5t")},m(s,c){S(s,t,c);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(t,null);n=!0},p(s,[c]){if(c&3){o=Object.keys(s[1]);let l;for(l=0;l<o.length;l+=1){let a=_o(s,o,l);i[l]?(i[l].p(a,c),w(i[l],1)):(i[l]=bo(a),i[l].c(),w(i[l],1),i[l].m(t,null))}for(B(),l=o.length;l<i.length;l+=1)r(l);$()}},i(s){if(!n){for(let c=0;c<o.length;c+=1)w(i[c]);n=!0}},o(s){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)x(i[c]);n=!1},d(s){s&&E(t),Se(i,s)}}}var yo=pe({});function wt(e){yo.update(t=>(t[e]=!t[e],t))}function Mr(e){return e.map(t=>`Line ${t.line}: ${t.message}`).join(`
 `)}function Lr(e,t,n){let o;te(e,yo,c=>n(0,o=c));let i=Popcorn.themes;return[o,i,c=>window.Popcorn.themes[c].toggle(),c=>window.Popcorn.themes[c].toggle()]}var cn=class extends N{constructor(t){super(),z(this,t,Lr,Tr,R,{})}},vo=cn;var kt={main:"POPCORN_",quickCss:"QUICKCSS_",themes:"THEMES_"},wo=ko({getConfig:"GET_CONFIG",statusMessage:"STATUS_MESSAGE",getWindowData:"GET_WINDOW_DATA",log:"LOG",getThemes:"GET_THEMES",onThemeChange:"ON_THEME_CHANGE",saveThemeState:"SAVE_THEME_STATE",getQuickCss:"GET_QUICK_CSS",onQuickCssChange:"ON_QUICK_CSS_CHANGE",createQuickCssNode:"CREATE_QUICK_CSS_NODE",deleteQuickCssNode:"DELETE_QUICK_CSS_NODE",renameQuickCssNode:"RENAME_QUICK_CSS_NODE",updateQuickCssFile:"SAVE_QUICK_CSS_FILE"},kt.main),nt={quickCss:ko({created:"CREATED",deleted:"DELETED",renamed:"RENAMED",updated:"UPDATED"},kt.quickCss)};function ko(e,t){let n={};for(let o in e)n[o]=t+e[o];return n}var an=class{module;output;constructor(t,n="console"){this.module=t,this.output=this.#t(n)}#t(t){switch(t){case"ansi":case"terminal":return"ansi";default:return"console"}}#n(t){switch(t){case"info":case"warn":case"error":case"debug":return t;default:return"log"}}#o(t){switch(t){case"debug":return{str:"MediumSpringGreen",arr:[0,250,154]};case"info":return{str:"DeepSkyBlue",arr:[0,191,255]};case"error":return{str:"crimson",arr:[220,20,60]};case"warn":return{str:"DarkOrange",arr:[255,140,0]};default:return{str:"gold",arr:[255,215,0]}}}#i(t,n){return`\x1B[38;2;${t[0]};${t[1]};${t[2]}m${n}\x1B[0m`}async#e(t,n){t=this.#n(t);let o=this.#o(t),i=this.output==="ansi"?[`[${this.#i(o.arr,"Popcorn")} > ${this.module}]`]:[`[%cPopcorn%c > ${this.module}]`,`color: ${o.str};`,""];if(console[t](...i,...n),this.output==="ansi"){let{BrowserWindow:r}=await import("electron");r.getAllWindows().forEach(s=>s.webContents.send(wo.log,t,...n))}}log=(...t)=>this.#e("log",t);info=(...t)=>this.#e("info",t);warn=(...t)=>this.#e("warn",t);error=(...t)=>this.#e("error",t);debug=(...t)=>this.#e("debug",t)},Ve=an;var Be=new Ve("Themes"),he,ve,it,un,$e=class{constructor(t,n){ft(this,it);xe(this,"id");xe(this,"json");ft(this,he,void 0);ft(this,ve,void 0);xe(this,"rev",0);xe(this,"valid","unknown");xe(this,"errors",[]);Rt(this),this.id=t,this.json=n.json,Ce(this,ve,n.enabled),fn&&Dt(this,it,un).call(this),n.enabled&&this.enable(!1)}get enabled(){return Te(this,ve)}set enabled(t){t?this.enable():this.disable(),Ce(this,ve,t)}enable(t=!0){if(Te(this,he)){Be.log(`"${this.id}" is already enabled.`);return}Ce(this,ve,!0);let n=Ce(this,he,document.createElement("link"));n.rel="stylesheet",n.id=this.id,n.href=$e.link+this.id,n.dataset.popcorn="true",Pe.end.before(n),Be.log(`"${this.id}" enabled.`),wt(this.id),t&&PopcornNative.saveThemeState(this.id,!0)}disable(t=!0){if(!Te(this,he)){Be.warn(`"${this.id}" is not enabled.`);return}Ce(this,ve,!1),Te(this,he).remove(),Ce(this,he,null),Be.log(`"${this.id}" disabled.`),wt(this.id),t&&PopcornNative.saveThemeState(this.id,!1)}toggle(t=!0){this.enabled?this.disable(t):this.enable(t)}async update(){Te(this,he).href=$e.link+this.id+`?${++this.rev}`;let n=await(await fetch($e.link+this.id,{cache:"no-store"})).text();fn&&Dt(this,it,un).call(this,n)}},xt=$e;he=new WeakMap,ve=new WeakMap,it=new WeakSet,un=async function(t){t??=await(await fetch($e.link+this.id,{cache:"no-store"})).text(),PopcornNative.validateCSS(t).then(n=>{we.verbose&&Be.debug(`Validated "${this.id}".`,n),this.valid=n.valid,this.errors=n.errors,wt(this.id)}).catch(n=>{Be.error(`Failed to validate "${this.id}".`,n)})},xe(xt,"link",PopcornNative.isSplash?"popcorn://splash-theme/":"popcorn://theme/");var ot=class{start(){this.watchThemes()}watchThemes(){PopcornNative.onThemeChange(({id:t})=>{window.Popcorn.themes[t].update()})}};function xo(e){let t={};for(let n in e)t[n]=new xt(n,e[n]);return t}var Pn=Lt(dn());var Jo=Lt(dn()),Zo=Lt(Xo());var{window:Ss}=pt;function Yo(e){let t;return{c(){t=O("p"),t.textContent="Loading monaco editor...",b(t,"class","loading-overlay")},m(n,o){S(n,t,o)},d(n){n&&E(t)}}}function Os(e){let t,n,o,i,r,s=!e[1]&&Yo(e);return{c(){t=O("div"),s&&s.c(),n=A(),o=O("div"),b(o,"class","monaco-editor PopcornUI-1tm8p33"),b(t,"class","monaco-wrapper")},m(c,l){S(c,t,l),s&&s.m(t,null),C(t,n),C(t,o),e[9](o),i||(r=T(Ss,"resize",(0,Jo.debounce)(e[0],50)),i=!0)},p(c,[l]){c[1]?s&&(s.d(1),s=null):s||(s=Yo(c),s.c(),s.m(t,n))},i:F,o:F,d(c){c&&E(t),s&&s.d(),e[9](null),i=!1,r()}}}function Fs(e,t,n){let o,{editor:i=null}=t,{content:r}=t,{actions:s=[]}=t,{commands:c=[]}=t,{options:l={}}=t,a=Ke(),f=!1;Ie(async()=>{let p=await Zo.default.init();p.editor.onDidCreateEditor(()=>{n(1,f=!0),d(),a("ready")}),n(3,i=p.editor.create(o,{language:"css",theme:"vs-dark",...l,value:r}));let _=c.map(h=>({...h,keybinding:h.keybinding(p.KeyCode,p.KeyMod)}));for(let h of _)i.addCommand(h.keybinding,h.handler,h.context??void 0);for(let h of s){let{id:g,label:k,handler:v}=h;i.addAction({id:"custom."+g,label:k,keybindings:[],run:v})}return i.onDidChangeModelContent(()=>{let h=i.getValue();h!==r&&(n(8,u=!0),n(4,r=h),a("change",r))}),()=>{i.dispose(),n(1,f=!1)}});let u=!1;function d(){f&&window.requestAnimationFrame(()=>{i.layout({width:0,height:0});let p=o.parentElement.getBoundingClientRect();i.layout({width:p.width,height:p.height})})}function m(p){W[p?"unshift":"push"](()=>{o=p,n(2,o)})}return e.$$set=p=>{"editor"in p&&n(3,i=p.editor),"content"in p&&n(4,r=p.content),"actions"in p&&n(5,s=p.actions),"commands"in p&&n(6,c=p.commands),"options"in p&&n(7,l=p.options)},e.$$.update=()=>{if(e.$$.dirty&282)e:typeof r=="string"&&f&&(u||i.getModel().setValue(r),n(8,u=!1))},[d,f,o,i,r,s,c,l,u,m]}var Sn=class extends N{constructor(t){super(),z(this,t,Fs,Os,R,{editor:3,content:4,actions:5,commands:6,options:7,recalculateSize:0})}get recalculateSize(){return this.$$.ctx[0]}},ei=Sn;var ti={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" clip-rule="evenodd" d="M4 7H3V4H0V3h3V0h1v3h3v1H4v3zm6.5-5.9l3.4 3.5.1.4v8.5l-.5.5h-10l-.5-.5V8h1v5h9V6H9V2H5V1h5.2l.3.1zM10 2v3h2.9L10 2z"></path>'};var ni={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" clip-rule="evenodd" d="M7 3H4V0H3v3H0v1h3v3h1V4h3V3zM5.5 7H5V6h.3l.8-.9.4-.1H14V4H8V3h6.5l.5.5v10l-.5.5h-13l-.5-.5V5h1v8h12V6H6.7l-.8.9-.4.1z"></path>'};var oi={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path d="M15 8H1V7h14v1z"></path>'};var ii={a:{viewBox:"0 0 1024 1024"},c:'<path d="M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 0 0-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zm-180 0H238c-13 0-24.8 7.9-29.7 20L136 643.2V256h188.5l119.6 114.4H748V444z"></path>'};var ri={a:{viewBox:"0 0 1024 1024"},c:'<path d="M880 298.4H521L403.7 186.2a8.15 8.15 0 0 0-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32z"></path>'};var si={a:{viewBox:"0 0 512 512"},c:'<path d="M480 32l-64 368-223.3 80L0 400l19.6-94.8h82l-8 40.6L210 390.2l134.1-44.4 18.8-97.1H29.5l16-82h333.7l10.5-52.7H56.3l16.3-82H480z"></path>'};var li={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path d="M8 4c.367 0 .721.048 1.063.145a3.943 3.943 0 0 1 1.762 1.031 3.944 3.944 0 0 1 1.03 1.762c.097.34.145.695.145 1.062 0 .367-.048.721-.145 1.063a3.94 3.94 0 0 1-1.03 1.765 4.017 4.017 0 0 1-1.762 1.031C8.72 11.953 8.367 12 8 12s-.721-.047-1.063-.14a4.056 4.056 0 0 1-1.765-1.032A4.055 4.055 0 0 1 4.14 9.062 3.992 3.992 0 0 1 4 8c0-.367.047-.721.14-1.063a4.02 4.02 0 0 1 .407-.953A4.089 4.089 0 0 1 5.98 4.546a3.94 3.94 0 0 1 .957-.401A3.89 3.89 0 0 1 8 4z"></path>'};function Ps(e){let t,n=e[1].name+"",o;return{c(){t=O("span"),o=V(n),b(t,"class","item-name")},m(i,r){S(i,t,r),C(t,o)},p(i,r){r&2&&n!==(n=i[1].name+"")&&ce(o,n)},d(i){i&&E(t)}}}function As(e){let t,n,o,i;return{c(){t=O("input"),b(t,"class","rename-input"),b(t,"autocorrect","off"),b(t,"autocapitalize","off"),b(t,"spellcheck","false"),b(t,"type","text"),t.value=n=e[1].name},m(r,s){S(r,t,s),e[8](t),o||(i=[T(t,"keydown",e[7]),T(t,"focusout",function(){Y(e[0]&&e[6])&&(e[0]&&e[6]).apply(this,arguments)})],o=!0)},p(r,s){e=r,s&2&&n!==(n=e[1].name)&&t.value!==n&&(t.value=n)},d(r){r&&E(t),e[8](null),o=!1,H(i)}}}function ci(e){let t,n;return t=new X({props:{color:"currentColor",src:li}}),{c(){D(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p:F,i(o){n||(w(t.$$.fragment,o),n=!0)},o(o){x(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function Ts(e){let t,n,o,i,r,s,c;n=new X({props:{color:"currentColor",src:si}});function l(d,m){return d[0]?As:Ps}let a=l(e,-1),f=a(e),u=e[4]?.[e[1].location]?.unsaved&&ci(e);return{c(){t=O("button"),D(n.$$.fragment),o=A(),f.c(),i=A(),u&&u.c(),b(t,"class","item file"),ge(t,"--depth",e[2])},m(d,m){S(d,t,m),L(n,t,null),C(t,o),f.m(t,null),C(t,i),u&&u.m(t,null),r=!0,s||(c=[T(t,"click",e[5]),T(t,"submit",Ne(e[5])),T(t,"dblclick",e[6]),T(t,"keydown",ht(Ne(e[7])))],s=!0)},p(d,[m]){a===(a=l(d,m))&&f?f.p(d,m):(f.d(1),f=a(d),f&&(f.c(),f.m(t,i))),d[4]?.[d[1].location]?.unsaved?u?(u.p(d,m),m&18&&w(u,1)):(u=ci(d),u.c(),w(u,1),u.m(t,null)):u&&(B(),x(u,1,1,()=>{u=null}),$()),(!r||m&4)&&ge(t,"--depth",d[2])},i(d){r||(w(n.$$.fragment,d),w(u),r=!0)},o(d){x(n.$$.fragment,d),x(u),r=!1},d(d){d&&E(t),M(n),f.d(),u&&u.d(),s=!1,H(c)}}}function Ms(e,t,n){let o;te(e,Ae,d=>n(4,o=d));let{file:i}=t,{rename:r=!1}=t,{depth:s=0}=t;function c(){re.set(i)}let l;function a(){r&&l?.value!==i.name&&PopcornNative.renameQuickCssNode(i.location,l.value),n(0,r=!r)}function f(d){switch(d.key){case"F2":a();break;case"Enter":r&&a();break}}function u(d){W[d?"unshift":"push"](()=>{l=d,n(3,l)})}return e.$$set=d=>{"file"in d&&n(1,i=d.file),"rename"in d&&n(0,r=d.rename),"depth"in d&&n(2,s=d.depth)},e.$$.update=()=>{if(e.$$.dirty&8)e:l&&(l.focus(),l.setSelectionRange(0,l.value.length-4))},[r,i,s,l,o,c,a,f,u]}var On=class extends N{constructor(t){super(),z(this,t,Ms,Ts,R,{file:1,rename:0,depth:2})}},ai=On;function ui(e,t,n){let o=e.slice();return o[9]=t[n],o}function Ls(e){let t,n;return t=new X({props:{color:"currentColor",src:ri}}),{c(){D(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p:F,i(o){n||(w(t.$$.fragment,o),n=!0)},o(o){x(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function js(e){let t,n;return t=new X({props:{color:"currentColor",src:ii}}),{c(){D(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p:F,i(o){n||(w(t.$$.fragment,o),n=!0)},o(o){x(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function Ds(e){let t,n=e[2].name+"",o;return{c(){t=O("span"),o=V(n),b(t,"class","item-name")},m(i,r){S(i,t,r),C(t,o)},p(i,r){r&4&&n!==(n=i[2].name+"")&&ce(o,n)},d(i){i&&E(t)}}}function Rs(e){let t,n,o,i;return{c(){t=O("input"),b(t,"class","rename-input"),b(t,"autocorrect","off"),b(t,"autocapitalize","off"),b(t,"spellcheck","false"),b(t,"type","text"),t.value=n=e[2].name},m(r,s){S(r,t,s),e[8](t),o||(i=[T(t,"keydown",e[7]),T(t,"focusout",function(){Y(e[0]&&e[6])&&(e[0]&&e[6]).apply(this,arguments)})],o=!0)},p(r,s){e=r,s&4&&n!==(n=e[2].name)&&t.value!==n&&(t.value=n)},d(r){r&&E(t),e[8](null),o=!1,H(i)}}}function fi(e){let t,n,o=e[2].files,i=[];for(let s=0;s<o.length;s+=1)i[s]=di(ui(e,o,s));let r=s=>x(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();t=_e()},m(s,c){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(s,c);S(s,t,c),n=!0},p(s,c){if(c&12){o=s[2].files;let l;for(l=0;l<o.length;l+=1){let a=ui(s,o,l);i[l]?(i[l].p(a,c),w(i[l],1)):(i[l]=di(a),i[l].c(),w(i[l],1),i[l].m(t.parentNode,t))}for(B(),l=o.length;l<i.length;l+=1)r(l);$()}},i(s){if(!n){for(let c=0;c<o.length;c+=1)w(i[c]);n=!0}},o(s){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)x(i[c]);n=!1},d(s){Se(i,s),s&&E(t)}}}function Ns(e){let t,n;return t=new ai({props:{file:e[9],depth:e[3]+1}}),{c(){D(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p(o,i){let r={};i&4&&(r.file=o[9]),i&8&&(r.depth=o[3]+1),t.$set(r)},i(o){n||(w(t.$$.fragment,o),n=!0)},o(o){x(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function Is(e){let t,n;return t=new Ft({props:{folder:e[9],depth:e[3]+1}}),{c(){D(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p(o,i){let r={};i&4&&(r.folder=o[9]),i&8&&(r.depth=o[3]+1),t.$set(r)},i(o){n||(w(t.$$.fragment,o),n=!0)},o(o){x(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function di(e){let t,n,o,i,r=[Is,Ns],s=[];function c(l,a){return"files"in l[9]?0:1}return t=c(e,-1),n=s[t]=r[t](e),{c(){n.c(),o=_e()},m(l,a){s[t].m(l,a),S(l,o,a),i=!0},p(l,a){let f=t;t=c(l,a),t===f?s[t].p(l,a):(B(),x(s[f],1,1,()=>{s[f]=null}),$(),n=s[t],n?n.p(l,a):(n=s[t]=r[t](l),n.c()),w(n,1),n.m(o.parentNode,o))},i(l){i||(w(n),i=!0)},o(l){x(n),i=!1},d(l){s[t].d(l),l&&E(o)}}}function Hs(e){let t,n,o,i,r,s,c,l,a,f=[js,Ls],u=[];function d(g,k){return g[1]?0:1}n=d(e,-1),o=u[n]=f[n](e);function m(g,k){return g[0]?Rs:Ds}let p=m(e,-1),_=p(e),h=e[1]&&fi(e);return{c(){t=O("button"),o.c(),i=A(),_.c(),r=A(),h&&h.c(),s=_e(),b(t,"class","item folder"),ge(t,"--depth",e[3]),b(t,"data-opened",e[1])},m(g,k){S(g,t,k),u[n].m(t,null),C(t,i),_.m(t,null),S(g,r,k),h&&h.m(g,k),S(g,s,k),c=!0,l||(a=[T(t,"click",e[5]),T(t,"submit",Ne(e[5])),T(t,"dblclick",e[6]),T(t,"keydown",ht(Ne(e[7])))],l=!0)},p(g,[k]){let v=n;n=d(g,k),n===v?u[n].p(g,k):(B(),x(u[v],1,1,()=>{u[v]=null}),$(),o=u[n],o?o.p(g,k):(o=u[n]=f[n](g),o.c()),w(o,1),o.m(t,i)),p===(p=m(g,k))&&_?_.p(g,k):(_.d(1),_=p(g),_&&(_.c(),_.m(t,null))),(!c||k&8)&&ge(t,"--depth",g[3]),(!c||k&2)&&b(t,"data-opened",g[1]),g[1]?h?(h.p(g,k),k&2&&w(h,1)):(h=fi(g),h.c(),w(h,1),h.m(s.parentNode,s)):h&&(B(),x(h,1,1,()=>{h=null}),$())},i(g){c||(w(o),w(h),c=!0)},o(g){x(o),x(h),c=!1},d(g){g&&E(t),u[n].d(),_.d(),g&&E(r),h&&h.d(g),g&&E(s),l=!1,H(a)}}}function zs(e,t,n){let{folder:o}=t,{rename:i=!1}=t,{opened:r=!0}=t,{depth:s=0}=t;function c(){n(1,r=!r),Z.set(o)}let l;function a(){i&&l?.value!==o.name&&PopcornNative.renameQuickCssNode(o.location,l.value),n(0,i=!i)}function f(d){switch(d.key){case"F2":a();break;case"Enter":i&&a();break}}function u(d){W[d?"unshift":"push"](()=>{l=d,n(4,l)})}return e.$$set=d=>{"folder"in d&&n(2,o=d.folder),"rename"in d&&n(0,i=d.rename),"opened"in d&&n(1,r=d.opened),"depth"in d&&n(3,s=d.depth)},e.$$.update=()=>{if(e.$$.dirty&16)e:l&&(l.focus(),l.setSelectionRange(0,l.value.length))},[i,r,o,s,l,c,a,f,u]}var Ft=class extends N{constructor(t){super(),z(this,t,zs,Hs,R,{folder:2,rename:0,opened:1,depth:3})}},mi=Ft;function qs(e){let t,n,o,i,r,s,c=e[1].name+"",l,a,f,u,d,m,p,_,h,g,k,v;return i=new X({props:{color:"currentColor",src:oi}}),u=new X({props:{color:"currentColor",src:ti}}),p=new X({props:{color:"currentColor",src:ni}}),h=new mi({props:{folder:window.Popcorn.quickCss}}),{c(){t=O("div"),n=O("div"),o=O("button"),D(i.$$.fragment),r=A(),s=O("span"),l=V(c),a=A(),f=O("button"),D(u.$$.fragment),d=A(),m=O("button"),D(p.$$.fragment),_=A(),D(h.$$.fragment),b(o,"class","action PopcornUI-1je845r"),b(o,"data-action","delete"),b(s,"class","selected-file"),b(f,"class","action PopcornUI-1je845r"),b(f,"data-action","new-file"),b(m,"class","action PopcornUI-1je845r"),b(m,"data-action","new-folder"),b(n,"class","action-bar PopcornUI-1je845r"),b(t,"class","sidebar PopcornUI-1je845r"),ge(t,"width","22ch")},m(y,P){S(y,t,P),C(t,n),C(n,o),L(i,o,null),C(n,r),C(n,s),C(s,l),C(n,a),C(n,f),L(u,f,null),C(n,d),C(n,m),L(p,m,null),C(t,_),L(h,t,null),e[5](t),g=!0,k||(v=[T(o,"click",e[2]),T(o,"submit",e[2]),T(f,"click",e[3]),T(f,"submit",e[3]),T(m,"click",e[4]),T(m,"submit",e[4])],k=!0)},p(y,[P]){(!g||P&2)&&c!==(c=y[1].name+"")&&ce(l,c)},i(y){g||(w(i.$$.fragment,y),w(u.$$.fragment,y),w(p.$$.fragment,y),w(h.$$.fragment,y),g=!0)},o(y){x(i.$$.fragment,y),x(u.$$.fragment,y),x(p.$$.fragment,y),x(h.$$.fragment,y),g=!1},d(y){y&&E(t),M(i),M(u),M(p),M(h),e[5](null),k=!1,H(v)}}}var Ae=pe({});function Vs(e,t,n){let o,i;te(e,Z,u=>n(6,o=u)),te(e,hi,u=>n(1,i=u));let r,s=Ke();Ie(()=>{let u=new ResizeObserver(d=>{s("resize",d[0])});return u.observe(r),()=>{u.disconnect()}});function c(){PopcornNative.deleteQuickCssNode(i.location)}function l(){PopcornNative.createQuickCssNode(o.location,"file")}function a(){PopcornNative.createQuickCssNode(o.location,"folder")}function f(u){W[u?"unshift":"push"](()=>{r=u,n(0,r)})}return[r,i,c,l,a,f]}var Fn=class extends N{constructor(t){super(),z(this,t,Vs,qs,R,{})}},pi=Fn;function _i(e){let t,n;return t=new pi({}),t.$on("resize",function(){Y((0,Pn.debounce)(e[1],50))&&(0,Pn.debounce)(e[1],50).apply(this,arguments)}),{c(){D(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p(o,i){e=o},i(o){n||(w(t.$$.fragment,o),n=!0)},o(o){x(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function Bs(e){let t;return{c(){t=O("span"),t.textContent="Select a file to edit",b(t,"class","no-file-selected")},m(n,o){S(n,t,o)},p:F,i:F,o:F,d(n){n&&E(t)}}}function $s(e){let t,n,o=e[2].location+"",i,r,s,c,l,a,f,u=e[4].type&&gi(e);function d(_){e[8](_)}function m(_){e[9](_)}let p={actions:e[5],commands:e[6]};return e[0]!==void 0&&(p.content=e[0]),e[1]!==void 0&&(p.recalculateSize=e[1]),c=new ei({props:p}),W.push(()=>Qt(c,"content",d)),W.push(()=>Qt(c,"recalculateSize",m)),c.$on("change",e[7]),{c(){t=O("div"),n=O("span"),i=V(o),r=A(),u&&u.c(),s=A(),D(c.$$.fragment),b(n,"class","selected-file"),b(t,"class","status-bar PopcornUI-szncc9")},m(_,h){S(_,t,h),C(t,n),C(n,i),C(t,r),u&&u.m(t,null),S(_,s,h),L(c,_,h),f=!0},p(_,h){(!f||h&4)&&o!==(o=_[2].location+"")&&ce(i,o),_[4].type?u?u.p(_,h):(u=gi(_),u.c(),u.m(t,null)):u&&(u.d(1),u=null);let g={};!l&&h&1&&(l=!0,g.content=_[0],Ut(()=>l=!1)),!a&&h&2&&(a=!0,g.recalculateSize=_[1],Ut(()=>a=!1)),c.$set(g)},i(_){f||(w(c.$$.fragment,_),f=!0)},o(_){x(c.$$.fragment,_),f=!1},d(_){_&&E(t),u&&u.d(),_&&E(s),M(c,_)}}}function gi(e){let t,n,o=e[4].message+"",i,r;return{c(){t=O("div"),n=O("div"),i=V(o),b(n,"class","status-message"),b(t,"class","status"),b(t,"data-type",r=e[4].type)},m(s,c){S(s,t,c),C(t,n),C(n,i)},p(s,c){c&16&&o!==(o=s[4].message+"")&&ce(i,o),c&16&&r!==(r=s[4].type)&&b(t,"data-type",r)},d(s){s&&E(t)}}}function Us(e){let t,n=e[3],o,i,r,s,c=_i(e),l=[$s,Bs],a=[];function f(u,d){return u[2]?0:1}return i=f(e,-1),r=a[i]=l[i](e),{c(){t=O("div"),c.c(),o=A(),r.c(),b(t,"class","quickCss-wrapper PopcornUI-szncc9")},m(u,d){S(u,t,d),c.m(t,null),C(t,o),a[i].m(t,null),s=!0},p(u,[d]){d&8&&R(n,n=u[3])?(B(),x(c,1,1,F),$(),c=_i(u),c.c(),w(c,1),c.m(t,o)):c.p(u,d);let m=i;i=f(u,d),i===m?a[i].p(u,d):(B(),x(a[m],1,1,()=>{a[m]=null}),$(),r=a[i],r?r.p(u,d):(r=a[i]=l[i](u),r.c()),w(r,1),r.m(t,null))},i(u){s||(w(c),w(r),s=!0)},o(u){x(c),x(r),s=!1},d(u){u&&E(t),c.d(u),a[i].d()}}}var bi=pe();function yi(){bi.update(e=>!e)}var An=pe(),re=pe(),Z=pe(),hi={subscribe:An.subscribe},at=pe({});function Qs(e,t,n){let o,i=F,r=()=>(i(),i=De(re,v=>n(2,o=v)),re),s,c,l,a=F,f=()=>(a(),a=De(at,v=>n(4,l=v)),at);te(e,re,v=>n(2,o=v)),te(e,Ae,v=>n(10,s=v)),te(e,bi,v=>n(3,c=v)),te(e,at,v=>n(4,l=v)),e.$$.on_destroy.push(()=>i()),e.$$.on_destroy.push(()=>a());let u;re.subscribe(v=>{v&&(n(0,u=v.content),An.set(v))}),Z.subscribe(v=>{v&&An.set(v)});let d=[{id:"save",label:"Save the currently selected file",handler:_}],m=[{keybinding:(v,y)=>y.CtrlCmd|v.KeyS,handler:_}];function p(){mt(Ae,s[o.location]??={},s),mt(Ae,s[o.location].unsaved=!0,s)}function _(){mt(Ae,s[o.location].unsaved=!1,s),PopcornNative.updateQuickCssFile(o.location,u)}let h;function g(v){u=v,n(0,u)}function k(v){h=v,n(1,h)}return[u,h,o,c,l,d,m,p,g,k]}var Tn=class extends N{constructor(t){super(),z(this,t,Qs,Us,R,{})}},vi=Tn;var Ws=new Ve("QuickCSS"),ut=class{styleElements=new Map;start(){this.populateQuickCss(),this.watchQuickCss(),Z.set(window.Popcorn.quickCss)}populateQuickCss(){let{imports:t,contents:n}=wi(Popcorn.quickCss),o=this.styleElements.get("imports");if(o)t!==o.textContent&&(o.textContent=t);else{let r=document.createElement("style");r.id="popcorn-quickcss-imports",r.textContent=t,r.dataset.popcorn="true",Pe.end.after(r),this.styleElements.set("imports",r)}let i=this.styleElements.get("contents");if(i)n!==i.textContent&&(i.textContent=n);else{let r=document.createElement("style");r.id="popcorn-quickcss-contents",r.textContent=n,r.dataset.popcorn="true",Pe.end.after(r),this.styleElements.set("contents",r)}}watchQuickCss(){PopcornNative.onQuickCssChange(t=>{we.verbose&&Ws.debug("QuickCSS Updated"),Popcorn.quickCss=t,yi(),this.populateQuickCss()})}};function wi(e){let t="",n="",o=/^@import\s+(?:url\(['"]?.*?['"]?\)|['"].*?['"])(\s+[^;]+?)?;$/gmi;for(let i of e.files)if("files"in i){let r=wi(i);t+=r.imports,n+=r.contents}else{let r=i.content.replace(o,s=>(t+=s.replace(/;$/,"")+`; /* ${i.location} */
`,"")).trim();r&&(n+=`

/* ${i.location} */
`+r)}return{imports:t,contents:n}}function Pt(e,t=window.Popcorn.quickCss){if(t.location===e)return t;for(let n of t.files){if("content"in n){if(n.location===e)return n;continue}let o=Pt(e,n);if(o)return o}return null}function ki(e,t,n){let o=e.slice();o[7]=t[n];let i=o[0].find(function(...s){return e[6](o[7],...s)});return o[8]=i,o}function xi(e,t,n){let o=e.slice();return o[11]=t[n].name,o}function Ci(e){let t,n=e[11]+"",o,i,r,s,c;function l(){return e[4](e[11])}function a(){return e[5](e[11])}return{c(){t=O("button"),o=V(n),i=A(),b(t,"class","tab PopcornUI-cd56hu"),b(t,"data-selected",r=e[1]===e[11])},m(f,u){S(f,t,u),C(t,o),C(t,i),s||(c=[T(t,"click",l),T(t,"keypress",a)],s=!0)},p(f,u){e=f,u&1&&n!==(n=e[11]+"")&&ce(o,n),u&3&&r!==(r=e[1]===e[11])&&b(t,"data-selected",r)},d(f){f&&E(t),s=!1,H(c)}}}function Ei(e){let t,n,o,i,r,s;var c=e[8].component;function l(a){return{}}return c&&(n=$t(c,l(e))),{c(){t=O("div"),n&&D(n.$$.fragment),o=A(),b(t,"class","tab-wrapper PopcornUI-cd56hu"),b(t,"data-selected",i=e[8].name===e[1]),b(t,"data-name",r=e[8].name)},m(a,f){S(a,t,f),n&&L(n,t,null),C(t,o),s=!0},p(a,f){if(f&1&&c!==(c=a[8].component)){if(n){B();let u=n;x(u.$$.fragment,1,0,()=>{M(u,1)}),$()}c?(n=$t(c,l(a)),D(n.$$.fragment),w(n.$$.fragment,1),L(n,t,o)):n=null}(!s||f&3&&i!==(i=a[8].name===a[1]))&&b(t,"data-selected",i),(!s||f&1&&r!==(r=a[8].name))&&b(t,"data-name",r)},i(a){s||(n&&w(n.$$.fragment,a),s=!0)},o(a){n&&x(n.$$.fragment,a),s=!1},d(a){a&&E(t),n&&M(n)}}}function Ks(e){let t,n,o,i,r=e[0],s=[];for(let f=0;f<r.length;f+=1)s[f]=Ci(xi(e,r,f));let c=e[2],l=[];for(let f=0;f<c.length;f+=1)l[f]=Ei(ki(e,c,f));let a=f=>x(l[f],1,1,()=>{l[f]=null});return{c(){t=O("div");for(let f=0;f<s.length;f+=1)s[f].c();n=A();for(let f=0;f<l.length;f+=1)l[f].c();o=_e(),b(t,"class","tab-list PopcornUI-cd56hu")},m(f,u){S(f,t,u);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(t,null);S(f,n,u);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(f,u);S(f,o,u),i=!0},p(f,[u]){if(u&11){r=f[0];let d;for(d=0;d<r.length;d+=1){let m=xi(f,r,d);s[d]?s[d].p(m,u):(s[d]=Ci(m),s[d].c(),s[d].m(t,null))}for(;d<s.length;d+=1)s[d].d(1);s.length=r.length}if(u&7){c=f[2];let d;for(d=0;d<c.length;d+=1){let m=ki(f,c,d);l[d]?(l[d].p(m,u),w(l[d],1)):(l[d]=Ei(m),l[d].c(),w(l[d],1),l[d].m(o.parentNode,o))}for(B(),d=c.length;d<l.length;d+=1)a(d);$()}},i(f){if(!i){for(let u=0;u<c.length;u+=1)w(l[u]);i=!0}},o(f){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)x(l[u]);i=!1},d(f){f&&E(t),Se(s,f),f&&E(n),Se(l,f),f&&E(o)}}}function Gs(e,t,n){let{tabs:o}=t,i=o?.[0]?.name,r=[i];function s(f){n(1,i=f),r.includes(f)||r.push(f)}let c=f=>s(f),l=f=>s(f),a=(f,u)=>u.name===f;return e.$$set=f=>{"tabs"in f&&n(0,o=f.tabs)},[o,i,r,s,c,l,a]}var Mn=class extends N{constructor(t){super(),z(this,t,Gs,Ks,R,{tabs:0})}},Si=Mn;var Fi=(e,t)=>{let n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(o=>Object.prototype.hasOwnProperty.call(t,o)&&e[o]===t[o])},Xs=(e,t)=>e.length===t.length&&e.every((n,o)=>Fi(n,t[o])),Ys=(e,t)=>{if(e.length<t.length)return!1;let n=e.length-t.length;for(let o=t.length-1;o>=0;o-=1)if(!Fi(e[n+o],t[o]))return!1;return!0},Pi=e=>e.reduce((t,n)=>({...t,[n]:!0}),{}),Ai=["ctrl","shift","alt","meta"],Js=Pi(Ai),Zs=e=>Object.keys(e).filter(t=>!Js[t]).length===1,At=(e,t)=>{if(!e)throw new Error(t)},Tt=(e,t,n)=>{At(typeof e===n,`The ${t} must be a ${n}; given ${typeof e}`)},Ti=e=>e.split(/ +/g).map(t=>{let n=t.split("+").filter(Boolean),o=Pi(n);return At(Object.keys(o).length>=n.length,`Hotkey combination has duplicates "${e}"`),At(Zs(o),`Invalid hotkey combination: "${e}"`),o}),el=(e,t)=>{Tt(e,"hotkey","string"),Tt(t,"callback","function")},Oi=(e,t)=>(n,o)=>{el(n,o),t(e,n,o)},tl=(e,t,n)=>{e.push({hotkey:Ti(t),callback:n})},nl=(e,t,n)=>{let o=Ti(t),i=e.findIndex(r=>r.callback===n&&Xs(o,r.hotkey));i!==-1&&e.splice(i,1)},ol=(e,t)=>{let n=null;return()=>{clearTimeout(n),n=setTimeout(e,t)}},il=e=>{switch(e){case"+":return"plus";case" ":return"space";default:return e.toLowerCase()}},rl=(e,t)=>{let n=[],o=ol(()=>{n=[]},t);return i=>{if(i.repeat||i.getModifierState(i.key))return;o();let r={[il(i.key)]:!0};Ai.forEach(s=>{i[`${s}Key`]&&(r[s]=!0)}),n.push(r),e.forEach(s=>{Ys(n,s.hotkey)&&s.callback(i)})}},sl=e=>{let{debounceTime:t=500,autoEnable:n=!0}=e||{};return Tt(t,"debounceTime","number"),At(t>0,"debounceTime must be > 0"),Tt(n,"autoEnable","boolean"),{debounceTime:t,autoEnable:n}},Mi=e=>{let{debounceTime:t,autoEnable:n}=sl(e),o=[],i=rl(o,t),r=()=>document.addEventListener("keydown",i),s=()=>document.removeEventListener("keydown",i);return n&&r(),{register:Oi(o,tl),unregister:Oi(o,nl),enable:r,disable:s}};function ll(e){let t,n,o,i,r;return n=new Si({props:{tabs:e[1]}}),{c(){t=O("dialog"),D(n.$$.fragment),o=A(),i=O("div"),b(i,"id","PopcornUI-layers"),b(t,"class","PopcornUI-dialog PopcornUI-6ipy8a")},m(s,c){S(s,t,c),L(n,t,null),C(t,o),C(t,i),e[2](t),r=!0},p:F,i(s){r||(w(n.$$.fragment,s),r=!0)},o(s){x(n.$$.fragment,s),r=!1},d(s){s&&E(t),M(n),e[2](null)}}}function cl(e,t,n){let o,i=!1;function r(){i?o.close():o.showModal(),i=!i,document.documentElement.dataset.popcornUiOpen=i.toString()}Ie(()=>{let l=Mi({autoEnable:!0});l.register(we.hotkey,a=>{a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault(),r()}),l.register("escape",a=>{i&&(a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault(),r())})});let s=[{name:"Themes",component:vo},{name:"QuickCSS",component:vi}];function c(l){W[l?"unshift":"push"](()=>{o=l,n(0,o)})}return[o,s,c]}var Ln=class extends N{constructor(t){super(),z(this,t,cl,ll,R,{})}},Li=Ln;var jn=new Ve("IPC");PopcornNative.onStatusMessage(e=>{we.verbose&&jn.debug(e),e.type.startsWith(kt.quickCss)&&al(e)});function al(e){let t=e.success?"success":"error";if(!e.success){jn.warn(e.type,"failed");return}switch(e.type){case nt.quickCss.created:{let{type:o,location:i}=e.data,r=Pt(i);o==="file"?re.set(r):Z.set(r);var n=e.success?`Created ${i} successfully.`:`Failed to create ${i}.`}break;case nt.quickCss.deleted:{let{type:o,location:i}=e.data;o==="file"&&Re(re).location===i?re.set(null):o==="folder"&&Re(Z).location===i&&Z.set(null);var n=e.success?`Deleted ${i} successfully.`:`Failed to delete ${i}.`}break;case nt.quickCss.renamed:{let{oldLocation:o,newLocation:i}=e.data,r=Pt(i),s="files"in r?"folder":"file";s==="file"&&Re(re).location===o?re.set(r):s==="folder"&&Re(Z).location===o&&Z.set(r);var n=e.success?`Renamed ${o} to ${i} successfully.`:`Failed to rename ${o} to ${i}.`}break;case nt.quickCss.updated:var n=e.success?`Updated ${e.data} successfully.`:`Failed to update ${e.data}.`;break;default:jn.warn(`Unknown status message type: ${e.type}`,e)}n&&at.set({type:t,message:n})}var Pe={start:document.createComment(" section:Popcorn "),end:document.createComment(" endsection ")},we=await PopcornNative.config,fn=!!PopcornNative.validateCSS,bu=new class{async start(){document.head.append(Pe.start,Pe.end);let t=await PopcornNative.getThemes(),n=await PopcornNative.getQuickCss(),o={themes:xo(t),quickCss:n};window.Popcorn=o,new Li({target:document.body}),new ot().start(),new ut().start()}};export{Pe as comments,we as config,bu as default,fn as shouldValidate};
