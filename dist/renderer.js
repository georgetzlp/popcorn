var Pi=Object.create;var En=Object.defineProperty;var Ai=Object.getOwnPropertyDescriptor;var Ti=Object.getOwnPropertyNames;var Mi=Object.getPrototypeOf,Li=Object.prototype.hasOwnProperty;var ee=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ji=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ti(t))!Li.call(e,i)&&i!==n&&En(e,i,{get:()=>t[i],enumerable:!(o=Ai(t,i))||o.enumerable});return e};var Ct=(e,t,n)=>(n=e!=null?Pi(Mi(e)):{},ji(t||!e||!e.__esModule?En(n,"default",{value:e,enumerable:!0}):n,e));var Jt=ee(po=>{po.debounce=function(e,t,n){var o,i,r;t===void 0&&(t=50),n===void 0&&(n={});var s=(o=n.isImmediate)!=null&&o,c=(i=n.callback)!=null&&i,l=n.maxWait,u=Date.now(),a=[];function d(){if(l!==void 0){var m=Date.now()-u;if(m+t>=l)return l-m}return t}var f=function(){var m=[].slice.call(arguments),p=this;return new Promise(function(v,_){var b=s&&r===void 0;if(r!==void 0&&clearTimeout(r),r=setTimeout(function(){if(r=void 0,u=Date.now(),!s){var h=e.apply(p,m);c&&c(h),a.forEach(function(g){return(0,g.resolve)(h)}),a=[]}},d()),b){var w=e.apply(p,m);return c&&c(w),v(w)}a.push({resolve:v,reject:_})})};return f.cancel=function(m){r!==void 0&&clearTimeout(r),a.forEach(function(p){return(0,p.reject)(m)}),a=[]},f}});var en=ee(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});function _o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ho(Object(n),!0).forEach(function(o){_o(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ho(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function go(e,t){if(e==null)return{};var n={},o=Object.keys(e),i,r;for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function xr(e,t){if(e==null)return{};var n=go(e,t),o,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function Er(e,t){return bo(e)||yo(e,t)||vo(e,t)||wo()}function bo(e){if(Array.isArray(e))return e}function yo(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],o=!0,i=!1,r=void 0;try{for(var s=e[Symbol.iterator](),c;!(o=(c=s.next()).done)&&(n.push(c.value),!(t&&n.length===t));o=!0);}catch(l){i=!0,r=l}finally{try{!o&&s.return!=null&&s.return()}finally{if(i)throw r}}return n}}function vo(e,t){if(e){if(typeof e=="string")return Zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zt(e,t)}}function Zt(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function wo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}ie.arrayLikeToArray=Zt;ie.arrayWithHoles=bo;ie.defineProperty=_o;ie.iterableToArrayLimit=yo;ie.nonIterableRest=wo;ie.objectSpread2=Cr;ie.objectWithoutProperties=xr;ie.objectWithoutPropertiesLoose=go;ie.slicedToArray=Er;ie.unsupportedIterableToArray=vo});var Eo=ee((hc,xo)=>{"use strict";function Sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ko(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function Co(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ko(Object(n),!0).forEach(function(o){Sr(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ko(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Or(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(o){return t.reduceRight(function(i,r){return r(i)},o)}}function Je(e){return function t(){for(var n=this,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];return t.apply(n,[].concat(i,c))}}}function _t(e){return{}.toString.call(e).includes("Object")}function Fr(e){return!Object.keys(e).length}function Ze(e){return typeof e=="function"}function Pr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ar(e,t){return _t(t)||ve("changeType"),Object.keys(t).some(function(n){return!Pr(e,n)})&&ve("changeField"),t}function Tr(e){Ze(e)||ve("selectorType")}function Mr(e){Ze(e)||_t(e)||ve("handlerType"),_t(e)&&Object.values(e).some(function(t){return!Ze(t)})&&ve("handlersType")}function Lr(e){e||ve("initialIsRequired"),_t(e)||ve("initialType"),Fr(e)&&ve("initialContent")}function jr(e,t){throw new Error(e[t]||e.default)}var Dr={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ve=Je(jr)(Dr),ht={changes:Ar,selector:Tr,handler:Mr,initial:Lr};function Rr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ht.initial(e),ht.handler(t);var n={current:e},o=Je(Hr)(n,t),i=Je(Ir)(n),r=Je(ht.changes)(e),s=Je(Nr)(n);function c(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(a){return a};return ht.selector(u),u(n.current)}function l(u){Or(o,i,r,s)(u)}return[c,l]}function Nr(e,t){return Ze(t)?t(e.current):t}function Ir(e,t){return e.current=Co(Co({},e.current),t),t}function Hr(e,t,n){return Ze(t)?t(e.current):Object.keys(n).forEach(function(o){var i;return(i=t[o])===null||i===void 0?void 0:i.call(t,e.current[o])}),n}var qr={create:Rr};xo.exports=qr});var So=ee(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});var zr={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.36.1/min/vs"}};tn.default=zr});var Oo=ee(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});function Vr(e){return function t(){for(var n=this,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];return t.apply(n,[].concat(i,c))}}}nn.default=Vr});var Fo=ee(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});function Br(e){return{}.toString.call(e).includes("Object")}on.default=Br});var Po=ee(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});var $r=Oo(),Ur=Fo();function Qr(e){return e||rn("configIsRequired"),Ur.default(e)||rn("configType"),e.urls?(Wr(),{paths:{vs:e.urls.monacoBase}}):e}function Wr(){console.warn(sn.deprecation)}function Kr(e,t){throw new Error(e[t]||e.default)}var sn={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},rn=$r.default(Kr)(sn),Gr={config:Qr};et.default=Gr;et.errorHandler=rn;et.errorMessages=sn});var Ao=ee(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});var Xr=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return function(i){return n.reduceRight(function(r,s){return s(r)},i)}};ln.default=Xr});var Lo=ee(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});var To=en();function Mo(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],Mo(e[n],t[n]))}),To.objectSpread2(To.objectSpread2({},e),t)}cn.default=Mo});var Do=ee(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});var jo={type:"cancelation",msg:"operation is manually canceled"};function Yr(e){var t=!1,n=new Promise(function(o,i){e.then(function(r){return t?i(jo):o(r)}),e.catch(i)});return n.cancel=function(){return t=!0},n}gt.CANCELATION_MESSAGE=jo;gt.default=Yr});var Ho=ee(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});var Ro=en(),Jr=Eo(),Zr=So(),es=Po(),ts=Ao(),ns=Lo(),an=Do();function os(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var is=os(Jr),rs=is.default.create({config:Zr.default,isInitialized:!1,resolve:null,reject:null,monaco:null}),No=Ro.slicedToArray(rs,2),tt=No[0],bt=No[1];function ss(e){var t=es.default.config(e),n=t.monaco,o=Ro.objectWithoutProperties(t,["monaco"]);bt(function(i){return{config:ns.default(i.config,o),monaco:n}})}function ls(){var e=tt(function(t){var n=t.monaco,o=t.isInitialized,i=t.resolve;return{monaco:n,isInitialized:o,resolve:i}});if(!e.isInitialized){if(bt({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),an.default(un);if(window.monaco&&window.monaco.editor)return Io(window.monaco),e.resolve(window.monaco),an.default(un);ts.default(cs,us)(fs)}return an.default(un)}function cs(e){return document.body.appendChild(e)}function as(e){var t=document.createElement("script");return e&&(t.src=e),t}function us(e){var t=tt(function(o){var i=o.config,r=o.reject;return{config:i,reject:r}}),n=as("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function fs(){var e=tt(function(n){var o=n.config,i=n.resolve,r=n.reject;return{config:o,resolve:i,reject:r}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){Io(n),e.resolve(n)},function(n){e.reject(n)})}function Io(e){tt().monaco||bt({monaco:e})}function ds(){return tt(function(e){var t=e.monaco;return t})}var un=new Promise(function(e,t){return bt({resolve:e,reject:t})}),ms={config:ss,init:ls,__getMonacoInstance:ds};fn.default=ms});var qo=ee(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});var ps=Ho();dn.default=ps.default});var Di=e=>{let t=new Set;do for(let n of Reflect.ownKeys(e))t.add([e,n]);while((e=Reflect.getPrototypeOf(e))&&e!==Object.prototype);return t};function xt(e,{include:t,exclude:n}={}){let o=i=>{let r=s=>typeof s=="string"?i===s:s.test(i);return t?t.some(r):n?!n.some(r):!0};for(let[i,r]of Di(e.constructor.prototype)){if(r==="constructor"||!o(r))continue;let s=Reflect.getOwnPropertyDescriptor(i,r);s&&typeof s.value=="function"&&(e[r]=e[r].bind(e))}return e}function P(){}function On(e,t){for(let n in t)e[n]=t[n];return e}function Pt(e){return e()}function Sn(){return Object.create(null)}function H(e){e.forEach(Pt)}function Y(e){return typeof e=="function"}function R(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Fn(e){return Object.keys(e).length===0}function Ae(e,...t){if(e==null)return P;let n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Te(e){let t;return Ae(e,n=>t=n)(),t}function te(e,t,n){e.$$.on_destroy.push(Ae(t,n))}function rt(e,t,n){return e.set(n),t}function At(e){return e&&Y(e.destroy)?e.destroy:P}var st=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,qe=class{constructor(t){this.options=t,this._listeners="WeakMap"in st?new WeakMap:void 0}observe(t,n){return this._listeners.set(t,n),this._getObserver().observe(t,this.options),()=>{this._listeners.delete(t),this._observer.unobserve(t)}}_getObserver(){var t;return(t=this._observer)!==null&&t!==void 0?t:this._observer=new ResizeObserver(n=>{var o;for(let i of n)qe.entries.set(i.target,i),(o=this._listeners.get(i.target))===null||o===void 0||o(i)})}};qe.entries="WeakMap"in st?new WeakMap:void 0;var Pn=!1;function Ri(){Pn=!0}function Ni(){Pn=!1}function C(e,t){e.appendChild(t)}function O(e,t,n){e.insertBefore(t,n||null)}function S(e){e.parentNode&&e.parentNode.removeChild(e)}function ke(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function E(e){return document.createElement(e)}function An(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function V(e){return document.createTextNode(e)}function A(){return V(" ")}function he(){return V("")}function T(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function Me(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function lt(e){return function(t){t.target===this&&e.call(this,t)}}function y(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Tt(e,t){for(let n in t)y(e,n,t[n])}function Ii(e){return Array.from(e.childNodes)}function ce(e,t){t=""+t,e.data!==t&&(e.data=t)}function _e(e,t,n,o){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function Hi(e,t,{bubbles:n=!1,cancelable:o=!1}={}){let i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,o,t),i}function Mt(e,t){return new e(t)}var ze;function He(e){ze=e}function Tn(){if(!ze)throw new Error("Function called outside component initialization");return ze}function Le(e){Tn().$$.on_mount.push(e)}function Ve(){let e=Tn();return(t,n,{cancelable:o=!1}={})=>{let i=e.$$.callbacks[t];if(i){let r=Hi(t,n,{cancelable:o});return i.slice().forEach(s=>{s.call(e,r)}),!r.defaultPrevented}return!0}}var Fe=[];var U=[],Pe=[],St=[],qi=Promise.resolve(),Ot=!1;function zi(){Ot||(Ot=!0,qi.then(Mn))}function Ft(e){Pe.push(e)}function Lt(e){St.push(e)}var Et=new Set,Oe=0;function Mn(){if(Oe!==0)return;let e=ze;do{try{for(;Oe<Fe.length;){let t=Fe[Oe];Oe++,He(t),Vi(t.$$)}}catch(t){throw Fe.length=0,Oe=0,t}for(He(null),Fe.length=0,Oe=0;U.length;)U.pop()();for(let t=0;t<Pe.length;t+=1){let n=Pe[t];Et.has(n)||(Et.add(n),n())}Pe.length=0}while(Fe.length);for(;St.length;)St.pop()();Ot=!1,Et.clear(),He(e)}function Vi(e){if(e.fragment!==null){e.update(),H(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ft)}}function Bi(e){let t=[],n=[];Pe.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),Pe=t}var it=new Set,we;function Q(){we={r:0,c:[],p:we}}function W(){we.r||H(we.c),we=we.p}function k(e,t){e&&e.i&&(it.delete(e),e.i(t))}function x(e,t,n,o){if(e&&e.o){if(it.has(e))return;it.add(e),we.c.push(()=>{it.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}function Ln(e,t){let n={},o={},i={$$scope:1},r=e.length;for(;r--;){let s=e[r],c=t[r];if(c){for(let l in s)l in c||(o[l]=1);for(let l in c)i[l]||(n[l]=c[l],i[l]=1);e[r]=c}else for(let l in s)i[l]=1}for(let s in o)s in n||(n[s]=void 0);return n}var $i=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],Zs=new Set([...$i]);function jt(e,t,n){let o=e.$$.props[t];o!==void 0&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function D(e){e&&e.c()}function L(e,t,n,o){let{fragment:i,after_update:r}=e.$$;i&&i.m(t,n),o||Ft(()=>{let s=e.$$.on_mount.map(Pt).filter(Y);e.$$.on_destroy?e.$$.on_destroy.push(...s):H(s),e.$$.on_mount=[]}),r.forEach(Ft)}function M(e,t){let n=e.$$;n.fragment!==null&&(Bi(n.after_update),H(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ui(e,t){e.$$.dirty[0]===-1&&(Fe.push(e),zi(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function q(e,t,n,o,i,r,s,c=[-1]){let l=ze;He(e);let u=e.$$={fragment:null,ctx:[],props:r,update:P,not_equal:i,bound:Sn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Sn(),dirty:c,skip_bound:!1,root:t.target||l.$$.root};s&&s(u.root);let a=!1;if(u.ctx=n?n(e,t.props||{},(d,f,...m)=>{let p=m.length?m[0]:f;return u.ctx&&i(u.ctx[d],u.ctx[d]=p)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](p),a&&Ui(e,d)),f}):[],u.update(),a=!0,H(u.before_update),u.fragment=o?o(u.ctx):!1,t.target){if(t.hydrate){Ri();let d=Ii(t.target);u.fragment&&u.fragment.l(d),d.forEach(S)}else u.fragment&&u.fragment.c();t.intro&&k(e.$$.fragment),L(e,t.target,t.anchor,t.customElement),Ni(),Mn()}He(l)}var Qi;typeof HTMLElement=="function"&&(Qi=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(Pt).filter(Y);for(let t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){H(this.$$.on_disconnect)}$destroy(){M(this,1),this.$destroy=P}$on(e,t){if(!Y(t))return P;let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let o=n.indexOf(t);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!Fn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});var N=class{$destroy(){M(this,1),this.$destroy=P}$on(t,n){if(!Y(n))return P;let o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{let i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(t){this.$$set&&!Fn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};var je=[];function pe(e,t=P){let n,o=new Set;function i(c){if(R(e,c)&&(e=c,n)){let l=!je.length;for(let u of o)u[1](),je.push(u,e);if(l){for(let u=0;u<je.length;u+=2)je[u][0](je[u+1]);je.length=0}}}function r(c){i(c(e))}function s(c,l=P){let u=[c,l];return o.add(u),o.size===1&&(n=t(i)||P),c(e),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:s}}function $e(e){return e.split("-")[1]}function It(e){return e==="y"?"height":"width"}function Ce(e){return e.split("-")[0]}function Ue(e){return["top","bottom"].includes(Ce(e))?"x":"y"}function jn(e,t,n){let{reference:o,floating:i}=e,r=o.x+o.width/2-i.width/2,s=o.y+o.height/2-i.height/2,c=Ue(t),l=It(c),u=o[l]/2-i[l]/2,a=Ce(t),d=c==="x",f;switch(a){case"top":f={x:r,y:o.y-i.height};break;case"bottom":f={x:r,y:o.y+o.height};break;case"right":f={x:o.x+o.width,y:s};break;case"left":f={x:o.x-i.width,y:s};break;default:f={x:o.x,y:o.y}}switch($e(t)){case"start":f[c]-=u*(n&&d?-1:1);break;case"end":f[c]+=u*(n&&d?-1:1);break}return f}var Dn=async(e,t,n)=>{let{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:s}=n,c=r.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t)),u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:a,y:d}=jn(u,o,l),f=o,m={},p=0;for(let v=0;v<c.length;v++){let{name:_,fn:b}=c[v],{x:w,y:h,data:g,reset:F}=await b({x:a,y:d,initialPlacement:o,placement:f,strategy:i,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});if(a=w??a,d=h??d,m={...m,[_]:{...m[_],...g}},F&&p<=50){p++,typeof F=="object"&&(F.placement&&(f=F.placement),F.rects&&(u=F.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):F.rects),{x:a,y:d}=jn(u,f,l)),v=-1;continue}}return{x:a,y:d,placement:f,strategy:i,middlewareData:m}};function Qe(e,t){return typeof e=="function"?e(t):e}function Wi(e){return{top:0,right:0,bottom:0,left:0,...e}}function Rn(e){return typeof e!="number"?Wi(e):{top:e,right:e,bottom:e,left:e}}function Be(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Ht(e,t){var n;t===void 0&&(t={});let{x:o,y:i,platform:r,rects:s,elements:c,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:a="viewport",elementContext:d="floating",altBoundary:f=!1,padding:m=0}=Qe(t,e),p=Rn(m),_=c[f?d==="floating"?"reference":"floating":d],b=Be(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(_)))==null||n?_:_.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(c.floating)),boundary:u,rootBoundary:a,strategy:l})),w=d==="floating"?{...s.floating,x:o,y:i}:s.reference,h=await(r.getOffsetParent==null?void 0:r.getOffsetParent(c.floating)),g=await(r.isElement==null?void 0:r.isElement(h))?await(r.getScale==null?void 0:r.getScale(h))||{x:1,y:1}:{x:1,y:1},F=Be(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:w,offsetParent:h,strategy:l}):w);return{top:(b.top-F.top+p.top)/g.y,bottom:(F.bottom-b.bottom+p.bottom)/g.y,left:(b.left-F.left+p.left)/g.x,right:(F.right-b.right+p.right)/g.x}}var Dt=Math.min,Ki=Math.max;function Rt(e,t,n){return Ki(e,Dt(t,n))}var qt=e=>({name:"arrow",options:e,async fn(t){let{x:n,y:o,placement:i,rects:r,platform:s,elements:c}=t,{element:l,padding:u=0}=Qe(e,t)||{};if(l==null)return{};let a=Rn(u),d={x:n,y:o},f=Ue(i),m=It(f),p=await s.getDimensions(l),v=f==="y",_=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",h=r.reference[m]+r.reference[f]-d[f]-r.floating[m],g=d[f]-r.reference[f],F=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l)),I=F?F[w]:0;(!I||!await(s.isElement==null?void 0:s.isElement(F)))&&(I=c.floating[w]||r.floating[m]);let B=h/2-g/2,K=I/2-p[m]/2-1,fe=Dt(a[_],K),de=Dt(a[b],K),j=fe,z=I-p[m]-de,$=I/2-p[m]/2+B,G=Rt(j,$,z),le=$e(i)!=null&&$!=G&&r.reference[m]/2-($<j?fe:de)-p[m]/2<0?$<j?j-$:z-$:0;return{[f]:d[f]-le,data:{[f]:G,centerOffset:$-G}}}});var Gi={left:"right",right:"left",bottom:"top",top:"bottom"};function ct(e){return e.replace(/left|right|bottom|top/g,t=>Gi[t])}function Xi(e,t,n){n===void 0&&(n=!1);let o=$e(e),i=Ue(e),r=It(i),s=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(s=ct(s)),{main:s,cross:ct(s)}}var Yi={start:"end",end:"start"};function Nt(e){return e.replace(/start|end/g,t=>Yi[t])}function Ji(e){let t=ct(e);return[Nt(e),t,Nt(t)]}function Zi(e,t,n){let o=["left","right"],i=["right","left"],r=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:o:t?o:i;case"left":case"right":return t?r:s;default:return[]}}function er(e,t,n,o){let i=$e(e),r=Zi(Ce(e),n==="start",o);return i&&(r=r.map(s=>s+"-"+i),t&&(r=r.concat(r.map(Nt)))),r}var zt=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;let{placement:o,middlewareData:i,rects:r,initialPlacement:s,platform:c,elements:l}=t,{mainAxis:u=!0,crossAxis:a=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...v}=Qe(e,t),_=Ce(o),b=Ce(s)===s,w=await(c.isRTL==null?void 0:c.isRTL(l.floating)),h=d||(b||!p?[ct(s)]:Ji(s));!d&&m!=="none"&&h.push(...er(s,p,m,w));let g=[s,...h],F=await Ht(t,v),I=[],B=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&I.push(F[_]),a){let{main:j,cross:z}=Xi(o,r,w);I.push(F[j],F[z])}if(B=[...B,{placement:o,overflows:I}],!I.every(j=>j<=0)){var K,fe;let j=(((K=i.flip)==null?void 0:K.index)||0)+1,z=g[j];if(z)return{data:{index:j,overflows:B},reset:{placement:z}};let $=(fe=B.filter(G=>G.overflows[0]<=0).sort((G,se)=>G.overflows[1]-se.overflows[1])[0])==null?void 0:fe.placement;if(!$)switch(f){case"bestFit":{var de;let G=(de=B.map(se=>[se.placement,se.overflows.filter(le=>le>0).reduce((le,me)=>le+me,0)]).sort((se,le)=>se[1]-le[1])[0])==null?void 0:de[0];G&&($=G);break}case"initialPlacement":$=s;break}if(o!==$)return{reset:{placement:$}}}return{}}}};async function tr(e,t){let{placement:n,platform:o,elements:i}=e,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),s=Ce(n),c=$e(n),l=Ue(n)==="x",u=["left","top"].includes(s)?-1:1,a=r&&l?-1:1,d=Qe(t,e),{mainAxis:f,crossAxis:m,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return c&&typeof p=="number"&&(m=c==="end"?p*-1:p),l?{x:m*a,y:f*u}:{x:f*u,y:m*a}}var Vt=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){let{x:n,y:o}=t,i=await tr(t,e);return{x:n+i.x,y:o+i.y,data:i}}}};function nr(e){return e==="x"?"y":"x"}var Bt=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:n,y:o,placement:i}=t,{mainAxis:r=!0,crossAxis:s=!1,limiter:c={fn:_=>{let{x:b,y:w}=_;return{x:b,y:w}}},...l}=Qe(e,t),u={x:n,y:o},a=await Ht(t,l),d=Ue(Ce(i)),f=nr(d),m=u[d],p=u[f];if(r){let _=d==="y"?"top":"left",b=d==="y"?"bottom":"right",w=m+a[_],h=m-a[b];m=Rt(w,m,h)}if(s){let _=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=p+a[_],h=p-a[b];p=Rt(w,p,h)}let v=c.fn({...t,[d]:m,[f]:p});return{...v,data:{x:v.x-n,y:v.y-o}}}}};function ne(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ae(e){return ne(e).getComputedStyle(e)}function Bn(e){return e instanceof ne(e).Node}function ge(e){return Bn(e)?(e.nodeName||"").toLowerCase():""}function ue(e){return e instanceof ne(e).HTMLElement}function J(e){return e instanceof ne(e).Element}function Nn(e){if(typeof ShadowRoot>"u")return!1;let t=ne(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Ge(e){let{overflow:t,overflowX:n,overflowY:o,display:i}=ae(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(i)}function or(e){return["table","td","th"].includes(ge(e))}function $t(e){let t=Ut(),n=ae(e);return n.transform!=="none"||n.perspective!=="none"||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Ut(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ut(e){return["html","body","#document"].includes(ge(e))}var In=Math.min,We=Math.max,at=Math.round;function $n(e){let t=ae(e),n=parseFloat(t.width)||0,o=parseFloat(t.height)||0,i=ue(e),r=i?e.offsetWidth:n,s=i?e.offsetHeight:o,c=at(n)!==r||at(o)!==s;return c&&(n=r,o=s),{width:n,height:o,fallback:c}}function Un(e){return J(e)?e:e.contextElement}var Qn={x:1,y:1};function De(e){let t=Un(e);if(!ue(t))return Qn;let n=t.getBoundingClientRect(),{width:o,height:i,fallback:r}=$n(t),s=(r?at(n.width):n.width)/o,c=(r?at(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}var Hn={x:0,y:0};function Wn(e,t,n){var o,i;if(t===void 0&&(t=!0),!Ut())return Hn;let r=e?ne(e):window;return!n||t&&n!==r?Hn:{x:((o=r.visualViewport)==null?void 0:o.offsetLeft)||0,y:((i=r.visualViewport)==null?void 0:i.offsetTop)||0}}function xe(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);let i=e.getBoundingClientRect(),r=Un(e),s=Qn;t&&(o?J(o)&&(s=De(o)):s=De(e));let c=Wn(r,n,o),l=(i.left+c.x)/s.x,u=(i.top+c.y)/s.y,a=i.width/s.x,d=i.height/s.y;if(r){let f=ne(r),m=o&&J(o)?ne(o):o,p=f.frameElement;for(;p&&o&&m!==f;){let v=De(p),_=p.getBoundingClientRect(),b=getComputedStyle(p);_.x+=(p.clientLeft+parseFloat(b.paddingLeft))*v.x,_.y+=(p.clientTop+parseFloat(b.paddingTop))*v.y,l*=v.x,u*=v.y,a*=v.x,d*=v.y,l+=_.x,u+=_.y,p=ne(p).frameElement}}return Be({width:a,height:d,x:l,y:u})}function be(e){return((Bn(e)?e.ownerDocument:e.document)||window.document).documentElement}function ft(e){return J(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ir(e){let{rect:t,offsetParent:n,strategy:o}=e,i=ue(n),r=be(n);if(n===r)return t;let s={scrollLeft:0,scrollTop:0},c={x:1,y:1},l={x:0,y:0};if((i||!i&&o!=="fixed")&&((ge(n)!=="body"||Ge(r))&&(s=ft(n)),ue(n))){let u=xe(n);c=De(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-s.scrollLeft*c.x+l.x,y:t.y*c.y-s.scrollTop*c.y+l.y}}function Kn(e){return xe(be(e)).left+ft(e).scrollLeft}function rr(e){let t=be(e),n=ft(e),o=e.ownerDocument.body,i=We(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),r=We(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight),s=-n.scrollLeft+Kn(e),c=-n.scrollTop;return ae(o).direction==="rtl"&&(s+=We(t.clientWidth,o.clientWidth)-i),{width:i,height:r,x:s,y:c}}function Re(e){if(ge(e)==="html")return e;let t=e.assignedSlot||e.parentNode||Nn(e)&&e.host||be(e);return Nn(t)?t.host:t}function Gn(e){let t=Re(e);return ut(t)?t.ownerDocument.body:ue(t)&&Ge(t)?t:Gn(t)}function Ke(e,t){var n;t===void 0&&(t=[]);let o=Gn(e),i=o===((n=e.ownerDocument)==null?void 0:n.body),r=ne(o);return i?t.concat(r,r.visualViewport||[],Ge(o)?o:[]):t.concat(o,Ke(o))}function sr(e,t){let n=ne(e),o=be(e),i=n.visualViewport,r=o.clientWidth,s=o.clientHeight,c=0,l=0;if(i){r=i.width,s=i.height;let u=Ut();(!u||u&&t==="fixed")&&(c=i.offsetLeft,l=i.offsetTop)}return{width:r,height:s,x:c,y:l}}function lr(e,t){let n=xe(e,!0,t==="fixed"),o=n.top+e.clientTop,i=n.left+e.clientLeft,r=ue(e)?De(e):{x:1,y:1},s=e.clientWidth*r.x,c=e.clientHeight*r.y,l=i*r.x,u=o*r.y;return{width:s,height:c,x:l,y:u}}function qn(e,t,n){let o;if(t==="viewport")o=sr(e,n);else if(t==="document")o=rr(be(e));else if(J(t))o=lr(t,n);else{let i=Wn(e);o={...t,x:t.x-i.x,y:t.y-i.y}}return Be(o)}function Xn(e,t){let n=Re(e);return n===t||!J(n)||ut(n)?!1:ae(n).position==="fixed"||Xn(n,t)}function cr(e,t){let n=t.get(e);if(n)return n;let o=Ke(e).filter(c=>J(c)&&ge(c)!=="body"),i=null,r=ae(e).position==="fixed",s=r?Re(e):e;for(;J(s)&&!ut(s);){let c=ae(s),l=$t(s);!l&&c.position==="fixed"&&(i=null),(r?!l&&!i:!l&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ge(s)&&!l&&Xn(e,s))?o=o.filter(a=>a!==s):i=c,s=Re(s)}return t.set(e,o),o}function ar(e){let{element:t,boundary:n,rootBoundary:o,strategy:i}=e,s=[...n==="clippingAncestors"?cr(t,this._c):[].concat(n),o],c=s[0],l=s.reduce((u,a)=>{let d=qn(t,a,i);return u.top=We(d.top,u.top),u.right=In(d.right,u.right),u.bottom=In(d.bottom,u.bottom),u.left=We(d.left,u.left),u},qn(t,c,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ur(e){return $n(e)}function zn(e,t){return!ue(e)||ae(e).position==="fixed"?null:t?t(e):e.offsetParent}function fr(e){let t=Re(e);for(;ue(t)&&!ut(t);){if($t(t))return t;t=Re(t)}return null}function Vn(e,t){let n=ne(e);if(!ue(e))return n;let o=zn(e,t);for(;o&&or(o)&&ae(o).position==="static";)o=zn(o,t);return o&&(ge(o)==="html"||ge(o)==="body"&&ae(o).position==="static"&&!$t(o))?n:o||fr(e)||n}function dr(e,t,n){let o=ue(t),i=be(t),r=n==="fixed",s=xe(e,!0,r,t),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};if(o||!o&&!r)if((ge(t)!=="body"||Ge(i))&&(c=ft(t)),ue(t)){let u=xe(t,!0,r,t);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else i&&(l.x=Kn(i));return{x:s.left+c.scrollLeft-l.x,y:s.top+c.scrollTop-l.y,width:s.width,height:s.height}}var mr={getClippingRect:ar,convertOffsetParentRelativeRectToViewportRelativeRect:ir,isElement:J,getDimensions:ur,getOffsetParent:Vn,getDocumentElement:be,getScale:De,async getElementRects(e){let{reference:t,floating:n,strategy:o}=e,i=this.getOffsetParent||Vn,r=this.getDimensions;return{reference:dr(t,await i(n),o),floating:{x:0,y:0,...await r(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>ae(e).direction==="rtl"};function Yn(e,t,n,o){o===void 0&&(o={});let{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:s=!0,animationFrame:c=!1}=o,l=i||r?[...J(e)?Ke(e):e.contextElement?Ke(e.contextElement):[],...Ke(t)]:[];l.forEach(m=>{let p=!J(m)&&m.toString().includes("V");i&&(!c||p)&&m.addEventListener("scroll",n,{passive:!0}),r&&m.addEventListener("resize",n)});let u=null;s&&(u=new ResizeObserver(()=>{n()}),J(e)&&!c&&u.observe(e),!J(e)&&e.contextElement&&!c&&u.observe(e.contextElement),u.observe(t));let a,d=c?xe(e):null;c&&f();function f(){let m=xe(e);d&&(m.x!==d.x||m.y!==d.y||m.width!==d.width||m.height!==d.height)&&n(),d=m,a=requestAnimationFrame(f)}return n(),()=>{var m;l.forEach(p=>{i&&p.removeEventListener("scroll",n),r&&p.removeEventListener("resize",n)}),(m=u)==null||m.disconnect(),u=null,c&&cancelAnimationFrame(a)}}var Jn=(e,t,n)=>{let o=new Map,i={platform:mr,...n},r={...i.platform,_c:o};return Dn(e,t,{...i,platform:r})};var pr=1,Qt=async(e,t,n)=>new Promise(o=>{n?.classList.add(e),n?.classList.remove(t),n?.addEventListener("animationend",()=>{n?.classList.remove(e),o()})}),Wt=(e,t)=>(Zn(t),new Promise(n=>{setTimeout(()=>{Zn(t),n()},e)})),eo=()=>pr++,Zn=e=>{clearTimeout(e)};var oe={html:!1,target:"body",placement:"top",shiftPadding:0,offset:10,delay:0,constant:!1,visibility:!0,classes:{container:"svooltip",content:"svooltip-content",arrow:"svooltip-arrow",animationEnter:"svooltip-entering",animationLeave:"svooltip-leaving"},middleware:[]};var dt=(e,t)=>{let{content:n,html:o=oe.html,target:i=oe.target,placement:r=oe.placement,shiftPadding:s=oe.shiftPadding,offset:c=oe.offset,delay:l=oe.delay,constant:u=oe.constant,classes:a=oe.classes,middleware:d=oe.middleware,visibility:f=oe.visibility,onMount:m,onDestroy:p}=t,v=f;if(!n)return;let _=typeof i=="string"?document.querySelector(i):i,b={in:typeof l=="number"?l:l[0],out:typeof l=="number"?l:l[1]},w=`svooltip-${eo()}`,h=e.title||n;e.removeAttribute("title");let g,F,I,B=!1,K=!1,fe,de=!1,j=({key:me})=>{(me==="Escape"||me==="Esc")&&le()},z,$=()=>{g||K||(g=document.createElement("div"),g.setAttribute("id",w),g.setAttribute("role","tooltip"),g.setAttribute("data-placement",r),g.setAttribute("class",a.container),F=document.createElement("span"),F.setAttribute("class",a.content),F[o?"innerHTML":"textContent"]=h,I=document.createElement("div"),I.setAttribute("class",a.arrow),g.append(I),g.append(F))},G=()=>{!g||!I||Jn(e,g,{placement:r,middleware:[Vt(c),zt(),Bt({padding:s}),qt({element:I}),...d]}).then(({x:me,y:xi,placement:Ei,middlewareData:Si})=>{g.style.left=`${me}px`,g.style.top=`${xi}px`;let{x:Cn,y:xn}=Si.arrow,Oi={top:"bottom",right:"left",bottom:"top",left:"right"}[Ei.split("-")[0]],Fi=(I.getBoundingClientRect().width/3).toFixed();Object.assign(I.style,{left:Cn!=null?`${Cn}px`:"",top:xn!=null?`${xn}px`:"",right:"",bottom:"",[Oi]:`-${Fi}px`})})},se=async()=>{if(!g&&v){if(b.in>0&&(await Wt(b.in,fe),de||!B||K||g))return;if(e.setAttribute("aria-describedby",w),$(),G(),z&&z(),z=Yn(e,g,G),!_)throw new Error(`[SVooltip] Cannot find \`${_}\``);if(!g)throw new Error("[SVooltip] Tooltip has not been created.");_.append(g),await Qt(a.animationEnter,a.animationLeave,g),m?.(),K=!0}},le=async()=>{(g||K)&&(b.out>0&&await Wt(b.out,fe),await Qt(a.animationLeave,a.animationEnter,g),z&&z(),g&&(e.removeAttribute("aria-describedby"),K=!1,g.remove(),g=null,p?.()))};if(u)se();else return e.addEventListener("mouseenter",se),e.addEventListener("mouseenter",()=>B=!0),e.addEventListener("focus",se),e.addEventListener("mouseleave",le),e.addEventListener("mouseleave",()=>B=!1),e.addEventListener("blur",le),window.addEventListener("keydown",j),{update(me){h=me.content,o=me.html||!1,v=me.visibility||f,g&&F&&(F[o?"innerHTML":"textContent"]=h,G())},destroy(){g&&(e.removeAttribute("aria-describedby"),K=!1,g.remove(),g=null),window.removeEventListener("keydown",j),p?.(),de=!0}}};function hr(e){let t,n=[{width:e[1]},{height:e[1]},{"stroke-width":"0"},{class:e[2]},e[0].a,e[4],{xmlns:"http://www.w3.org/2000/svg"}],o={};for(let i=0;i<n.length;i+=1)o=On(o,n[i]);return{c(){t=An("svg"),Tt(t,o)},m(i,r){O(i,t,r),t.innerHTML=e[3]},p(i,[r]){r&8&&(t.innerHTML=i[3]),Tt(t,o=Ln(n,[r&2&&{width:i[1]},r&2&&{height:i[1]},{"stroke-width":"0"},r&4&&{class:i[2]},r&1&&i[0].a,r&16&&i[4],{xmlns:"http://www.w3.org/2000/svg"}]))},i:P,o:P,d(i){i&&S(t)}}}function _r(e,t,n){let{src:o}=t,{size:i="1em"}=t,{color:r=void 0}=t,{title:s=void 0}=t,{className:c=""}=t,l,u;return e.$$set=a=>{"src"in a&&n(0,o=a.src),"size"in a&&n(1,i=a.size),"color"in a&&n(5,r=a.color),"title"in a&&n(6,s=a.title),"className"in a&&n(2,c=a.className)},e.$$.update=()=>{if(e.$$.dirty&33)e:n(4,u={}),r&&(o.a.stroke!=="none"&&n(4,u.stroke=r,u),o.a.fill!=="none"&&n(4,u.fill=r,u));if(e.$$.dirty&65)e:n(3,l=(s?`<title>${s}</title>`:"")+o.c)},[o,i,c,l,u,r,s]}var Kt=class extends N{constructor(t){super(),q(this,t,_r,hr,R,{src:0,size:1,color:5,title:6,className:2})}},X=Kt;var to={a:{viewBox:"0 0 24 24"},c:`<g><path fill="none" d="M0 0H24V24H0z"></path>
<path d="M12 19c.828 0 1.5.672 1.5 1.5S12.828 22 12 22s-1.5-.672-1.5-1.5.672-1.5 1.5-1.5zm0-17c3.314 0 6 2.686 6 6 0 2.165-.753 3.29-2.674 4.923C13.399 14.56 13 15.297 13 17h-2c0-2.474.787-3.695 3.031-5.601C15.548 10.11 16 9.434 16 8c0-2.21-1.79-4-4-4S8 5.79 8 8v1H6V8c0-3.314 2.686-6 6-6z"></path></g>`};var no={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" clip-rule="evenodd" d="M14.431 3.323l-8.47 10-.79-.036-3.35-4.77.818-.574 2.978 4.24 8.051-9.506.764.646z"></path>'};var oo={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" clip-rule="evenodd" d="M7.116 8l-4.558 4.558.884.884L8 8.884l4.558 4.558.884-.884L8.884 8l4.558-4.558-.884-.884L8 7.116 3.442 2.558l-.884.884L7.116 8z"></path>'};function io(e,t,n){let o=e.slice();o[4]=t[n];let i=o[1][o[4]];return o[5]=i,o}function gr(e){let t,n,o,i;return t=new X({props:{color:"currentColor",src:to}}),{c(){D(t.$$.fragment),n=A(),o=E("span"),o.textContent="Validity Unknown",y(o,"class","theme-validity-text")},m(r,s){L(t,r,s),O(r,n,s),O(r,o,s),i=!0},p:P,i(r){i||(k(t.$$.fragment,r),i=!0)},o(r){x(t.$$.fragment,r),i=!1},d(r){M(t,r),r&&S(n),r&&S(o)}}}function br(e){let t,n,o,i;return t=new X({props:{color:"currentColor",src:oo}}),{c(){D(t.$$.fragment),n=A(),o=E("span"),o.textContent="Invalid",y(o,"class","theme-validity-text")},m(r,s){L(t,r,s),O(r,n,s),O(r,o,s),i=!0},p:P,i(r){i||(k(t.$$.fragment,r),i=!0)},o(r){x(t.$$.fragment,r),i=!1},d(r){M(t,r),r&&S(n),r&&S(o)}}}function yr(e){let t,n,o,i;return t=new X({props:{color:"currentColor",src:no}}),{c(){D(t.$$.fragment),n=A(),o=E("span"),o.textContent="Valid",y(o,"class","theme-validity-text")},m(r,s){L(t,r,s),O(r,n,s),O(r,o,s),i=!0},p:P,i(r){i||(k(t.$$.fragment,r),i=!0)},o(r){x(t.$$.fragment,r),i=!1},d(r){M(t,r),r&&S(n),r&&S(o)}}}function ro(e){let t,n,o=e[4]+"",i,r,s,c,l,u,a,d,f,m,p=e[5].enabled?"Disable":"Enable",v,_,b,w,h,g,F,I=[yr,br,gr],B=[];function K(j,z){return j[5].valid===!0?0:j[5].valid===!1?1:2}l=K(e,-1),u=B[l]=I[l](e);function fe(){return e[2](e[4])}function de(){return e[3](e[4])}return{c(){t=E("div"),n=E("h1"),i=V(o),r=A(),s=E("div"),c=E("div"),u.c(),f=A(),m=E("button"),v=V(p),_=A(),y(n,"class","theme-id PopcornUI-fvjo5t"),y(c,"class","theme-validity PopcornUI-fvjo5t"),y(c,"data-value",a=e[5].valid),y(s,"class","theme-meta PopcornUI-fvjo5t"),y(m,"class","theme-toggle PopcornUI-fvjo5t"),y(t,"class","theme-container PopcornUI-fvjo5t"),y(t,"id",b=e[4]),y(t,"data-enabled",w=e[5].enabled)},m(j,z){O(j,t,z),C(t,n),C(n,i),C(t,r),C(t,s),C(s,c),B[l].m(c,null),C(t,f),C(t,m),C(m,v),C(t,_),h=!0,g||(F=[At(d=dt.call(null,c,{content:wr(e[5].errors),target:"#PopcornUI-layers"})),T(m,"click",fe),T(m,"submit",de)],g=!0)},p(j,z){e=j,u.p(e,z)},i(j){h||(k(u),h=!0)},o(j){x(u),h=!1},d(j){j&&S(t),B[l].d(),g=!1,H(F)}}}function so(e){let t=e[0][e[4]],n,o,i=ro(e);return{c(){i.c(),n=he()},m(r,s){i.m(r,s),O(r,n,s),o=!0},p(r,s){s&1&&R(t,t=r[0][r[4]])?(Q(),x(i,1,1,P),W(),i=ro(r),i.c(),k(i,1),i.m(n.parentNode,n)):i.p(r,s)},i(r){o||(k(i),o=!0)},o(r){x(i),o=!1},d(r){r&&S(n),i.d(r)}}}function vr(e){let t,n,o=Object.keys(e[1]),i=[];for(let s=0;s<o.length;s+=1)i[s]=so(io(e,o,s));let r=s=>x(i[s],1,1,()=>{i[s]=null});return{c(){t=E("div");for(let s=0;s<i.length;s+=1)i[s].c();y(t,"class","themes-wrapper PopcornUI-fvjo5t")},m(s,c){O(s,t,c);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(t,null);n=!0},p(s,[c]){if(c&3){o=Object.keys(s[1]);let l;for(l=0;l<o.length;l+=1){let u=io(s,o,l);i[l]?(i[l].p(u,c),k(i[l],1)):(i[l]=so(u),i[l].c(),k(i[l],1),i[l].m(t,null))}for(Q(),l=o.length;l<i.length;l+=1)r(l);W()}},i(s){if(!n){for(let c=0;c<o.length;c+=1)k(i[c]);n=!0}},o(s){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)x(i[c]);n=!1},d(s){s&&S(t),ke(i,s)}}}var lo=pe({});function mt(e){lo.update(t=>(t[e]=!t[e],t))}function wr(e){return e.map(t=>`Line ${t.line}: ${t.message}`).join(`
 `)}function kr(e,t,n){let o;te(e,lo,c=>n(0,o=c));let i=Popcorn.themes;return[o,i,c=>window.Popcorn.themes[c].toggle(),c=>window.Popcorn.themes[c].toggle()]}var Gt=class extends N{constructor(t){super(),q(this,t,kr,vr,R,{})}},co=Gt;var pt={main:"POPCORN_",quickCss:"QUICKCSS_",themes:"THEMES_"},ao=uo({getConfig:"GET_CONFIG",statusMessage:"STATUS_MESSAGE",log:"LOG",getThemes:"GET_THEMES",onThemeChange:"ON_THEME_CHANGE",saveThemeState:"SAVE_THEME_STATE",getQuickCss:"GET_QUICK_CSS",onQuickCssChange:"ON_QUICK_CSS_CHANGE",createQuickCssNode:"CREATE_QUICK_CSS_NODE",deleteQuickCssNode:"DELETE_QUICK_CSS_NODE",renameQuickCssNode:"RENAME_QUICK_CSS_NODE",updateQuickCssFile:"SAVE_QUICK_CSS_FILE"},pt.main),Xe={quickCss:uo({created:"QUICKCSS_CREATED",deleted:"QUICKCSS_DELETED",renamed:"QUICKCSS_RENAMED",updated:"QUICKCSS_UPDATED"},pt.quickCss)};function uo(e,t){let n={};for(let o in e)n[o]=t+e[o];return n}var Xt=class{module;output;constructor(t,n="console"){this.module=t,this.output=this.#e(n)}#e(t){switch(t){case"ansi":case"terminal":return"ansi";default:return"console"}}#t(t){switch(t){case"info":case"warn":case"error":case"debug":return t;default:return"log"}}#o(t){switch(t){case"debug":return{str:"MediumSpringGreen",arr:[0,250,154]};case"info":return{str:"DeepSkyBlue",arr:[0,191,255]};case"error":return{str:"crimson",arr:[220,20,60]};case"warn":return{str:"DarkOrange",arr:[255,140,0]};default:return{str:"gold",arr:[255,215,0]}}}#i(t,n){return`\x1B[38;2;${t[0]};${t[1]};${t[2]}m${n}\x1B[0m`}async#n(t,n){t=this.#t(t);let o=this.#o(t),i=this.output==="ansi"?[`[${this.#i(o.arr,"Popcorn")} > ${this.module}]`]:[`[%cPopcorn%c > ${this.module}]`,`color: ${o.str};`,""];if(console[t](...i,...n),this.output==="ansi"){let{BrowserWindow:r}=await import("electron");r.getAllWindows().forEach(s=>s.webContents.send(ao.log,t,...n))}}log=(...t)=>this.#n("log",t);info=(...t)=>this.#n("info",t);warn=(...t)=>this.#n("warn",t);error=(...t)=>this.#n("error",t);debug=(...t)=>this.#n("debug",t)},Ne=Xt;var Ie=new Ne("Themes"),Yt=class{id;jsonLocation;#e;constructor(t,n){xt(this),this.id=t,this.jsonLocation=n.jsonLocation,this.#t=n.enabled,mo&&this.#o(),n.enabled&&this.enable(!1)}#t;get enabled(){return this.#t}set enabled(t){t?this.enable():this.disable(),this.#t=t}enable(t=!0){if(this.#e){Ie.log(`"${this.id}" is already enabled.`);return}this.#t=!0;let n=this.#e=document.createElement("link");n.rel="stylesheet",n.id=this.id,n.href=`popcorn://theme/${this.id}`,n.dataset.popcorn="true",Ee.end.before(n),Ie.log(`"${this.id}" enabled.`),mt(this.id),t&&PopcornNative.saveThemeState(this.id,!0)}disable(t=!0){if(!this.#e){Ie.warn(`"${this.id}" is not enabled.`);return}this.#t=!1,this.#e.remove(),this.#e=null,Ie.log(`"${this.id}" disabled.`),mt(this.id),t&&PopcornNative.saveThemeState(this.id,!1)}toggle(t=!0){this.enabled?this.disable(t):this.enable(t)}update(){let t=fetch(`popcorn://theme/${this.id}`);this.#o(t)}valid="unknown";errors=[];async#o(t){t??=fetch(`popcorn://theme/${this.id}`);let n;typeof t=="string"?n=t:n=await(await t).text(),PopcornNative.validateCSS(n).then(o=>{ye.verbose&&Ie.debug(`Validated "${this.id}".`,o),this.valid=o.valid,this.errors=o.errors,mt(this.id)}).catch(o=>{Ie.error(`Failed to validate "${this.id}".`,o)})}},Ye=class{start(){this.watchThemes()}watchThemes(){PopcornNative.onThemeChange(({id:t})=>{window.Popcorn.themes[t].update()})}};function fo(e){let t={};for(let n in e)t[n]=new Yt(n,e[n]);return t}var _n=Ct(Jt());var Vo=Ct(Jt()),Bo=Ct(qo());var{window:hs}=st;function zo(e){let t;return{c(){t=E("p"),t.textContent="Loading monaco editor...",y(t,"class","loading-overlay")},m(n,o){O(n,t,o)},d(n){n&&S(t)}}}function _s(e){let t,n,o,i,r,s=!e[1]&&zo(e);return{c(){t=E("div"),s&&s.c(),n=A(),o=E("div"),y(o,"class","monaco-editor PopcornUI-1tm8p33"),y(t,"class","monaco-wrapper")},m(c,l){O(c,t,l),s&&s.m(t,null),C(t,n),C(t,o),e[9](o),i||(r=T(hs,"resize",(0,Vo.debounce)(e[0],50)),i=!0)},p(c,[l]){c[1]?s&&(s.d(1),s=null):s||(s=zo(c),s.c(),s.m(t,n))},i:P,o:P,d(c){c&&S(t),s&&s.d(),e[9](null),i=!1,r()}}}function gs(e,t,n){let o,{editor:i=null}=t,{content:r}=t,{actions:s=[]}=t,{commands:c=[]}=t,{options:l={}}=t,u=Ve(),a=!1;Le(async()=>{let p=await Bo.default.init();p.editor.onDidCreateEditor(()=>{n(1,a=!0),f(),u("ready")}),n(3,i=p.editor.create(o,{language:"css",theme:"vs-dark",...l,value:r}));let v=c.map(_=>({..._,keybinding:_.keybinding(p.KeyCode,p.KeyMod)}));for(let _ of v)i.addCommand(_.keybinding,_.handler,_.context??void 0);for(let _ of s){let{id:b,label:w,handler:h}=_;i.addAction({id:"custom."+b,label:w,keybindings:[],run:h})}return i.onDidChangeModelContent(()=>{let _=i.getValue();_!==r&&(n(8,d=!0),n(4,r=_),u("change",r))}),()=>{i.dispose(),n(1,a=!1)}});let d=!1;function f(){a&&window.requestAnimationFrame(()=>{i.layout({width:0,height:0});let p=o.parentElement.getBoundingClientRect();i.layout({width:p.width,height:p.height})})}function m(p){U[p?"unshift":"push"](()=>{o=p,n(2,o)})}return e.$$set=p=>{"editor"in p&&n(3,i=p.editor),"content"in p&&n(4,r=p.content),"actions"in p&&n(5,s=p.actions),"commands"in p&&n(6,c=p.commands),"options"in p&&n(7,l=p.options)},e.$$.update=()=>{if(e.$$.dirty&282)e:typeof r=="string"&&a&&(d||i.getModel().setValue(r),n(8,d=!1))},[f,a,o,i,r,s,c,l,d,m]}var mn=class extends N{constructor(t){super(),q(this,t,gs,_s,R,{editor:3,content:4,actions:5,commands:6,options:7,recalculateSize:0})}get recalculateSize(){return this.$$.ctx[0]}},$o=mn;var Uo={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" clip-rule="evenodd" d="M4 7H3V4H0V3h3V0h1v3h3v1H4v3zm6.5-5.9l3.4 3.5.1.4v8.5l-.5.5h-10l-.5-.5V8h1v5h9V6H9V2H5V1h5.2l.3.1zM10 2v3h2.9L10 2z"></path>'};var Qo={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" clip-rule="evenodd" d="M7 3H4V0H3v3H0v1h3v3h1V4h3V3zM5.5 7H5V6h.3l.8-.9.4-.1H14V4H8V3h6.5l.5.5v10l-.5.5h-13l-.5-.5V5h1v8h12V6H6.7l-.8.9-.4.1z"></path>'};var Wo={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path d="M15 8H1V7h14v1z"></path>'};var Ko={a:{viewBox:"0 0 1024 1024"},c:'<path d="M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 0 0-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zm-180 0H238c-13 0-24.8 7.9-29.7 20L136 643.2V256h188.5l119.6 114.4H748V444z"></path>'};var Go={a:{viewBox:"0 0 1024 1024"},c:'<path d="M880 298.4H521L403.7 186.2a8.15 8.15 0 0 0-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32z"></path>'};var Xo={a:{viewBox:"0 0 512 512"},c:'<path d="M480 32l-64 368-223.3 80L0 400l19.6-94.8h82l-8 40.6L210 390.2l134.1-44.4 18.8-97.1H29.5l16-82h333.7l10.5-52.7H56.3l16.3-82H480z"></path>'};var Yo={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path d="M8 4c.367 0 .721.048 1.063.145a3.943 3.943 0 0 1 1.762 1.031 3.944 3.944 0 0 1 1.03 1.762c.097.34.145.695.145 1.062 0 .367-.048.721-.145 1.063a3.94 3.94 0 0 1-1.03 1.765 4.017 4.017 0 0 1-1.762 1.031C8.72 11.953 8.367 12 8 12s-.721-.047-1.063-.14a4.056 4.056 0 0 1-1.765-1.032A4.055 4.055 0 0 1 4.14 9.062 3.992 3.992 0 0 1 4 8c0-.367.047-.721.14-1.063a4.02 4.02 0 0 1 .407-.953A4.089 4.089 0 0 1 5.98 4.546a3.94 3.94 0 0 1 .957-.401A3.89 3.89 0 0 1 8 4z"></path>'};function bs(e){let t,n=e[1].name+"",o;return{c(){t=E("span"),o=V(n),y(t,"class","item-name")},m(i,r){O(i,t,r),C(t,o)},p(i,r){r&2&&n!==(n=i[1].name+"")&&ce(o,n)},d(i){i&&S(t)}}}function ys(e){let t,n,o,i;return{c(){t=E("input"),y(t,"class","rename-input"),y(t,"autocorrect","off"),y(t,"autocapitalize","off"),y(t,"spellcheck","false"),y(t,"type","text"),t.value=n=e[1].name},m(r,s){O(r,t,s),e[8](t),o||(i=[T(t,"keydown",e[7]),T(t,"focusout",function(){Y(e[0]&&e[6])&&(e[0]&&e[6]).apply(this,arguments)})],o=!0)},p(r,s){e=r,s&2&&n!==(n=e[1].name)&&t.value!==n&&(t.value=n)},d(r){r&&S(t),e[8](null),o=!1,H(i)}}}function Jo(e){let t,n;return t=new X({props:{color:"currentColor",src:Yo}}),{c(){D(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p:P,i(o){n||(k(t.$$.fragment,o),n=!0)},o(o){x(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function vs(e){let t,n,o,i,r,s,c;n=new X({props:{color:"currentColor",src:Xo}});function l(f,m){return f[0]?ys:bs}let u=l(e,-1),a=u(e),d=e[4]?.[e[1].location]?.unsaved&&Jo(e);return{c(){t=E("button"),D(n.$$.fragment),o=A(),a.c(),i=A(),d&&d.c(),y(t,"class","item file"),_e(t,"--depth",e[2])},m(f,m){O(f,t,m),L(n,t,null),C(t,o),a.m(t,null),C(t,i),d&&d.m(t,null),r=!0,s||(c=[T(t,"click",e[5]),T(t,"submit",Me(e[5])),T(t,"dblclick",e[6]),T(t,"keydown",lt(Me(e[7])))],s=!0)},p(f,[m]){u===(u=l(f,m))&&a?a.p(f,m):(a.d(1),a=u(f),a&&(a.c(),a.m(t,i))),f[4]?.[f[1].location]?.unsaved?d?(d.p(f,m),m&18&&k(d,1)):(d=Jo(f),d.c(),k(d,1),d.m(t,null)):d&&(Q(),x(d,1,1,()=>{d=null}),W()),(!r||m&4)&&_e(t,"--depth",f[2])},i(f){r||(k(n.$$.fragment,f),k(d),r=!0)},o(f){x(n.$$.fragment,f),x(d),r=!1},d(f){f&&S(t),M(n),a.d(),d&&d.d(),s=!1,H(c)}}}function ws(e,t,n){let o;te(e,Se,f=>n(4,o=f));let{file:i}=t,{rename:r=!1}=t,{depth:s=0}=t;function c(){re.set(i)}let l;function u(){r&&l?.value!==i.name&&PopcornNative.renameQuickCssNode(i.location,l.value),n(0,r=!r)}function a(f){switch(f.key){case"F2":u();break;case"Enter":r&&u();break}}function d(f){U[f?"unshift":"push"](()=>{l=f,n(3,l)})}return e.$$set=f=>{"file"in f&&n(1,i=f.file),"rename"in f&&n(0,r=f.rename),"depth"in f&&n(2,s=f.depth)},e.$$.update=()=>{if(e.$$.dirty&8)e:l&&(l.focus(),l.setSelectionRange(0,l.value.length-4))},[r,i,s,l,o,c,u,a,d]}var pn=class extends N{constructor(t){super(),q(this,t,ws,vs,R,{file:1,rename:0,depth:2})}},Zo=pn;function ei(e,t,n){let o=e.slice();return o[9]=t[n],o}function ks(e){let t,n;return t=new X({props:{color:"currentColor",src:Go}}),{c(){D(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p:P,i(o){n||(k(t.$$.fragment,o),n=!0)},o(o){x(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function Cs(e){let t,n;return t=new X({props:{color:"currentColor",src:Ko}}),{c(){D(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p:P,i(o){n||(k(t.$$.fragment,o),n=!0)},o(o){x(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function xs(e){let t,n=e[2].name+"",o;return{c(){t=E("span"),o=V(n),y(t,"class","item-name")},m(i,r){O(i,t,r),C(t,o)},p(i,r){r&4&&n!==(n=i[2].name+"")&&ce(o,n)},d(i){i&&S(t)}}}function Es(e){let t,n,o,i;return{c(){t=E("input"),y(t,"class","rename-input"),y(t,"autocorrect","off"),y(t,"autocapitalize","off"),y(t,"spellcheck","false"),y(t,"type","text"),t.value=n=e[2].name},m(r,s){O(r,t,s),e[8](t),o||(i=[T(t,"keydown",e[7]),T(t,"focusout",function(){Y(e[0]&&e[6])&&(e[0]&&e[6]).apply(this,arguments)})],o=!0)},p(r,s){e=r,s&4&&n!==(n=e[2].name)&&t.value!==n&&(t.value=n)},d(r){r&&S(t),e[8](null),o=!1,H(i)}}}function ti(e){let t,n,o=e[2].files,i=[];for(let s=0;s<o.length;s+=1)i[s]=ni(ei(e,o,s));let r=s=>x(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();t=he()},m(s,c){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(s,c);O(s,t,c),n=!0},p(s,c){if(c&12){o=s[2].files;let l;for(l=0;l<o.length;l+=1){let u=ei(s,o,l);i[l]?(i[l].p(u,c),k(i[l],1)):(i[l]=ni(u),i[l].c(),k(i[l],1),i[l].m(t.parentNode,t))}for(Q(),l=o.length;l<i.length;l+=1)r(l);W()}},i(s){if(!n){for(let c=0;c<o.length;c+=1)k(i[c]);n=!0}},o(s){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)x(i[c]);n=!1},d(s){ke(i,s),s&&S(t)}}}function Ss(e){let t,n;return t=new Zo({props:{file:e[9],depth:e[3]+1}}),{c(){D(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p(o,i){let r={};i&4&&(r.file=o[9]),i&8&&(r.depth=o[3]+1),t.$set(r)},i(o){n||(k(t.$$.fragment,o),n=!0)},o(o){x(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function Os(e){let t,n;return t=new yt({props:{folder:e[9],depth:e[3]+1}}),{c(){D(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p(o,i){let r={};i&4&&(r.folder=o[9]),i&8&&(r.depth=o[3]+1),t.$set(r)},i(o){n||(k(t.$$.fragment,o),n=!0)},o(o){x(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function ni(e){let t,n,o,i,r=[Os,Ss],s=[];function c(l,u){return"files"in l[9]?0:1}return t=c(e,-1),n=s[t]=r[t](e),{c(){n.c(),o=he()},m(l,u){s[t].m(l,u),O(l,o,u),i=!0},p(l,u){let a=t;t=c(l,u),t===a?s[t].p(l,u):(Q(),x(s[a],1,1,()=>{s[a]=null}),W(),n=s[t],n?n.p(l,u):(n=s[t]=r[t](l),n.c()),k(n,1),n.m(o.parentNode,o))},i(l){i||(k(n),i=!0)},o(l){x(n),i=!1},d(l){s[t].d(l),l&&S(o)}}}function Fs(e){let t,n,o,i,r,s,c,l,u,a=[Cs,ks],d=[];function f(b,w){return b[1]?0:1}n=f(e,-1),o=d[n]=a[n](e);function m(b,w){return b[0]?Es:xs}let p=m(e,-1),v=p(e),_=e[1]&&ti(e);return{c(){t=E("button"),o.c(),i=A(),v.c(),r=A(),_&&_.c(),s=he(),y(t,"class","item folder"),_e(t,"--depth",e[3]),y(t,"data-opened",e[1])},m(b,w){O(b,t,w),d[n].m(t,null),C(t,i),v.m(t,null),O(b,r,w),_&&_.m(b,w),O(b,s,w),c=!0,l||(u=[T(t,"click",e[5]),T(t,"submit",Me(e[5])),T(t,"dblclick",e[6]),T(t,"keydown",lt(Me(e[7])))],l=!0)},p(b,[w]){let h=n;n=f(b,w),n===h?d[n].p(b,w):(Q(),x(d[h],1,1,()=>{d[h]=null}),W(),o=d[n],o?o.p(b,w):(o=d[n]=a[n](b),o.c()),k(o,1),o.m(t,i)),p===(p=m(b,w))&&v?v.p(b,w):(v.d(1),v=p(b),v&&(v.c(),v.m(t,null))),(!c||w&8)&&_e(t,"--depth",b[3]),(!c||w&2)&&y(t,"data-opened",b[1]),b[1]?_?(_.p(b,w),w&2&&k(_,1)):(_=ti(b),_.c(),k(_,1),_.m(s.parentNode,s)):_&&(Q(),x(_,1,1,()=>{_=null}),W())},i(b){c||(k(o),k(_),c=!0)},o(b){x(o),x(_),c=!1},d(b){b&&S(t),d[n].d(),v.d(),b&&S(r),_&&_.d(b),b&&S(s),l=!1,H(u)}}}function Ps(e,t,n){let{folder:o}=t,{rename:i=!1}=t,{opened:r=!0}=t,{depth:s=0}=t;function c(){n(1,r=!r),Z.set(o)}let l;function u(){i&&l?.value!==o.name&&PopcornNative.renameQuickCssNode(o.location,l.value),n(0,i=!i)}function a(f){switch(f.key){case"F2":u();break;case"Enter":i&&u();break}}function d(f){U[f?"unshift":"push"](()=>{l=f,n(4,l)})}return e.$$set=f=>{"folder"in f&&n(2,o=f.folder),"rename"in f&&n(0,i=f.rename),"opened"in f&&n(1,r=f.opened),"depth"in f&&n(3,s=f.depth)},e.$$.update=()=>{if(e.$$.dirty&16)e:l&&(l.focus(),l.setSelectionRange(0,l.value.length))},[i,r,o,s,l,c,u,a,d]}var yt=class extends N{constructor(t){super(),q(this,t,Ps,Fs,R,{folder:2,rename:0,opened:1,depth:3})}},oi=yt;function As(e){let t,n,o,i,r,s,c=e[1].name+"",l,u,a,d,f,m,p,v,_,b,w,h;return i=new X({props:{color:"currentColor",src:Wo}}),d=new X({props:{color:"currentColor",src:Uo}}),p=new X({props:{color:"currentColor",src:Qo}}),_=new oi({props:{folder:window.Popcorn.quickCss}}),{c(){t=E("div"),n=E("div"),o=E("button"),D(i.$$.fragment),r=A(),s=E("span"),l=V(c),u=A(),a=E("button"),D(d.$$.fragment),f=A(),m=E("button"),D(p.$$.fragment),v=A(),D(_.$$.fragment),y(o,"class","action PopcornUI-1je845r"),y(o,"data-action","delete"),y(s,"class","selected-file"),y(a,"class","action PopcornUI-1je845r"),y(a,"data-action","new-file"),y(m,"class","action PopcornUI-1je845r"),y(m,"data-action","new-folder"),y(n,"class","action-bar PopcornUI-1je845r"),y(t,"class","sidebar PopcornUI-1je845r"),_e(t,"width","22ch")},m(g,F){O(g,t,F),C(t,n),C(n,o),L(i,o,null),C(n,r),C(n,s),C(s,l),C(n,u),C(n,a),L(d,a,null),C(n,f),C(n,m),L(p,m,null),C(t,v),L(_,t,null),e[5](t),b=!0,w||(h=[T(o,"click",e[2]),T(o,"submit",e[2]),T(a,"click",e[3]),T(a,"submit",e[3]),T(m,"click",e[4]),T(m,"submit",e[4])],w=!0)},p(g,[F]){(!b||F&2)&&c!==(c=g[1].name+"")&&ce(l,c)},i(g){b||(k(i.$$.fragment,g),k(d.$$.fragment,g),k(p.$$.fragment,g),k(_.$$.fragment,g),b=!0)},o(g){x(i.$$.fragment,g),x(d.$$.fragment,g),x(p.$$.fragment,g),x(_.$$.fragment,g),b=!1},d(g){g&&S(t),M(i),M(d),M(p),M(_),e[5](null),w=!1,H(h)}}}var Se=pe({});function Ts(e,t,n){let o,i;te(e,Z,d=>n(6,o=d)),te(e,ri,d=>n(1,i=d));let r,s=Ve();Le(()=>{let d=new ResizeObserver(f=>{s("resize",f[0])});return d.observe(r),()=>{d.disconnect()}});function c(){PopcornNative.deleteQuickCssNode(i.location)}function l(){PopcornNative.createQuickCssNode(o.location,"file")}function u(){PopcornNative.createQuickCssNode(o.location,"folder")}function a(d){U[d?"unshift":"push"](()=>{r=d,n(0,r)})}return[r,i,c,l,u,a]}var hn=class extends N{constructor(t){super(),q(this,t,Ts,As,R,{})}},ii=hn;function si(e){let t,n;return t=new ii({}),t.$on("resize",function(){Y((0,_n.debounce)(e[1],50))&&(0,_n.debounce)(e[1],50).apply(this,arguments)}),{c(){D(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p(o,i){e=o},i(o){n||(k(t.$$.fragment,o),n=!0)},o(o){x(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function li(e){let t,n,o=e[4].message+"",i,r;return{c(){t=E("div"),n=E("div"),i=V(o),y(n,"class","status-message"),y(t,"class","status"),y(t,"data-type",r=e[4].type??void 0)},m(s,c){O(s,t,c),C(t,n),C(n,i)},p(s,c){c&16&&o!==(o=s[4].message+"")&&ce(i,o),c&16&&r!==(r=s[4].type??void 0)&&y(t,"data-type",r)},d(s){s&&S(t)}}}function Ms(e){let t,n=e[3],o,i,r,s=(e[2]?.name??bn)+"",c,l,u,a,d,f,m,p=si(e),v=e[4].type&&li(e);function _(h){e[8](h)}function b(h){e[9](h)}let w={actions:e[5],commands:e[6]};return e[0]!==void 0&&(w.content=e[0]),e[1]!==void 0&&(w.recalculateSize=e[1]),a=new $o({props:w}),U.push(()=>jt(a,"content",_)),U.push(()=>jt(a,"recalculateSize",b)),a.$on("change",e[7]),{c(){t=E("div"),p.c(),o=A(),i=E("div"),r=E("span"),c=V(s),l=A(),v&&v.c(),u=A(),D(a.$$.fragment),y(r,"class","selected-file"),y(i,"class","status-bar PopcornUI-szncc9"),y(t,"class","quickCss-wrapper PopcornUI-szncc9")},m(h,g){O(h,t,g),p.m(t,null),C(t,o),C(t,i),C(i,r),C(r,c),C(i,l),v&&v.m(i,null),C(t,u),L(a,t,null),m=!0},p(h,[g]){g&8&&R(n,n=h[3])?(Q(),x(p,1,1,P),W(),p=si(h),p.c(),k(p,1),p.m(t,o)):p.p(h,g),(!m||g&4)&&s!==(s=(h[2]?.name??bn)+"")&&ce(c,s),h[4].type?v?v.p(h,g):(v=li(h),v.c(),v.m(i,null)):v&&(v.d(1),v=null);let F={};!d&&g&1&&(d=!0,F.content=h[0],Lt(()=>d=!1)),!f&&g&2&&(f=!0,F.recalculateSize=h[1],Lt(()=>f=!1)),a.$set(F)},i(h){m||(k(p),k(a.$$.fragment,h),m=!0)},o(h){x(p),x(a.$$.fragment,h),m=!1},d(h){h&&S(t),p.d(h),v&&v.d(),M(a)}}}var ci=pe();function ai(){ci.update(e=>!e)}var gn=pe(),re=pe(),Z=pe(),ri={subscribe:gn.subscribe},nt=pe({}),bn="Select a file to edit";function Ls(e,t,n){let o,i=P,r=()=>(i(),i=Ae(re,h=>n(2,o=h)),re),s,c,l,u=P,a=()=>(u(),u=Ae(nt,h=>n(4,l=h)),nt);te(e,re,h=>n(2,o=h)),te(e,Se,h=>n(10,s=h)),te(e,ci,h=>n(3,c=h)),te(e,nt,h=>n(4,l=h)),e.$$.on_destroy.push(()=>i()),e.$$.on_destroy.push(()=>u());let d=bn;re.subscribe(h=>{h&&(n(0,d=h.content),gn.set(h))}),Z.subscribe(h=>{h&&gn.set(h)});let f=[{id:"save",label:"Save the currently selected file",handler:v}],m=[{keybinding:(h,g)=>g.CtrlCmd|h.KeyS,handler:v}];function p(){o&&(rt(Se,s[o.location]??={},s),rt(Se,s[o.location].unsaved=!0,s))}function v(){o&&(rt(Se,s[o.location].unsaved=!1,s),PopcornNative.updateQuickCssFile(o.location,d))}let _;function b(h){d=h,n(0,d)}function w(h){_=h,n(1,_)}return[d,_,o,c,l,f,m,p,b,w]}var yn=class extends N{constructor(t){super(),q(this,t,Ls,Ms,R,{})}},ui=yn;var js=new Ne("QuickCSS"),ot=class{styleElements=new Map;start(){this.populateQuickCss(),this.watchQuickCss(),Z.set(window.Popcorn.quickCss)}populateQuickCss(){let{imports:t,contents:n}=fi(Popcorn.quickCss),o=this.styleElements.get("imports");if(o)t!==o.textContent&&(o.textContent=t);else{let r=document.createElement("style");r.id="popcorn-quickcss-imports",r.textContent=t,r.dataset.popcorn="true",Ee.end.after(r),this.styleElements.set("imports",r)}let i=this.styleElements.get("contents");if(i)n!==i.textContent&&(i.textContent=n);else{let r=document.createElement("style");r.id="popcorn-quickcss-contents",r.textContent=n,r.dataset.popcorn="true",Ee.end.after(r),this.styleElements.set("contents",r)}}watchQuickCss(){PopcornNative.onQuickCssChange(t=>{ye.verbose&&js.debug("QuickCSS Updated"),Popcorn.quickCss=t,ai(),this.populateQuickCss()})}};function fi(e){let t="",n="",o=/^@import\s+(?:url\(['"]?.*?['"]?\)|['"].*?['"])(\s+[^;]+?)?;$/gmi;for(let i of e.files)if("files"in i){let r=fi(i);t+=r.imports,n+=r.contents}else{let r=i.content.replace(o,s=>(t+=s.replace(/;$/,"")+`; /* ${i.location} */
`,"")).trim();r&&(n+=`

/* ${i.location} */
`+r)}return{imports:t,contents:n}}function vt(e,t=window.Popcorn.quickCss){if(t.location===e)return t;for(let n of t.files){if("content"in n){if(n.location===e)return n;continue}let o=vt(e,n);if(o)return o}return null}function di(e,t,n){let o=e.slice();o[7]=t[n];let i=o[0].find(function(...s){return e[6](o[7],...s)});return o[8]=i,o}function mi(e,t,n){let o=e.slice();return o[11]=t[n].name,o}function pi(e){let t,n=e[11]+"",o,i,r,s,c;function l(){return e[4](e[11])}function u(){return e[5](e[11])}return{c(){t=E("button"),o=V(n),i=A(),y(t,"class","tab PopcornUI-cd56hu"),y(t,"data-selected",r=e[1]===e[11])},m(a,d){O(a,t,d),C(t,o),C(t,i),s||(c=[T(t,"click",l),T(t,"keypress",u)],s=!0)},p(a,d){e=a,d&1&&n!==(n=e[11]+"")&&ce(o,n),d&3&&r!==(r=e[1]===e[11])&&y(t,"data-selected",r)},d(a){a&&S(t),s=!1,H(c)}}}function hi(e){let t,n,o,i,r,s;var c=e[8].component;function l(u){return{}}return c&&(n=Mt(c,l(e))),{c(){t=E("div"),n&&D(n.$$.fragment),o=A(),y(t,"class","tab-wrapper PopcornUI-cd56hu"),y(t,"data-selected",i=e[8].name===e[1]),y(t,"data-name",r=e[8].name)},m(u,a){O(u,t,a),n&&L(n,t,null),C(t,o),s=!0},p(u,a){if(a&1&&c!==(c=u[8].component)){if(n){Q();let d=n;x(d.$$.fragment,1,0,()=>{M(d,1)}),W()}c?(n=Mt(c,l(u)),D(n.$$.fragment),k(n.$$.fragment,1),L(n,t,o)):n=null}(!s||a&3&&i!==(i=u[8].name===u[1]))&&y(t,"data-selected",i),(!s||a&1&&r!==(r=u[8].name))&&y(t,"data-name",r)},i(u){s||(n&&k(n.$$.fragment,u),s=!0)},o(u){n&&x(n.$$.fragment,u),s=!1},d(u){u&&S(t),n&&M(n)}}}function Ds(e){let t,n,o,i,r=e[0],s=[];for(let a=0;a<r.length;a+=1)s[a]=pi(mi(e,r,a));let c=e[2],l=[];for(let a=0;a<c.length;a+=1)l[a]=hi(di(e,c,a));let u=a=>x(l[a],1,1,()=>{l[a]=null});return{c(){t=E("div");for(let a=0;a<s.length;a+=1)s[a].c();n=A();for(let a=0;a<l.length;a+=1)l[a].c();o=he(),y(t,"class","tab-list PopcornUI-cd56hu")},m(a,d){O(a,t,d);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(t,null);O(a,n,d);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(a,d);O(a,o,d),i=!0},p(a,[d]){if(d&11){r=a[0];let f;for(f=0;f<r.length;f+=1){let m=mi(a,r,f);s[f]?s[f].p(m,d):(s[f]=pi(m),s[f].c(),s[f].m(t,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=r.length}if(d&7){c=a[2];let f;for(f=0;f<c.length;f+=1){let m=di(a,c,f);l[f]?(l[f].p(m,d),k(l[f],1)):(l[f]=hi(m),l[f].c(),k(l[f],1),l[f].m(o.parentNode,o))}for(Q(),f=c.length;f<l.length;f+=1)u(f);W()}},i(a){if(!i){for(let d=0;d<c.length;d+=1)k(l[d]);i=!0}},o(a){l=l.filter(Boolean);for(let d=0;d<l.length;d+=1)x(l[d]);i=!1},d(a){a&&S(t),ke(s,a),a&&S(n),ke(l,a),a&&S(o)}}}function Rs(e,t,n){let{tabs:o}=t,i=o?.[0]?.name,r=[i];function s(a){n(1,i=a),r.includes(a)||r.push(a)}let c=a=>s(a),l=a=>s(a),u=(a,d)=>d.name===a;return e.$$set=a=>{"tabs"in a&&n(0,o=a.tabs)},[o,i,r,s,c,l,u]}var vn=class extends N{constructor(t){super(),q(this,t,Rs,Ds,R,{tabs:0})}},_i=vn;var bi=(e,t)=>{let n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(o=>Object.prototype.hasOwnProperty.call(t,o)&&e[o]===t[o])},Ns=(e,t)=>e.length===t.length&&e.every((n,o)=>bi(n,t[o])),Is=(e,t)=>{if(e.length<t.length)return!1;let n=e.length-t.length;for(let o=t.length-1;o>=0;o-=1)if(!bi(e[n+o],t[o]))return!1;return!0},yi=e=>e.reduce((t,n)=>({...t,[n]:!0}),{}),vi=["ctrl","shift","alt","meta"],Hs=yi(vi),qs=e=>Object.keys(e).filter(t=>!Hs[t]).length===1,wt=(e,t)=>{if(!e)throw new Error(t)},kt=(e,t,n)=>{wt(typeof e===n,`The ${t} must be a ${n}; given ${typeof e}`)},wi=e=>e.split(/ +/g).map(t=>{let n=t.split("+").filter(Boolean),o=yi(n);return wt(Object.keys(o).length>=n.length,`Hotkey combination has duplicates "${e}"`),wt(qs(o),`Invalid hotkey combination: "${e}"`),o}),zs=(e,t)=>{kt(e,"hotkey","string"),kt(t,"callback","function")},gi=(e,t)=>(n,o)=>{zs(n,o),t(e,n,o)},Vs=(e,t,n)=>{e.push({hotkey:wi(t),callback:n})},Bs=(e,t,n)=>{let o=wi(t),i=e.findIndex(r=>r.callback===n&&Ns(o,r.hotkey));i!==-1&&e.splice(i,1)},$s=(e,t)=>{let n=null;return()=>{clearTimeout(n),n=setTimeout(e,t)}},Us=e=>{switch(e){case"+":return"plus";case" ":return"space";default:return e.toLowerCase()}},Qs=(e,t)=>{let n=[],o=$s(()=>{n=[]},t);return i=>{if(i.repeat||i.getModifierState(i.key))return;o();let r={[Us(i.key)]:!0};vi.forEach(s=>{i[`${s}Key`]&&(r[s]=!0)}),n.push(r),e.forEach(s=>{Is(n,s.hotkey)&&s.callback(i)})}},Ws=e=>{let{debounceTime:t=500,autoEnable:n=!0}=e||{};return kt(t,"debounceTime","number"),wt(t>0,"debounceTime must be > 0"),kt(n,"autoEnable","boolean"),{debounceTime:t,autoEnable:n}},ki=e=>{let{debounceTime:t,autoEnable:n}=Ws(e),o=[],i=Qs(o,t),r=()=>document.addEventListener("keydown",i),s=()=>document.removeEventListener("keydown",i);return n&&r(),{register:gi(o,Vs),unregister:gi(o,Bs),enable:r,disable:s}};function Ks(e){let t,n,o,i,r;return n=new _i({props:{tabs:e[1]}}),{c(){t=E("dialog"),D(n.$$.fragment),o=A(),i=E("div"),y(i,"id","PopcornUI-layers"),y(t,"class","PopcornUI-dialog PopcornUI-6ipy8a")},m(s,c){O(s,t,c),L(n,t,null),C(t,o),C(t,i),e[2](t),r=!0},p:P,i(s){r||(k(n.$$.fragment,s),r=!0)},o(s){x(n.$$.fragment,s),r=!1},d(s){s&&S(t),M(n),e[2](null)}}}function Gs(e,t,n){let o,i=!1;function r(){i?o.close():o.showModal(),i=!i,document.documentElement.dataset.popcornUiOpen=i.toString()}Le(()=>{let l=ki({autoEnable:!0});l.register(ye.hotkey,u=>{u.stopImmediatePropagation(),u.stopPropagation(),u.preventDefault(),r()}),l.register("escape",u=>{i&&(u.stopImmediatePropagation(),u.stopPropagation(),u.preventDefault(),r())})});let s=[{name:"Themes",component:co},{name:"QuickCSS",component:ui}];function c(l){U[l?"unshift":"push"](()=>{o=l,n(0,o)})}return[o,s,c]}var wn=class extends N{constructor(t){super(),q(this,t,Gs,Ks,R,{})}},Ci=wn;var kn=new Ne("IPC");PopcornNative.onStatusMessage(e=>{ye.verbose&&kn.debug(e),e.type.startsWith(pt.quickCss)&&Xs(e)});function Xs(e){let t=e.success?"success":"error";if(!e.success){kn.warn(e.type,"failed");return}switch(e.type){case Xe.quickCss.created:{let{type:o,location:i}=e.data,r=vt(i);o==="file"?re.set(r):Z.set(r);var n=e.success?`Created ${i} successfully.`:`Failed to create ${i}.`}break;case Xe.quickCss.deleted:{let{type:o,location:i}=e.data;o==="file"&&Te(re).location===i?re.set(null):o==="folder"&&Te(Z).location===i&&Z.set(null);var n=e.success?`Deleted ${i} successfully.`:`Failed to delete ${i}.`}break;case Xe.quickCss.renamed:{let{oldLocation:o,newLocation:i}=e.data,r=vt(i),s="files"in r?"folder":"file";s==="file"&&Te(re).location===o?re.set(r):s==="folder"&&Te(Z).location===o&&Z.set(r);var n=e.success?`Renamed ${o} to ${i} successfully.`:`Failed to rename ${o} to ${i}.`}break;case Xe.quickCss.updated:var n=e.success?`Updated ${e.data} successfully.`:`Failed to update ${e.data}.`;break;default:kn.warn(`Unknown status message type: ${e.type}`,e)}n&&nt.set({type:t,message:n})}var Ee={start:document.createComment(" section:Popcorn "),end:document.createComment(" endsection ")},ye=await PopcornNative.config,mo=!!PopcornNative.validateCSS,iu=new class{async start(){document.head.append(Ee.start,Ee.end);let t=new Ye,n=new ot,o={themes:fo(await PopcornNative.getThemes()),quickCss:await PopcornNative.getQuickCss()};window.Popcorn=o,new Ci({target:document.body}),t.start(),n.start()}};export{Ee as comments,ye as config,iu as default,mo as shouldValidate};
