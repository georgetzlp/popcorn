var Vi=Object.create;var Dt=Object.defineProperty;var Bi=Object.getOwnPropertyDescriptor;var Ui=Object.getOwnPropertyNames;var Qi=Object.getPrototypeOf,$i=Object.prototype.hasOwnProperty;var Wi=(e,t,n)=>t in e?Dt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Z=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ki=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ui(t))!$i.call(e,i)&&i!==n&&Dt(e,i,{get:()=>t[i],enumerable:!(o=Bi(t,i))||o.enumerable});return e};var jt=(e,t,n)=>(n=e!=null?Vi(Qi(e)):{},Ki(t||!e||!e.__esModule?Dt(n,"default",{value:e,enumerable:!0}):n,e));var be=(e,t,n)=>(Wi(e,typeof t!="symbol"?t+"":t,n),n),Rt=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var Te=(e,t,n)=>(Rt(e,t,"read from private field"),n?n.call(e):t.get(e)),dt=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ee=(e,t,n,o)=>(Rt(e,t,"write to private field"),o?o.call(e,n):t.set(e,n),n);var Nt=(e,t,n)=>(Rt(e,t,"access private method"),n);var bn=Z(So=>{So.debounce=function(e,t,n){var o,i,r;t===void 0&&(t=50),n===void 0&&(n={});var s=(o=n.isImmediate)!=null&&o,l=(i=n.callback)!=null&&i,c=n.maxWait,u=Date.now(),f=[];function a(){if(c!==void 0){var h=Date.now()-u;if(h+t>=c)return c-h}return t}var d=function(){var h=[].slice.call(arguments),m=this;return new Promise(function(_,p){var g=s&&r===void 0;if(r!==void 0&&clearTimeout(r),r=setTimeout(function(){if(r=void 0,u=Date.now(),!s){var v=e.apply(m,h);l&&l(v),f.forEach(function(b){return(0,b.resolve)(v)}),f=[]}},a()),g){var w=e.apply(m,h);return l&&l(w),_(w)}f.push({resolve:_,reject:p})})};return d.cancel=function(h){r!==void 0&&clearTimeout(r),f.forEach(function(m){return(0,m.reject)(h)}),f=[]},d}});var vn=Z(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});function Po(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Oo(Object(n),!0).forEach(function(o){Po(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oo(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Fo(e,t){if(e==null)return{};var n={},o=Object.keys(e),i,r;for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Nr(e,t){if(e==null)return{};var n=Fo(e,t),o,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function Ir(e,t){return Ao(e)||To(e,t)||Mo(e,t)||Lo()}function Ao(e){if(Array.isArray(e))return e}function To(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],o=!0,i=!1,r=void 0;try{for(var s=e[Symbol.iterator](),l;!(o=(l=s.next()).done)&&(n.push(l.value),!(t&&n.length===t));o=!0);}catch(c){i=!0,r=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(i)throw r}}return n}}function Mo(e,t){if(e){if(typeof e=="string")return yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yn(e,t)}}function yn(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Lo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}ie.arrayLikeToArray=yn;ie.arrayWithHoles=Ao;ie.defineProperty=Po;ie.iterableToArrayLimit=To;ie.nonIterableRest=Lo;ie.objectSpread2=Rr;ie.objectWithoutProperties=Nr;ie.objectWithoutPropertiesLoose=Fo;ie.slicedToArray=Ir;ie.unsupportedIterableToArray=Mo});var No=Z((Ml,Ro)=>{"use strict";function Hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Do(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function jo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Do(Object(n),!0).forEach(function(o){Hr(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Do(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function qr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(o){return t.reduceRight(function(i,r){return r(i)},o)}}function st(e){return function t(){for(var n=this,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return t.apply(n,[].concat(i,l))}}}function Ot(e){return{}.toString.call(e).includes("Object")}function zr(e){return!Object.keys(e).length}function ct(e){return typeof e=="function"}function Vr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Br(e,t){return Ot(t)||Ce("changeType"),Object.keys(t).some(function(n){return!Vr(e,n)})&&Ce("changeField"),t}function Ur(e){ct(e)||Ce("selectorType")}function Qr(e){ct(e)||Ot(e)||Ce("handlerType"),Ot(e)&&Object.values(e).some(function(t){return!ct(t)})&&Ce("handlersType")}function $r(e){e||Ce("initialIsRequired"),Ot(e)||Ce("initialType"),zr(e)&&Ce("initialContent")}function Wr(e,t){throw new Error(e[t]||e.default)}var Kr={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Ce=st(Wr)(Kr),St={changes:Br,selector:Ur,handler:Qr,initial:$r};function Gr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};St.initial(e),St.handler(t);var n={current:e},o=st(Jr)(n,t),i=st(Xr)(n),r=st(St.changes)(e),s=st(Yr)(n);function l(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return St.selector(u),u(n.current)}function c(u){qr(o,i,r,s)(u)}return[l,c]}function Yr(e,t){return ct(t)?t(e.current):t}function Xr(e,t){return e.current=jo(jo({},e.current),t),t}function Jr(e,t,n){return ct(t)?t(e.current):Object.keys(n).forEach(function(o){var i;return(i=t[o])===null||i===void 0?void 0:i.call(t,e.current[o])}),n}var Zr={create:Gr};Ro.exports=Zr});var Io=Z(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});var es={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.36.1/min/vs"}};wn.default=es});var Ho=Z(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});function ts(e){return function t(){for(var n=this,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return t.apply(n,[].concat(i,l))}}}kn.default=ts});var qo=Z(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});function ns(e){return{}.toString.call(e).includes("Object")}Cn.default=ns});var zo=Z(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});var os=Ho(),is=qo();function rs(e){return e||En("configIsRequired"),is.default(e)||En("configType"),e.urls?(ss(),{paths:{vs:e.urls.monacoBase}}):e}function ss(){console.warn(xn.deprecation)}function cs(e,t){throw new Error(e[t]||e.default)}var xn={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},En=os.default(cs)(xn),ls={config:rs};lt.default=ls;lt.errorHandler=En;lt.errorMessages=xn});var Vo=Z(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});var as=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return function(i){return n.reduceRight(function(r,s){return s(r)},i)}};Sn.default=as});var Qo=Z(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});var Bo=vn();function Uo(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],Uo(e[n],t[n]))}),Bo.objectSpread2(Bo.objectSpread2({},e),t)}On.default=Uo});var Wo=Z(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});var $o={type:"cancelation",msg:"operation is manually canceled"};function us(e){var t=!1,n=new Promise(function(o,i){e.then(function(r){return t?i($o):o(r)}),e.catch(i)});return n.cancel=function(){return t=!0},n}Pt.CANCELATION_MESSAGE=$o;Pt.default=us});var Xo=Z(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});var Ko=vn(),fs=No(),ds=Io(),ms=zo(),ps=Vo(),hs=Qo(),Pn=Wo();function _s(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var gs=_s(fs),bs=gs.default.create({config:ds.default,isInitialized:!1,resolve:null,reject:null,monaco:null}),Go=Ko.slicedToArray(bs,2),at=Go[0],Ft=Go[1];function ys(e){var t=ms.default.config(e),n=t.monaco,o=Ko.objectWithoutProperties(t,["monaco"]);Ft(function(i){return{config:hs.default(i.config,o),monaco:n}})}function vs(){var e=at(function(t){var n=t.monaco,o=t.isInitialized,i=t.resolve;return{monaco:n,isInitialized:o,resolve:i}});if(!e.isInitialized){if(Ft({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Pn.default(Fn);if(window.monaco&&window.monaco.editor)return Yo(window.monaco),e.resolve(window.monaco),Pn.default(Fn);ps.default(ws,Cs)(Es)}return Pn.default(Fn)}function ws(e){return document.body.appendChild(e)}function ks(e){var t=document.createElement("script");return e&&(t.src=e),t}function Cs(e){var t=at(function(o){var i=o.config,r=o.reject;return{config:i,reject:r}}),n=ks("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function Es(){var e=at(function(n){var o=n.config,i=n.resolve,r=n.reject;return{config:o,resolve:i,reject:r}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){Yo(n),e.resolve(n)},function(n){e.reject(n)})}function Yo(e){at().monaco||Ft({monaco:e})}function xs(){return at(function(e){var t=e.monaco;return t})}var Fn=new Promise(function(e,t){return Ft({resolve:e,reject:t})}),Ss={config:ys,init:vs,__getMonacoInstance:xs};An.default=Ss});var Jo=Z(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});var Os=Xo();Tn.default=Os.default});var Gi=e=>{let t=new Set;do for(let n of Reflect.ownKeys(e))t.add([e,n]);while((e=Reflect.getPrototypeOf(e))&&e!==Object.prototype);return t};function It(e,{include:t,exclude:n}={}){let o=i=>{let r=s=>typeof s=="string"?i===s:s.test(i);return t?t.some(r):n?!n.some(r):!0};for(let[i,r]of Gi(e.constructor.prototype)){if(r==="constructor"||!o(r))continue;let s=Reflect.getOwnPropertyDescriptor(i,r);s&&typeof s.value=="function"&&(e[r]=e[r].bind(e))}return e}function F(){}function Un(e,t){for(let n in t)e[n]=t[n];return e}function Bt(e){return e()}function Bn(){return Object.create(null)}function H(e){e.forEach(Bt)}function Y(e){return typeof e=="function"}function D(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Qn(e){return Object.keys(e).length===0}function je(e,...t){if(e==null)return F;let n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Re(e){let t;return je(e,n=>t=n)(),t}function ee(e,t,n){e.$$.on_destroy.push(je(t,n))}function pt(e,t,n){return e.set(n),t}function Ut(e){return e&&Y(e.destroy)?e.destroy:F}var ht=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,Ke=class{constructor(t){this.options=t,this._listeners="WeakMap"in ht?new WeakMap:void 0}observe(t,n){return this._listeners.set(t,n),this._getObserver().observe(t,this.options),()=>{this._listeners.delete(t),this._observer.unobserve(t)}}_getObserver(){var t;return(t=this._observer)!==null&&t!==void 0?t:this._observer=new ResizeObserver(n=>{var o;for(let i of n)Ke.entries.set(i.target,i),(o=this._listeners.get(i.target))===null||o===void 0||o(i)})}};Ke.entries="WeakMap"in ht?new WeakMap:void 0;var $n=!1;function Yi(){$n=!0}function Xi(){$n=!1}function C(e,t){e.appendChild(t)}function O(e,t,n){e.insertBefore(t,n||null)}function S(e){e.parentNode&&e.parentNode.removeChild(e)}function Se(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function x(e){return document.createElement(e)}function Wn(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function z(e){return document.createTextNode(e)}function T(){return z(" ")}function ye(){return z("")}function A(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function Ne(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function _t(e){return function(t){t.target===this&&e.call(this,t)}}function y(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Qt(e,t){for(let n in t)y(e,n,t[n])}function Ji(e){return Array.from(e.childNodes)}function ce(e,t){t=""+t,e.data!==t&&(e.data=t)}function ve(e,t,n,o){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function Zi(e,t,{bubbles:n=!1,cancelable:o=!1}={}){let i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,o,t),i}function $t(e,t){return new e(t)}var Ge;function We(e){Ge=e}function Wt(){if(!Ge)throw new Error("Function called outside component initialization");return Ge}function Ie(e){Wt().$$.on_mount.push(e)}function Kt(e){Wt().$$.on_destroy.push(e)}function Ye(){let e=Wt();return(t,n,{cancelable:o=!1}={})=>{let i=e.$$.callbacks[t];if(i){let r=Zi(t,n,{cancelable:o});return i.slice().forEach(s=>{s.call(e,r)}),!r.defaultPrevented}return!0}}var Le=[];var $=[],De=[],qt=[],er=Promise.resolve(),zt=!1;function tr(){zt||(zt=!0,er.then(Kn))}function Vt(e){De.push(e)}function Gt(e){qt.push(e)}var Ht=new Set,Me=0;function Kn(){if(Me!==0)return;let e=Ge;do{try{for(;Me<Le.length;){let t=Le[Me];Me++,We(t),nr(t.$$)}}catch(t){throw Le.length=0,Me=0,t}for(We(null),Le.length=0,Me=0;$.length;)$.pop()();for(let t=0;t<De.length;t+=1){let n=De[t];Ht.has(n)||(Ht.add(n),n())}De.length=0}while(Le.length);for(;qt.length;)qt.pop()();zt=!1,Ht.clear(),We(e)}function nr(e){if(e.fragment!==null){e.update(),H(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Vt)}}function or(e){let t=[],n=[];De.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),De=t}var mt=new Set,xe;function B(){xe={r:0,c:[],p:xe}}function U(){xe.r||H(xe.c),xe=xe.p}function k(e,t){e&&e.i&&(mt.delete(e),e.i(t))}function E(e,t,n,o){if(e&&e.o){if(mt.has(e))return;mt.add(e),xe.c.push(()=>{mt.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}function Gn(e,t){let n={},o={},i={$$scope:1},r=e.length;for(;r--;){let s=e[r],l=t[r];if(l){for(let c in s)c in l||(o[c]=1);for(let c in l)i[c]||(n[c]=l[c],i[c]=1);e[r]=l}else for(let c in s)i[c]=1}for(let s in o)s in n||(n[s]=void 0);return n}var ir=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],hc=new Set([...ir]);function Yt(e,t,n){let o=e.$$.props[t];o!==void 0&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function j(e){e&&e.c()}function L(e,t,n,o){let{fragment:i,after_update:r}=e.$$;i&&i.m(t,n),o||Vt(()=>{let s=e.$$.on_mount.map(Bt).filter(Y);e.$$.on_destroy?e.$$.on_destroy.push(...s):H(s),e.$$.on_mount=[]}),r.forEach(Vt)}function M(e,t){let n=e.$$;n.fragment!==null&&(or(n.after_update),H(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function rr(e,t){e.$$.dirty[0]===-1&&(Le.push(e),tr(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function q(e,t,n,o,i,r,s,l=[-1]){let c=Ge;We(e);let u=e.$$={fragment:null,ctx:[],props:r,update:F,not_equal:i,bound:Bn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Bn(),dirty:l,skip_bound:!1,root:t.target||c.$$.root};s&&s(u.root);let f=!1;if(u.ctx=n?n(e,t.props||{},(a,d,...h)=>{let m=h.length?h[0]:d;return u.ctx&&i(u.ctx[a],u.ctx[a]=m)&&(!u.skip_bound&&u.bound[a]&&u.bound[a](m),f&&rr(e,a)),d}):[],u.update(),f=!0,H(u.before_update),u.fragment=o?o(u.ctx):!1,t.target){if(t.hydrate){Yi();let a=Ji(t.target);u.fragment&&u.fragment.l(a),a.forEach(S)}else u.fragment&&u.fragment.c();t.intro&&k(e.$$.fragment),L(e,t.target,t.anchor,t.customElement),Xi(),Kn()}We(c)}var sr;typeof HTMLElement=="function"&&(sr=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(Bt).filter(Y);for(let t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){H(this.$$.on_disconnect)}$destroy(){M(this,1),this.$destroy=F}$on(e,t){if(!Y(t))return F;let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let o=n.indexOf(t);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!Qn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});var R=class{$destroy(){M(this,1),this.$destroy=F}$on(t,n){if(!Y(n))return F;let o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{let i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(t){this.$$set&&!Qn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};var He=[];function fe(e,t=F){let n,o=new Set;function i(l){if(D(e,l)&&(e=l,n)){let c=!He.length;for(let u of o)u[1](),He.push(u,e);if(c){for(let u=0;u<He.length;u+=2)He[u][0](He[u+1]);He.length=0}}}function r(l){i(l(e))}function s(l,c=F){let u=[l,c];return o.add(u),o.size===1&&(n=t(i)||F),l(e),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:s}}function Je(e){return e.split("-")[1]}function en(e){return e==="y"?"height":"width"}function Oe(e){return e.split("-")[0]}function Ze(e){return["top","bottom"].includes(Oe(e))?"x":"y"}function Yn(e,t,n){let{reference:o,floating:i}=e,r=o.x+o.width/2-i.width/2,s=o.y+o.height/2-i.height/2,l=Ze(t),c=en(l),u=o[c]/2-i[c]/2,f=Oe(t),a=l==="x",d;switch(f){case"top":d={x:r,y:o.y-i.height};break;case"bottom":d={x:r,y:o.y+o.height};break;case"right":d={x:o.x+o.width,y:s};break;case"left":d={x:o.x-i.width,y:s};break;default:d={x:o.x,y:o.y}}switch(Je(t)){case"start":d[l]-=u*(n&&a?-1:1);break;case"end":d[l]+=u*(n&&a?-1:1);break}return d}var Xn=async(e,t,n)=>{let{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:s}=n,l=r.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t)),u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:a}=Yn(u,o,c),d=o,h={},m=0;for(let _=0;_<l.length;_++){let{name:p,fn:g}=l[_],{x:w,y:v,data:b,reset:P}=await g({x:f,y:a,initialPlacement:o,placement:d,strategy:i,middlewareData:h,rects:u,platform:s,elements:{reference:e,floating:t}});if(f=w??f,a=v??a,h={...h,[p]:{...h[p],...b}},P&&m<=50){m++,typeof P=="object"&&(P.placement&&(d=P.placement),P.rects&&(u=P.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):P.rects),{x:f,y:a}=Yn(u,d,c)),_=-1;continue}}return{x:f,y:a,placement:d,strategy:i,middlewareData:h}};function et(e,t){return typeof e=="function"?e(t):e}function cr(e){return{top:0,right:0,bottom:0,left:0,...e}}function Jn(e){return typeof e!="number"?cr(e):{top:e,right:e,bottom:e,left:e}}function Xe(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function tn(e,t){var n;t===void 0&&(t={});let{x:o,y:i,platform:r,rects:s,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:a="floating",altBoundary:d=!1,padding:h=0}=et(t,e),m=Jn(h),p=l[d?a==="floating"?"reference":"floating":a],g=Xe(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(p)))==null||n?p:p.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),w=a==="floating"?{...s.floating,x:o,y:i}:s.reference,v=await(r.getOffsetParent==null?void 0:r.getOffsetParent(l.floating)),b=await(r.isElement==null?void 0:r.isElement(v))?await(r.getScale==null?void 0:r.getScale(v))||{x:1,y:1}:{x:1,y:1},P=Xe(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:w,offsetParent:v,strategy:c}):w);return{top:(g.top-P.top+m.top)/b.y,bottom:(P.bottom-g.bottom+m.bottom)/b.y,left:(g.left-P.left+m.left)/b.x,right:(P.right-g.right+m.right)/b.x}}var Xt=Math.min,lr=Math.max;function Jt(e,t,n){return lr(e,Xt(t,n))}var nn=e=>({name:"arrow",options:e,async fn(t){let{x:n,y:o,placement:i,rects:r,platform:s,elements:l}=t,{element:c,padding:u=0}=et(e,t)||{};if(c==null)return{};let f=Jn(u),a={x:n,y:o},d=Ze(i),h=en(d),m=await s.getDimensions(c),_=d==="y",p=_?"top":"left",g=_?"bottom":"right",w=_?"clientHeight":"clientWidth",v=r.reference[h]+r.reference[d]-a[d]-r.floating[h],b=a[d]-r.reference[d],P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c)),N=P?P[w]:0;(!N||!await(s.isElement==null?void 0:s.isElement(P)))&&(N=l.floating[w]||r.floating[h]);let I=v/2-b/2,V=N/2-m[h]/2-1,_e=Xt(f[p],V),ge=Xt(f[g],V),W=_e,G=N-m[h]-ge,Q=N/2-m[h]/2+I,K=Jt(W,Q,G),J=Je(i)!=null&&Q!=K&&r.reference[h]/2-(Q<W?_e:ge)-m[h]/2<0?Q<W?W-Q:G-Q:0;return{[d]:a[d]-J,data:{[d]:K,centerOffset:Q-K+J}}}});var ar={left:"right",right:"left",bottom:"top",top:"bottom"};function gt(e){return e.replace(/left|right|bottom|top/g,t=>ar[t])}function ur(e,t,n){n===void 0&&(n=!1);let o=Je(e),i=Ze(e),r=en(i),s=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(s=gt(s)),{main:s,cross:gt(s)}}var fr={start:"end",end:"start"};function Zt(e){return e.replace(/start|end/g,t=>fr[t])}function dr(e){let t=gt(e);return[Zt(e),t,Zt(t)]}function mr(e,t,n){let o=["left","right"],i=["right","left"],r=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:o:t?o:i;case"left":case"right":return t?r:s;default:return[]}}function pr(e,t,n,o){let i=Je(e),r=mr(Oe(e),n==="start",o);return i&&(r=r.map(s=>s+"-"+i),t&&(r=r.concat(r.map(Zt)))),r}var on=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;let{placement:o,middlewareData:i,rects:r,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:a,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,..._}=et(e,t),p=Oe(o),g=Oe(s)===s,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),v=a||(g||!m?[gt(s)]:dr(s));!a&&h!=="none"&&v.push(...pr(s,m,h,w));let b=[s,...v],P=await tn(t,_),N=[],I=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&N.push(P[p]),f){let{main:W,cross:G}=ur(o,r,w);N.push(P[W],P[G])}if(I=[...I,{placement:o,overflows:N}],!N.every(W=>W<=0)){var V,_e;let W=(((V=i.flip)==null?void 0:V.index)||0)+1,G=b[W];if(G)return{data:{index:W,overflows:I},reset:{placement:G}};let Q=(_e=I.filter(K=>K.overflows[0]<=0).sort((K,se)=>K.overflows[1]-se.overflows[1])[0])==null?void 0:_e.placement;if(!Q)switch(d){case"bestFit":{var ge;let K=(ge=I.map(se=>[se.placement,se.overflows.filter(J=>J>0).reduce((J,ue)=>J+ue,0)]).sort((se,J)=>se[1]-J[1])[0])==null?void 0:ge[0];K&&(Q=K);break}case"initialPlacement":Q=s;break}if(o!==Q)return{reset:{placement:Q}}}return{}}}};async function hr(e,t){let{placement:n,platform:o,elements:i}=e,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),s=Oe(n),l=Je(n),c=Ze(n)==="x",u=["left","top"].includes(s)?-1:1,f=r&&c?-1:1,a=et(t,e),{mainAxis:d,crossAxis:h,alignmentAxis:m}=typeof a=="number"?{mainAxis:a,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...a};return l&&typeof m=="number"&&(h=l==="end"?m*-1:m),c?{x:h*f,y:d*u}:{x:d*u,y:h*f}}var rn=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){let{x:n,y:o}=t,i=await hr(t,e);return{x:n+i.x,y:o+i.y,data:i}}}};function _r(e){return e==="x"?"y":"x"}var sn=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:n,y:o,placement:i}=t,{mainAxis:r=!0,crossAxis:s=!1,limiter:l={fn:p=>{let{x:g,y:w}=p;return{x:g,y:w}}},...c}=et(e,t),u={x:n,y:o},f=await tn(t,c),a=Ze(Oe(i)),d=_r(a),h=u[a],m=u[d];if(r){let p=a==="y"?"top":"left",g=a==="y"?"bottom":"right",w=h+f[p],v=h-f[g];h=Jt(w,h,v)}if(s){let p=d==="y"?"top":"left",g=d==="y"?"bottom":"right",w=m+f[p],v=m-f[g];m=Jt(w,m,v)}let _=l.fn({...t,[a]:h,[d]:m});return{..._,data:{x:_.x-n,y:_.y-o}}}}};function te(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function le(e){return te(e).getComputedStyle(e)}function io(e){return e instanceof te(e).Node}function we(e){return io(e)?(e.nodeName||"").toLowerCase():"#document"}function ae(e){return e instanceof te(e).HTMLElement}function me(e){return e instanceof te(e).Element}function Zn(e){return typeof ShadowRoot>"u"?!1:e instanceof te(e).ShadowRoot||e instanceof ShadowRoot}function tt(e){let{overflow:t,overflowX:n,overflowY:o,display:i}=le(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(i)}function gr(e){return["table","td","th"].includes(we(e))}function ln(e){let t=an(),n=le(e);return n.transform!=="none"||n.perspective!=="none"||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function an(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wt(e){return["html","body","#document"].includes(we(e))}var cn=Math.min,qe=Math.max,yt=Math.round,bt=Math.floor,Pe=e=>({x:e,y:e});function ro(e){let t=le(e),n=parseFloat(t.width)||0,o=parseFloat(t.height)||0,i=ae(e),r=i?e.offsetWidth:n,s=i?e.offsetHeight:o,l=yt(n)!==r||yt(o)!==s;return l&&(n=r,o=s),{width:n,height:o,$:l}}function un(e){return me(e)?e:e.contextElement}function ze(e){let t=un(e);if(!ae(t))return Pe(1);let n=t.getBoundingClientRect(),{width:o,height:i,$:r}=ro(t),s=(r?yt(n.width):n.width)/o,l=(r?yt(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}var eo=Pe(0);function so(e,t,n){var o,i;if(t===void 0&&(t=!0),!an())return eo;let r=e?te(e):window;return!n||t&&n!==r?eo:{x:((o=r.visualViewport)==null?void 0:o.offsetLeft)||0,y:((i=r.visualViewport)==null?void 0:i.offsetTop)||0}}function Fe(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);let i=e.getBoundingClientRect(),r=un(e),s=Pe(1);t&&(o?me(o)&&(s=ze(o)):s=ze(e));let l=so(r,n,o),c=(i.left+l.x)/s.x,u=(i.top+l.y)/s.y,f=i.width/s.x,a=i.height/s.y;if(r){let d=te(r),h=o&&me(o)?te(o):o,m=d.frameElement;for(;m&&o&&h!==d;){let _=ze(m),p=m.getBoundingClientRect(),g=getComputedStyle(m),w=p.left+(m.clientLeft+parseFloat(g.paddingLeft))*_.x,v=p.top+(m.clientTop+parseFloat(g.paddingTop))*_.y;c*=_.x,u*=_.y,f*=_.x,a*=_.y,c+=w,u+=v,m=te(m).frameElement}}return Xe({width:f,height:a,x:c,y:u})}function pe(e){return((io(e)?e.ownerDocument:e.document)||window.document).documentElement}function kt(e){return me(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function br(e){let{rect:t,offsetParent:n,strategy:o}=e,i=ae(n),r=pe(n);if(n===r)return t;let s={scrollLeft:0,scrollTop:0},l=Pe(1),c=Pe(0);if((i||!i&&o!=="fixed")&&((we(n)!=="body"||tt(r))&&(s=kt(n)),ae(n))){let u=Fe(n);l=ze(n),c.x=u.x+n.clientLeft,c.y=u.y+n.clientTop}return{width:t.width*l.x,height:t.height*l.y,x:t.x*l.x-s.scrollLeft*l.x+c.x,y:t.y*l.y-s.scrollTop*l.y+c.y}}function co(e){return Fe(pe(e)).left+kt(e).scrollLeft}function yr(e){let t=pe(e),n=kt(e),o=e.ownerDocument.body,i=qe(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),r=qe(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight),s=-n.scrollLeft+co(e),l=-n.scrollTop;return le(o).direction==="rtl"&&(s+=qe(t.clientWidth,o.clientWidth)-i),{width:i,height:r,x:s,y:l}}function Ve(e){if(we(e)==="html")return e;let t=e.assignedSlot||e.parentNode||Zn(e)&&e.host||pe(e);return Zn(t)?t.host:t}function lo(e){let t=Ve(e);return wt(t)?e.ownerDocument?e.ownerDocument.body:e.body:ae(t)&&tt(t)?t:lo(t)}function vt(e,t){var n;t===void 0&&(t=[]);let o=lo(e),i=o===((n=e.ownerDocument)==null?void 0:n.body),r=te(o);return i?t.concat(r,r.visualViewport||[],tt(o)?o:[]):t.concat(o,vt(o))}function vr(e,t){let n=te(e),o=pe(e),i=n.visualViewport,r=o.clientWidth,s=o.clientHeight,l=0,c=0;if(i){r=i.width,s=i.height;let u=an();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:r,height:s,x:l,y:c}}function wr(e,t){let n=Fe(e,!0,t==="fixed"),o=n.top+e.clientTop,i=n.left+e.clientLeft,r=ae(e)?ze(e):Pe(1),s=e.clientWidth*r.x,l=e.clientHeight*r.y,c=i*r.x,u=o*r.y;return{width:s,height:l,x:c,y:u}}function to(e,t,n){let o;if(t==="viewport")o=vr(e,n);else if(t==="document")o=yr(pe(e));else if(me(t))o=wr(t,n);else{let i=so(e);o={...t,x:t.x-i.x,y:t.y-i.y}}return Xe(o)}function ao(e,t){let n=Ve(e);return n===t||!me(n)||wt(n)?!1:le(n).position==="fixed"||ao(n,t)}function kr(e,t){let n=t.get(e);if(n)return n;let o=vt(e).filter(l=>me(l)&&we(l)!=="body"),i=null,r=le(e).position==="fixed",s=r?Ve(e):e;for(;me(s)&&!wt(s);){let l=le(s),c=ln(s);!c&&l.position==="fixed"&&(i=null),(r?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||tt(s)&&!c&&ao(e,s))?o=o.filter(f=>f!==s):i=l,s=Ve(s)}return t.set(e,o),o}function Cr(e){let{element:t,boundary:n,rootBoundary:o,strategy:i}=e,s=[...n==="clippingAncestors"?kr(t,this._c):[].concat(n),o],l=s[0],c=s.reduce((u,f)=>{let a=to(t,f,i);return u.top=qe(a.top,u.top),u.right=cn(a.right,u.right),u.bottom=cn(a.bottom,u.bottom),u.left=qe(a.left,u.left),u},to(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Er(e){return ro(e)}function no(e,t){return!ae(e)||le(e).position==="fixed"?null:t?t(e):e.offsetParent}function xr(e){let t=Ve(e);for(;ae(t)&&!wt(t);){if(ln(t))return t;t=Ve(t)}return null}function oo(e,t){let n=te(e);if(!ae(e))return n;let o=no(e,t);for(;o&&gr(o)&&le(o).position==="static";)o=no(o,t);return o&&(we(o)==="html"||we(o)==="body"&&le(o).position==="static"&&!ln(o))?n:o||xr(e)||n}function Sr(e,t,n){let o=ae(t),i=pe(t),r=n==="fixed",s=Fe(e,!0,r,t),l={scrollLeft:0,scrollTop:0},c=Pe(0);if(o||!o&&!r)if((we(t)!=="body"||tt(i))&&(l=kt(t)),ae(t)){let u=Fe(t,!0,r,t);c.x=u.x+t.clientLeft,c.y=u.y+t.clientTop}else i&&(c.x=co(i));return{x:s.left+l.scrollLeft-c.x,y:s.top+l.scrollTop-c.y,width:s.width,height:s.height}}var Or={getClippingRect:Cr,convertOffsetParentRelativeRectToViewportRelativeRect:br,isElement:me,getDimensions:Er,getOffsetParent:oo,getDocumentElement:pe,getScale:ze,async getElementRects(e){let{reference:t,floating:n,strategy:o}=e,i=this.getOffsetParent||oo,r=this.getDimensions;return{reference:Sr(t,await i(n),o),floating:{x:0,y:0,...await r(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>le(e).direction==="rtl"};function Pr(e,t){let n=null,o,i=pe(e);function r(){clearTimeout(o),n&&n.disconnect(),n=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),r();let{left:u,top:f,width:a,height:d}=e.getBoundingClientRect();if(l||t(),!a||!d)return;let h=bt(f),m=bt(i.clientWidth-(u+a)),_=bt(i.clientHeight-(f+d)),p=bt(u),g=-h+"px "+-m+"px "+-_+"px "+-p+"px",w=!0;n=new IntersectionObserver(v=>{let b=v[0].intersectionRatio;if(b!==c){if(!w)return s();b?s(!1,b):o=setTimeout(()=>{s(!1,1e-7)},100)}w=!1},{rootMargin:g,threshold:qe(0,cn(1,c))||1}),n.observe(e)}return s(!0),r}function uo(e,t,n,o){o===void 0&&(o={});let{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:s=!0,layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=o,u=un(e),f=i||r?[...u?vt(u):[],...vt(t)]:[];f.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),r&&p.addEventListener("resize",n)});let a=u&&l?Pr(u,n):null,d=null;s&&(d=new ResizeObserver(n),u&&!c&&d.observe(u),d.observe(t));let h,m=c?Fe(e):null;c&&_();function _(){let p=Fe(e);m&&(p.x!==m.x||p.y!==m.y||p.width!==m.width||p.height!==m.height)&&n(),m=p,h=requestAnimationFrame(_)}return n(),()=>{f.forEach(p=>{i&&p.removeEventListener("scroll",n),r&&p.removeEventListener("resize",n)}),a&&a(),d&&d.disconnect(),d=null,c&&cancelAnimationFrame(h)}}var fo=(e,t,n)=>{let o=new Map,i={platform:Or,...n},r={...i.platform,_c:o};return Xn(e,t,{...i,platform:r})};var Fr=1,fn=async(e,t,n)=>new Promise(o=>{n?.classList.add(e),n?.classList.remove(t),n?.addEventListener("animationend",()=>{n?.classList.remove(e),o()})}),dn=(e,t)=>(mo(t),new Promise(n=>{setTimeout(()=>{mo(t),n()},e)})),po=()=>Fr++,mo=e=>{clearTimeout(e)};var ne={html:!1,target:"body",placement:"top",shiftPadding:0,offset:10,delay:0,constant:!1,visibility:!0,classes:{container:"svooltip",content:"svooltip-content",arrow:"svooltip-arrow",animationEnter:"svooltip-entering",animationLeave:"svooltip-leaving"},middleware:[]};var Ct=(e,t)=>{let{content:n,html:o=ne.html,target:i=ne.target,placement:r=ne.placement,shiftPadding:s=ne.shiftPadding,offset:l=ne.offset,delay:c=ne.delay,constant:u=ne.constant,classes:f=ne.classes,middleware:a=ne.middleware,visibility:d=ne.visibility,onMount:h,onDestroy:m}=t,_=d;if(!n)return;let p=typeof i=="string"?document.querySelector(i):i,g={in:typeof c=="number"?c:c[0],out:typeof c=="number"?c:c[1]},w=`svooltip-${po()}`,v=e.title||n;e.removeAttribute("title");let b,P,N,I=!1,V=!1,_e,ge=!1,W=({key:ue})=>{(ue==="Escape"||ue==="Esc")&&J()},G,Q=()=>{b||V||(b=document.createElement("div"),b.setAttribute("id",w),b.setAttribute("role","tooltip"),b.setAttribute("data-placement",r),b.setAttribute("class",f.container),P=document.createElement("span"),P.setAttribute("class",f.content),P[o?"innerHTML":"textContent"]=v,N=document.createElement("div"),N.setAttribute("class",f.arrow),b.append(N),b.append(P))},K=()=>{!b||!N||fo(e,b,{placement:r,middleware:[rn(l),on(),sn({padding:s}),nn({element:N}),...a]}).then(({x:ue,y:Ni,placement:Ii,middlewareData:Hi})=>{b.style.left=`${ue}px`,b.style.top=`${Ni}px`;let{x:zn,y:Vn}=Hi.arrow,qi={top:"bottom",right:"left",bottom:"top",left:"right"}[Ii.split("-")[0]],zi=(N.getBoundingClientRect().width/3).toFixed();Object.assign(N.style,{left:zn!=null?`${zn}px`:"",top:Vn!=null?`${Vn}px`:"",right:"",bottom:"",[qi]:`-${zi}px`})})},se=async()=>{if(!b&&_){if(g.in>0&&(await dn(g.in,_e),ge||!I||V||b))return;if(e.setAttribute("aria-describedby",w),Q(),K(),G&&G(),G=uo(e,b,K),!p)throw new Error(`[SVooltip] Cannot find \`${p}\``);if(!b)throw new Error("[SVooltip] Tooltip has not been created.");p.append(b),await fn(f.animationEnter,f.animationLeave,b),h?.(),V=!0}},J=async()=>{(b||V)&&(g.out>0&&await dn(g.out,_e),await fn(f.animationLeave,f.animationEnter,b),G&&G(),b&&(e.removeAttribute("aria-describedby"),V=!1,b.remove(),b=null,m?.()))};if(u)se();else return e.addEventListener("mouseenter",se),e.addEventListener("mouseenter",()=>I=!0),e.addEventListener("focus",se),e.addEventListener("mouseleave",J),e.addEventListener("mouseleave",()=>I=!1),e.addEventListener("blur",J),window.addEventListener("keydown",W),{update(ue){v=ue.content,o=ue.html||!1,_=ue.visibility||d,b&&P&&(P[o?"innerHTML":"textContent"]=v,K())},destroy(){b&&(e.removeAttribute("aria-describedby"),V=!1,b.remove(),b=null),window.removeEventListener("keydown",W),m?.(),ge=!0}}};function Ar(e){let t,n=[{width:e[1]},{height:e[1]},{"stroke-width":"0"},{class:e[2]},e[0].a,e[4],{xmlns:"http://www.w3.org/2000/svg"}],o={};for(let i=0;i<n.length;i+=1)o=Un(o,n[i]);return{c(){t=Wn("svg"),Qt(t,o)},m(i,r){O(i,t,r),t.innerHTML=e[3]},p(i,[r]){r&8&&(t.innerHTML=i[3]),Qt(t,o=Gn(n,[r&2&&{width:i[1]},r&2&&{height:i[1]},{"stroke-width":"0"},r&4&&{class:i[2]},r&1&&i[0].a,r&16&&i[4],{xmlns:"http://www.w3.org/2000/svg"}]))},i:F,o:F,d(i){i&&S(t)}}}function Tr(e,t,n){let{src:o}=t,{size:i="1em"}=t,{color:r=void 0}=t,{title:s=void 0}=t,{className:l=""}=t,c,u;return e.$$set=f=>{"src"in f&&n(0,o=f.src),"size"in f&&n(1,i=f.size),"color"in f&&n(5,r=f.color),"title"in f&&n(6,s=f.title),"className"in f&&n(2,l=f.className)},e.$$.update=()=>{if(e.$$.dirty&33)e:n(4,u={}),r&&(o.a.stroke!=="none"&&n(4,u.stroke=r,u),o.a.fill!=="none"&&n(4,u.fill=r,u));if(e.$$.dirty&65)e:n(3,c=(s?`<title>${s}</title>`:"")+o.c)},[o,i,l,c,u,r,s]}var mn=class extends R{constructor(t){super(),q(this,t,Tr,Ar,D,{src:0,size:1,color:5,title:6,className:2})}},oe=mn;var ho={a:{viewBox:"0 0 24 24"},c:`<g><path fill="none" d="M0 0H24V24H0z"></path>
<path d="M12 19c.828 0 1.5.672 1.5 1.5S12.828 22 12 22s-1.5-.672-1.5-1.5.672-1.5 1.5-1.5zm0-17c3.314 0 6 2.686 6 6 0 2.165-.753 3.29-2.674 4.923C13.399 14.56 13 15.297 13 17h-2c0-2.474.787-3.695 3.031-5.601C15.548 10.11 16 9.434 16 8c0-2.21-1.79-4-4-4S8 5.79 8 8v1H6V8c0-3.314 2.686-6 6-6z"></path></g>`};var _o={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" clip-rule="evenodd" d="M14.431 3.323l-8.47 10-.79-.036-3.35-4.77.818-.574 2.978 4.24 8.051-9.506.764.646z"></path>'};var go={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" clip-rule="evenodd" d="M7.116 8l-4.558 4.558.884.884L8 8.884l4.558 4.558.884-.884L8.884 8l4.558-4.558-.884-.884L8 7.116 3.442 2.558l-.884.884L7.116 8z"></path>'};function bo(e,t,n){let o=e.slice();o[4]=t[n];let i=window.Popcorn.themes[o[4]];o[5]=i;let r=o[1](o[5].valid);return o[6]=r.icon,o[7]=r.text,o}function Mr(e){let t,n,o,i,r,s,l;return n=new oe({props:{color:"currentColor",src:e[6]}}),{c(){t=x("div"),j(n.$$.fragment),y(t,"class","theme-validity PopcornUI-14iiham"),y(t,"data-value",o=e[5].valid)},m(c,u){O(c,t,u),L(n,t,null),r=!0,s||(l=Ut(i=Ct.call(null,t,{content:e[5].valid?e[7]:Dr(e[5].errors),target:"#PopcornUI-layers"})),s=!0)},p(c,u){e=c},i(c){r||(k(n.$$.fragment,c),r=!0)},o(c){E(n.$$.fragment,c),r=!1},d(c){c&&S(t),M(n),s=!1,l()}}}function yo(e){let t,n,o=e[4]+"",i,r,s,l,c=(e[5].description??"")+"",u,f,a,d=e[5].enabled?"Disable":"Enable",h,m,_,p,g,w,v,b=Be&&Mr(e);function P(){return e[2](e[4])}function N(){return e[3](e[4])}return{c(){t=x("div"),n=x("h1"),i=z(o),r=T(),b&&b.c(),s=T(),l=x("div"),u=z(c),f=T(),a=x("button"),h=z(d),m=T(),y(n,"class","theme-id PopcornUI-14iiham"),y(l,"class","theme-description PopcornUI-14iiham"),y(a,"class","theme-toggle PopcornUI-14iiham"),y(t,"class","theme-container PopcornUI-14iiham"),y(t,"id",_=e[4]),y(t,"data-enabled",p=e[5].enabled)},m(I,V){O(I,t,V),C(t,n),C(n,i),C(n,r),b&&b.m(n,null),C(t,s),C(t,l),C(l,u),C(t,f),C(t,a),C(a,h),C(t,m),g=!0,w||(v=[A(a,"click",P),A(a,"submit",N)],w=!0)},p(I,V){e=I,Be&&b.p(e,V)},i(I){g||(k(b),g=!0)},o(I){E(b),g=!1},d(I){I&&S(t),b&&b.d(),w=!1,H(v)}}}function vo(e){let t=e[0][e[4]],n,o,i=yo(e);return{c(){i.c(),n=ye()},m(r,s){i.m(r,s),O(r,n,s),o=!0},p(r,s){s&1&&D(t,t=r[0][r[4]])?(B(),E(i,1,1,F),U(),i=yo(r),i.c(),k(i,1),i.m(n.parentNode,n)):i.p(r,s)},i(r){o||(k(i),o=!0)},o(r){E(i),o=!1},d(r){r&&S(n),i.d(r)}}}function Lr(e){let t,n,o=Object.keys(window.Popcorn.themes),i=[];for(let s=0;s<o.length;s+=1)i[s]=vo(bo(e,o,s));let r=s=>E(i[s],1,1,()=>{i[s]=null});return{c(){t=x("div");for(let s=0;s<i.length;s+=1)i[s].c();y(t,"class","themes-wrapper PopcornUI-14iiham")},m(s,l){O(s,t,l);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(t,null);n=!0},p(s,[l]){if(l&3){o=Object.keys(window.Popcorn.themes);let c;for(c=0;c<o.length;c+=1){let u=bo(s,o,c);i[c]?(i[c].p(u,l),k(i[c],1)):(i[c]=vo(u),i[c].c(),k(i[c],1),i[c].m(t,null))}for(B(),c=o.length;c<i.length;c+=1)r(c);U()}},i(s){if(!n){for(let l=0;l<o.length;l+=1)k(i[l]);n=!0}},o(s){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)E(i[l]);n=!1},d(s){s&&S(t),Se(i,s)}}}var wo=fe({});function Et(e){wo.update(t=>(t[e]=!t[e],t))}function Dr(e){return e.map(t=>`Line ${t.line}: ${t.message}`).join(`
 `)}function jr(e,t,n){let o;ee(e,wo,l=>n(0,o=l));function i(l){switch(l){case!0:return{icon:_o,text:"Valid"};case!1:return{icon:go,text:"Invalid"};default:return{icon:ho,text:"Validity Unknown"}}}return[o,i,l=>window.Popcorn.themes[l].toggle(),l=>window.Popcorn.themes[l].toggle()]}var pn=class extends R{constructor(t){super(),q(this,t,jr,Lr,D,{})}},ko=pn;var nt={main:"POPCORN_",quickCss:"QUICKCSS_"},Co=hn({getConfig:"GET_CONFIG",getStyles:"GET_STYLES",statusMessage:"STATUS_MESSAGE",getWindowData:"GET_WINDOW_DATA",log:"LOG",getThemes:"GET_THEMES",onThemeChange:"ON_THEME_CHANGE",saveThemeState:"SAVE_THEME_STATE",getQuickCss:"GET_QUICK_CSS",onQuickCssChange:"ON_QUICK_CSS_CHANGE",createQuickCssNode:"CREATE_QUICK_CSS_NODE",deleteQuickCssNode:"DELETE_QUICK_CSS_NODE",renameQuickCssNode:"RENAME_QUICK_CSS_NODE",updateQuickCssFile:"SAVE_QUICK_CSS_FILE"},nt.main),ot={quickCss:hn({created:"CREATED",deleted:"DELETED",renamed:"RENAMED",updated:"UPDATED"},nt.quickCss)},Eo=hn({stop:"STOP"},nt.main);function hn(e,t){let n={};for(let o in e)n[o]=t+e[o];return n}var _n=class{module;output;constructor(t,n="console"){this.module=t,this.output=this.#t(n)}#t(t){switch(t){case"ansi":case"terminal":return"ansi";default:return"console"}}#n(t){switch(t){case"info":case"warn":case"error":case"debug":return t;default:return"log"}}#o(t){switch(t){case"debug":return{str:"MediumSpringGreen",arr:[0,250,154]};case"info":return{str:"DeepSkyBlue",arr:[0,191,255]};case"error":return{str:"crimson",arr:[220,20,60]};case"warn":return{str:"DarkOrange",arr:[255,140,0]};default:return{str:"gold",arr:[255,215,0]}}}#i(t,n){return`\x1B[38;2;${t[0]};${t[1]};${t[2]}m${n}\x1B[0m`}async#e(t,n){t=this.#n(t);let o=this.#o(t),i=this.output==="ansi"?[`[${this.#i(o.arr,"Popcorn")} > ${this.module}]`]:[`[%cPopcorn%c > ${this.module}]`,`color: ${o.str};`,""];if(console[t](...i,...n),this.output==="ansi"){let{BrowserWindow:r}=await import("electron");r.getAllWindows().forEach(s=>s.webContents.send(Co.log,t,...n))}}log=(...t)=>this.#e("log",t);info=(...t)=>this.#e("info",t);warn=(...t)=>this.#e("warn",t);error=(...t)=>this.#e("error",t);debug=(...t)=>this.#e("debug",t)},Ue=_n;var Qe=new Ue("Themes"),he,ke,rt,gn,$e=class{constructor(t,n){dt(this,rt);be(this,"description");be(this,"id");be(this,"json");dt(this,he,void 0);dt(this,ke,void 0);be(this,"rev",0);be(this,"valid","unknown");be(this,"errors",[]);It(this),this.description=n.description,this.id=t,this.json=n.json,Ee(this,ke,n.enabled),Be&&Nt(this,rt,gn).call(this),n.enabled&&this.enable(!1)}get enabled(){return Te(this,ke)}set enabled(t){t?this.enable():this.disable(),Ee(this,ke,t)}enable(t=!0){if(Te(this,he)){Qe.log(`"${this.id}" is already enabled.`);return}Ee(this,ke,!0);let n=Ee(this,he,document.createElement("link"));n.rel="stylesheet",n.id=this.id,n.href=$e.link+this.id,n.setAttribute("data-popcorn","theme"),de.end.before(n),Qe.log(`"${this.id}" enabled.`),Et(this.id),t&&PopcornNative.saveThemeState(this.id,!0)}disable(t=!0){if(!Te(this,he)){Qe.warn(`"${this.id}" is not enabled.`);return}Ee(this,ke,!1),Te(this,he).remove(),Ee(this,he,null),Qe.log(`"${this.id}" disabled.`),Et(this.id),t&&PopcornNative.saveThemeState(this.id,!1)}toggle(t=!0){this.enabled?this.disable(t):this.enable(t)}async update(){Te(this,he).href=$e.link+this.id+`?${++this.rev}`;let n=await(await fetch($e.link+this.id,{cache:"no-store"})).text();Be&&Nt(this,rt,gn).call(this,n)}},xt=$e;he=new WeakMap,ke=new WeakMap,rt=new WeakSet,gn=async function(t){t??=await(await fetch($e.link+this.id,{cache:"no-store"})).text(),PopcornNative.validateCSS(t).then(n=>{PopcornNative.config.verbose&&Qe.debug(`Validated "${this.id}".`,n),this.valid=n.valid,this.errors=n.errors,Et(this.id)}).catch(n=>{Qe.error(`Failed to validate "${this.id}".`,n)})},be(xt,"link",PopcornNative.isSplash?"popcorn://splash-theme/":"popcorn://theme/");var it=class{start(){this.watchThemes()}watchThemes(){PopcornNative.onThemeChange(({id:t})=>{window.Popcorn.themes[t].update()})}stop(){let t=document.head.querySelectorAll('link[data-popcorn="theme"]');for(let n of t)n.remove()}};function xo(e){let t={};for(let n in e)t[n]=new xt(n,e[n]);return t}var jn=jt(bn());var ei=jt(bn()),ti=jt(Jo());var{window:Ps}=ht;function Zo(e){let t;return{c(){t=x("p"),t.textContent="Loading monaco editor...",y(t,"class","loading-overlay")},m(n,o){O(n,t,o)},d(n){n&&S(t)}}}function Fs(e){let t,n,o,i,r,s=!e[1]&&Zo(e);return{c(){t=x("div"),s&&s.c(),n=T(),o=x("div"),y(o,"class","monaco-editor PopcornUI-1tm8p33"),y(t,"class","monaco-wrapper")},m(l,c){O(l,t,c),s&&s.m(t,null),C(t,n),C(t,o),e[9](o),i||(r=A(Ps,"resize",(0,ei.debounce)(e[0],50)),i=!0)},p(l,[c]){l[1]?s&&(s.d(1),s=null):s||(s=Zo(l),s.c(),s.m(t,n))},i:F,o:F,d(l){l&&S(t),s&&s.d(),e[9](null),i=!1,r()}}}function As(e,t,n){let o,{editor:i=null}=t,{content:r}=t,{actions:s=[]}=t,{commands:l=[]}=t,{options:c={}}=t,u=Ye(),f=!1;Ie(async()=>{let m=await ti.default.init();m.editor.onDidCreateEditor(()=>{n(1,f=!0),d(),u("ready")}),n(3,i=m.editor.create(o,{language:"css",theme:"vs-dark",...c,value:r}));let _=l.map(p=>({...p,keybinding:p.keybinding(m.KeyCode,m.KeyMod)}));for(let p of _)i.addCommand(p.keybinding,p.handler,p.context??void 0);for(let p of s){let{id:g,label:w,handler:v}=p;i.addAction({id:"custom."+g,label:w,keybindings:[],run:v})}return i.onDidChangeModelContent(()=>{let p=i.getValue();p!==r&&(n(8,a=!0),n(4,r=p),u("change",r))}),()=>{i.dispose(),n(1,f=!1)}});let a=!1;function d(){f&&window.requestAnimationFrame(()=>{i.layout({width:0,height:0});let m=o.parentElement.getBoundingClientRect();i.layout({width:m.width,height:m.height})})}function h(m){$[m?"unshift":"push"](()=>{o=m,n(2,o)})}return e.$$set=m=>{"editor"in m&&n(3,i=m.editor),"content"in m&&n(4,r=m.content),"actions"in m&&n(5,s=m.actions),"commands"in m&&n(6,l=m.commands),"options"in m&&n(7,c=m.options)},e.$$.update=()=>{if(e.$$.dirty&282)e:typeof r=="string"&&f&&(a||i.getModel().setValue(r),n(8,a=!1))},[d,f,o,i,r,s,l,c,a,h]}var Mn=class extends R{constructor(t){super(),q(this,t,As,Fs,D,{editor:3,content:4,actions:5,commands:6,options:7,recalculateSize:0})}get recalculateSize(){return this.$$.ctx[0]}},ni=Mn;var oi={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" clip-rule="evenodd" d="M4 7H3V4H0V3h3V0h1v3h3v1H4v3zm6.5-5.9l3.4 3.5.1.4v8.5l-.5.5h-10l-.5-.5V8h1v5h9V6H9V2H5V1h5.2l.3.1zM10 2v3h2.9L10 2z"></path>'};var ii={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" clip-rule="evenodd" d="M7 3H4V0H3v3H0v1h3v3h1V4h3V3zM5.5 7H5V6h.3l.8-.9.4-.1H14V4H8V3h6.5l.5.5v10l-.5.5h-13l-.5-.5V5h1v8h12V6H6.7l-.8.9-.4.1z"></path>'};var ri={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path d="M15 8H1V7h14v1z"></path>'};var si={a:{viewBox:"0 0 1024 1024"},c:'<path d="M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 0 0-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zm-180 0H238c-13 0-24.8 7.9-29.7 20L136 643.2V256h188.5l119.6 114.4H748V444z"></path>'};var ci={a:{viewBox:"0 0 1024 1024"},c:'<path d="M880 298.4H521L403.7 186.2a8.15 8.15 0 0 0-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32z"></path>'};var li={a:{viewBox:"0 0 512 512"},c:'<path d="M480 32l-64 368-223.3 80L0 400l19.6-94.8h82l-8 40.6L210 390.2l134.1-44.4 18.8-97.1H29.5l16-82h333.7l10.5-52.7H56.3l16.3-82H480z"></path>'};var ai={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path d="M8 4c.367 0 .721.048 1.063.145a3.943 3.943 0 0 1 1.762 1.031 3.944 3.944 0 0 1 1.03 1.762c.097.34.145.695.145 1.062 0 .367-.048.721-.145 1.063a3.94 3.94 0 0 1-1.03 1.765 4.017 4.017 0 0 1-1.762 1.031C8.72 11.953 8.367 12 8 12s-.721-.047-1.063-.14a4.056 4.056 0 0 1-1.765-1.032A4.055 4.055 0 0 1 4.14 9.062 3.992 3.992 0 0 1 4 8c0-.367.047-.721.14-1.063a4.02 4.02 0 0 1 .407-.953A4.089 4.089 0 0 1 5.98 4.546a3.94 3.94 0 0 1 .957-.401A3.89 3.89 0 0 1 8 4z"></path>'};function Ts(e){let t,n=e[1].name+"",o;return{c(){t=x("span"),o=z(n),y(t,"class","item-name")},m(i,r){O(i,t,r),C(t,o)},p(i,r){r&2&&n!==(n=i[1].name+"")&&ce(o,n)},d(i){i&&S(t)}}}function Ms(e){let t,n,o,i;return{c(){t=x("input"),y(t,"class","rename-input"),y(t,"autocorrect","off"),y(t,"autocapitalize","off"),y(t,"spellcheck","false"),y(t,"type","text"),t.value=n=e[1].name},m(r,s){O(r,t,s),e[8](t),o||(i=[A(t,"keydown",e[7]),A(t,"focusout",function(){Y(e[0]&&e[6])&&(e[0]&&e[6]).apply(this,arguments)})],o=!0)},p(r,s){e=r,s&2&&n!==(n=e[1].name)&&t.value!==n&&(t.value=n)},d(r){r&&S(t),e[8](null),o=!1,H(i)}}}function ui(e){let t,n;return t=new oe({props:{color:"currentColor",src:ai}}),{c(){j(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p:F,i(o){n||(k(t.$$.fragment,o),n=!0)},o(o){E(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function Ls(e){let t,n,o,i,r,s,l;n=new oe({props:{color:"currentColor",src:li}});function c(d,h){return d[0]?Ms:Ts}let u=c(e,-1),f=u(e),a=e[4]?.[e[1].location]?.unsaved&&ui(e);return{c(){t=x("button"),j(n.$$.fragment),o=T(),f.c(),i=T(),a&&a.c(),y(t,"class","item file"),ve(t,"--depth",e[2])},m(d,h){O(d,t,h),L(n,t,null),C(t,o),f.m(t,null),C(t,i),a&&a.m(t,null),r=!0,s||(l=[A(t,"click",e[5]),A(t,"submit",Ne(e[5])),A(t,"dblclick",e[6]),A(t,"keydown",_t(Ne(e[7])))],s=!0)},p(d,[h]){u===(u=c(d,h))&&f?f.p(d,h):(f.d(1),f=u(d),f&&(f.c(),f.m(t,i))),d[4]?.[d[1].location]?.unsaved?a?(a.p(d,h),h&18&&k(a,1)):(a=ui(d),a.c(),k(a,1),a.m(t,null)):a&&(B(),E(a,1,1,()=>{a=null}),U()),(!r||h&4)&&ve(t,"--depth",d[2])},i(d){r||(k(n.$$.fragment,d),k(a),r=!0)},o(d){E(n.$$.fragment,d),E(a),r=!1},d(d){d&&S(t),M(n),f.d(),a&&a.d(),s=!1,H(l)}}}function Ds(e,t,n){let o;ee(e,Ae,d=>n(4,o=d));let{file:i}=t,{rename:r=!1}=t,{depth:s=0}=t;function l(){re.set(i)}let c;function u(){r&&c?.value!==i.name&&PopcornNative.renameQuickCssNode(i.location,c.value),n(0,r=!r)}function f(d){switch(d.key){case"F2":u();break;case"Enter":r&&u();break}}function a(d){$[d?"unshift":"push"](()=>{c=d,n(3,c)})}return e.$$set=d=>{"file"in d&&n(1,i=d.file),"rename"in d&&n(0,r=d.rename),"depth"in d&&n(2,s=d.depth)},e.$$.update=()=>{if(e.$$.dirty&8)e:c&&(c.focus(),c.setSelectionRange(0,c.value.length-4))},[r,i,s,c,o,l,u,f,a]}var Ln=class extends R{constructor(t){super(),q(this,t,Ds,Ls,D,{file:1,rename:0,depth:2})}},fi=Ln;function di(e,t,n){let o=e.slice();return o[9]=t[n],o}function js(e){let t,n;return t=new oe({props:{color:"currentColor",src:ci}}),{c(){j(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p:F,i(o){n||(k(t.$$.fragment,o),n=!0)},o(o){E(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function Rs(e){let t,n;return t=new oe({props:{color:"currentColor",src:si}}),{c(){j(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p:F,i(o){n||(k(t.$$.fragment,o),n=!0)},o(o){E(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function Ns(e){let t,n=e[2].name+"",o;return{c(){t=x("span"),o=z(n),y(t,"class","item-name")},m(i,r){O(i,t,r),C(t,o)},p(i,r){r&4&&n!==(n=i[2].name+"")&&ce(o,n)},d(i){i&&S(t)}}}function Is(e){let t,n,o,i;return{c(){t=x("input"),y(t,"class","rename-input"),y(t,"autocorrect","off"),y(t,"autocapitalize","off"),y(t,"spellcheck","false"),y(t,"type","text"),t.value=n=e[2].name},m(r,s){O(r,t,s),e[8](t),o||(i=[A(t,"keydown",e[7]),A(t,"focusout",function(){Y(e[0]&&e[6])&&(e[0]&&e[6]).apply(this,arguments)})],o=!0)},p(r,s){e=r,s&4&&n!==(n=e[2].name)&&t.value!==n&&(t.value=n)},d(r){r&&S(t),e[8](null),o=!1,H(i)}}}function mi(e){let t,n,o=e[2].files,i=[];for(let s=0;s<o.length;s+=1)i[s]=pi(di(e,o,s));let r=s=>E(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();t=ye()},m(s,l){for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(s,l);O(s,t,l),n=!0},p(s,l){if(l&12){o=s[2].files;let c;for(c=0;c<o.length;c+=1){let u=di(s,o,c);i[c]?(i[c].p(u,l),k(i[c],1)):(i[c]=pi(u),i[c].c(),k(i[c],1),i[c].m(t.parentNode,t))}for(B(),c=o.length;c<i.length;c+=1)r(c);U()}},i(s){if(!n){for(let l=0;l<o.length;l+=1)k(i[l]);n=!0}},o(s){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)E(i[l]);n=!1},d(s){Se(i,s),s&&S(t)}}}function Hs(e){let t,n;return t=new fi({props:{file:e[9],depth:e[3]+1}}),{c(){j(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p(o,i){let r={};i&4&&(r.file=o[9]),i&8&&(r.depth=o[3]+1),t.$set(r)},i(o){n||(k(t.$$.fragment,o),n=!0)},o(o){E(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function qs(e){let t,n;return t=new At({props:{folder:e[9],depth:e[3]+1}}),{c(){j(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p(o,i){let r={};i&4&&(r.folder=o[9]),i&8&&(r.depth=o[3]+1),t.$set(r)},i(o){n||(k(t.$$.fragment,o),n=!0)},o(o){E(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function pi(e){let t,n,o,i,r=[qs,Hs],s=[];function l(c,u){return"files"in c[9]?0:1}return t=l(e,-1),n=s[t]=r[t](e),{c(){n.c(),o=ye()},m(c,u){s[t].m(c,u),O(c,o,u),i=!0},p(c,u){let f=t;t=l(c,u),t===f?s[t].p(c,u):(B(),E(s[f],1,1,()=>{s[f]=null}),U(),n=s[t],n?n.p(c,u):(n=s[t]=r[t](c),n.c()),k(n,1),n.m(o.parentNode,o))},i(c){i||(k(n),i=!0)},o(c){E(n),i=!1},d(c){s[t].d(c),c&&S(o)}}}function zs(e){let t,n,o,i,r,s,l,c,u,f=[Rs,js],a=[];function d(g,w){return g[1]?0:1}n=d(e,-1),o=a[n]=f[n](e);function h(g,w){return g[0]?Is:Ns}let m=h(e,-1),_=m(e),p=e[1]&&mi(e);return{c(){t=x("button"),o.c(),i=T(),_.c(),r=T(),p&&p.c(),s=ye(),y(t,"class","item folder"),ve(t,"--depth",e[3]),y(t,"data-opened",e[1])},m(g,w){O(g,t,w),a[n].m(t,null),C(t,i),_.m(t,null),O(g,r,w),p&&p.m(g,w),O(g,s,w),l=!0,c||(u=[A(t,"click",e[5]),A(t,"submit",Ne(e[5])),A(t,"dblclick",e[6]),A(t,"keydown",_t(Ne(e[7])))],c=!0)},p(g,[w]){let v=n;n=d(g,w),n===v?a[n].p(g,w):(B(),E(a[v],1,1,()=>{a[v]=null}),U(),o=a[n],o?o.p(g,w):(o=a[n]=f[n](g),o.c()),k(o,1),o.m(t,i)),m===(m=h(g,w))&&_?_.p(g,w):(_.d(1),_=m(g),_&&(_.c(),_.m(t,null))),(!l||w&8)&&ve(t,"--depth",g[3]),(!l||w&2)&&y(t,"data-opened",g[1]),g[1]?p?(p.p(g,w),w&2&&k(p,1)):(p=mi(g),p.c(),k(p,1),p.m(s.parentNode,s)):p&&(B(),E(p,1,1,()=>{p=null}),U())},i(g){l||(k(o),k(p),l=!0)},o(g){E(o),E(p),l=!1},d(g){g&&S(t),a[n].d(),_.d(),g&&S(r),p&&p.d(g),g&&S(s),c=!1,H(u)}}}function Vs(e,t,n){let{folder:o}=t,{rename:i=!1}=t,{opened:r=!0}=t,{depth:s=0}=t;function l(){n(1,r=!r),X.set(o)}let c;function u(){i&&c?.value!==o.name&&PopcornNative.renameQuickCssNode(o.location,c.value),n(0,i=!i)}function f(d){switch(d.key){case"F2":u();break;case"Enter":i&&u();break}}function a(d){$[d?"unshift":"push"](()=>{c=d,n(4,c)})}return e.$$set=d=>{"folder"in d&&n(2,o=d.folder),"rename"in d&&n(0,i=d.rename),"opened"in d&&n(1,r=d.opened),"depth"in d&&n(3,s=d.depth)},e.$$.update=()=>{if(e.$$.dirty&16)e:c&&(c.focus(),c.setSelectionRange(0,c.value.length))},[i,r,o,s,c,l,u,f,a]}var At=class extends R{constructor(t){super(),q(this,t,Vs,zs,D,{folder:2,rename:0,opened:1,depth:3})}},hi=At;function Bs(e){let t,n,o,i,r,s,l=e[1].name+"",c,u,f,a,d,h,m,_,p,g,w,v;return i=new oe({props:{color:"currentColor",src:ri}}),a=new oe({props:{color:"currentColor",src:oi}}),m=new oe({props:{color:"currentColor",src:ii}}),p=new hi({props:{folder:window.Popcorn.quickCss}}),{c(){t=x("div"),n=x("div"),o=x("button"),j(i.$$.fragment),r=T(),s=x("span"),c=z(l),u=T(),f=x("button"),j(a.$$.fragment),d=T(),h=x("button"),j(m.$$.fragment),_=T(),j(p.$$.fragment),y(o,"class","action PopcornUI-1je845r"),y(o,"data-action","delete"),y(s,"class","selected-file"),y(f,"class","action PopcornUI-1je845r"),y(f,"data-action","new-file"),y(h,"class","action PopcornUI-1je845r"),y(h,"data-action","new-folder"),y(n,"class","action-bar PopcornUI-1je845r"),y(t,"class","sidebar PopcornUI-1je845r"),ve(t,"width","22ch")},m(b,P){O(b,t,P),C(t,n),C(n,o),L(i,o,null),C(n,r),C(n,s),C(s,c),C(n,u),C(n,f),L(a,f,null),C(n,d),C(n,h),L(m,h,null),C(t,_),L(p,t,null),e[5](t),g=!0,w||(v=[A(o,"click",e[2]),A(o,"submit",e[2]),A(f,"click",e[3]),A(f,"submit",e[3]),A(h,"click",e[4]),A(h,"submit",e[4])],w=!0)},p(b,[P]){(!g||P&2)&&l!==(l=b[1].name+"")&&ce(c,l)},i(b){g||(k(i.$$.fragment,b),k(a.$$.fragment,b),k(m.$$.fragment,b),k(p.$$.fragment,b),g=!0)},o(b){E(i.$$.fragment,b),E(a.$$.fragment,b),E(m.$$.fragment,b),E(p.$$.fragment,b),g=!1},d(b){b&&S(t),M(i),M(a),M(m),M(p),e[5](null),w=!1,H(v)}}}var Ae=fe({});function Us(e,t,n){let o,i;ee(e,X,a=>n(6,o=a)),ee(e,gi,a=>n(1,i=a));let r,s=Ye();Ie(()=>{let a=new ResizeObserver(d=>{s("resize",d[0])});return a.observe(r),()=>{a.disconnect()}});function l(){PopcornNative.deleteQuickCssNode(i.location)}function c(){PopcornNative.createQuickCssNode(o.location,"file")}function u(){PopcornNative.createQuickCssNode(o.location,"folder")}function f(a){$[a?"unshift":"push"](()=>{r=a,n(0,r)})}return[r,i,l,c,u,f]}var Dn=class extends R{constructor(t){super(),q(this,t,Us,Bs,D,{})}},_i=Dn;function bi(e){let t,n;return t=new _i({}),t.$on("resize",function(){Y((0,jn.debounce)(e[1],50))&&(0,jn.debounce)(e[1],50).apply(this,arguments)}),{c(){j(t.$$.fragment)},m(o,i){L(t,o,i),n=!0},p(o,i){e=o},i(o){n||(k(t.$$.fragment,o),n=!0)},o(o){E(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function Qs(e){let t;return{c(){t=x("span"),t.textContent="Select a file to edit",y(t,"class","no-file-selected")},m(n,o){O(n,t,o)},p:F,i:F,o:F,d(n){n&&S(t)}}}function $s(e){let t,n,o=e[2].location+"",i,r,s,l,c,u,f,a=e[4].type&&yi(e);function d(_){e[8](_)}function h(_){e[9](_)}let m={actions:e[5],commands:e[6]};return e[0]!==void 0&&(m.content=e[0]),e[1]!==void 0&&(m.recalculateSize=e[1]),l=new ni({props:m}),$.push(()=>Yt(l,"content",d)),$.push(()=>Yt(l,"recalculateSize",h)),l.$on("change",e[7]),{c(){t=x("div"),n=x("span"),i=z(o),r=T(),a&&a.c(),s=T(),j(l.$$.fragment),y(n,"class","selected-file"),y(t,"class","status-bar PopcornUI-szncc9")},m(_,p){O(_,t,p),C(t,n),C(n,i),C(t,r),a&&a.m(t,null),O(_,s,p),L(l,_,p),f=!0},p(_,p){(!f||p&4)&&o!==(o=_[2].location+"")&&ce(i,o),_[4].type?a?a.p(_,p):(a=yi(_),a.c(),a.m(t,null)):a&&(a.d(1),a=null);let g={};!c&&p&1&&(c=!0,g.content=_[0],Gt(()=>c=!1)),!u&&p&2&&(u=!0,g.recalculateSize=_[1],Gt(()=>u=!1)),l.$set(g)},i(_){f||(k(l.$$.fragment,_),f=!0)},o(_){E(l.$$.fragment,_),f=!1},d(_){_&&S(t),a&&a.d(),_&&S(s),M(l,_)}}}function yi(e){let t,n,o=e[4].message+"",i,r;return{c(){t=x("div"),n=x("div"),i=z(o),y(n,"class","status-message"),y(t,"class","status"),y(t,"data-type",r=e[4].type)},m(s,l){O(s,t,l),C(t,n),C(n,i)},p(s,l){l&16&&o!==(o=s[4].message+"")&&ce(i,o),l&16&&r!==(r=s[4].type)&&y(t,"data-type",r)},d(s){s&&S(t)}}}function Ws(e){let t,n=e[3],o,i,r,s,l=bi(e),c=[$s,Qs],u=[];function f(a,d){return a[2]?0:1}return i=f(e,-1),r=u[i]=c[i](e),{c(){t=x("div"),l.c(),o=T(),r.c(),y(t,"class","quickCss-wrapper PopcornUI-szncc9")},m(a,d){O(a,t,d),l.m(t,null),C(t,o),u[i].m(t,null),s=!0},p(a,[d]){d&8&&D(n,n=a[3])?(B(),E(l,1,1,F),U(),l=bi(a),l.c(),k(l,1),l.m(t,o)):l.p(a,d);let h=i;i=f(a,d),i===h?u[i].p(a,d):(B(),E(u[h],1,1,()=>{u[h]=null}),U(),r=u[i],r?r.p(a,d):(r=u[i]=c[i](a),r.c()),k(r,1),r.m(t,null))},i(a){s||(k(l),k(r),s=!0)},o(a){E(l),E(r),s=!1},d(a){a&&S(t),l.d(a),u[i].d()}}}var vi=fe();function wi(){vi.update(e=>!e)}var Rn=fe(),re=fe(),X=fe(),gi={subscribe:Rn.subscribe},ut=fe({});function Ks(e,t,n){let o,i=F,r=()=>(i(),i=je(re,v=>n(2,o=v)),re),s,l,c,u=F,f=()=>(u(),u=je(ut,v=>n(4,c=v)),ut);ee(e,re,v=>n(2,o=v)),ee(e,Ae,v=>n(10,s=v)),ee(e,vi,v=>n(3,l=v)),ee(e,ut,v=>n(4,c=v)),e.$$.on_destroy.push(()=>i()),e.$$.on_destroy.push(()=>u());let a;re.subscribe(v=>{v&&(n(0,a=v.content),Rn.set(v))}),X.subscribe(v=>{v&&Rn.set(v)});let d=[{id:"save",label:"Save the currently selected file",handler:_}],h=[{keybinding:(v,b)=>b.CtrlCmd|v.KeyS,handler:_}];function m(){pt(Ae,s[o.location]??={},s),pt(Ae,s[o.location].unsaved=!0,s)}function _(){pt(Ae,s[o.location].unsaved=!1,s),PopcornNative.updateQuickCssFile(o.location,a)}let p;function g(v){a=v,n(0,a)}function w(v){p=v,n(1,p)}return[a,p,o,l,c,d,h,m,g,w]}var Nn=class extends R{constructor(t){super(),q(this,t,Ks,Ws,D,{})}},ki=Nn;var Gs=new Ue("QuickCSS"),ft=class{styleElements=new Map;start(){this.populateQuickCss(),this.watchQuickCss(),X.set(window.Popcorn.quickCss)}populateQuickCss(){let{imports:t,contents:n}=Ci(window.Popcorn.quickCss),o=this.styleElements.get("imports");if(o)t!==o.textContent&&(o.textContent=t);else{let r=document.createElement("style");r.id="popcorn-quickcss-imports",r.textContent=t,r.setAttribute("data-popcorn","quickcss"),de.end.after(r),this.styleElements.set("imports",r)}let i=this.styleElements.get("contents");if(i)n!==i.textContent&&(i.textContent=n);else{let r=document.createElement("style");r.id="popcorn-quickcss-contents",r.textContent=n,r.setAttribute("data-popcorn","quickcss"),de.end.after(r),this.styleElements.set("contents",r)}}watchQuickCss(){PopcornNative.onQuickCssChange(t=>{PopcornNative.config.verbose&&Gs.debug("QuickCSS Updated"),window.Popcorn.quickCss=t,wi(),this.populateQuickCss()})}stop(){for(let t of this.styleElements.values())t.remove()}};function Ci(e){let t="",n="",o=/^@import\s+(?:url\(['"]?.*?['"]?\)|['"].*?['"])(\s+[^;]+?)?;$/gmi;for(let i of e.files)if("files"in i){let r=Ci(i);t+=r.imports,n+=r.contents}else{let r=i.content.replace(o,s=>(t+=s.replace(/;$/,"")+`; /* ${i.location} */
`,"")).trim();r&&(n+=`

/* ${i.location} */
`+r)}return{imports:t,contents:n}}function Tt(e,t=window.Popcorn.quickCss){if(t.location===e)return t;for(let n of t.files){if("content"in n){if(n.location===e)return n;continue}let o=Tt(e,n);if(o)return o}return null}function Ei(e,t,n){let o=e.slice();o[7]=t[n];let i=o[0].find(function(...s){return e[6](o[7],...s)});return o[8]=i,o}function xi(e,t,n){let o=e.slice();return o[11]=t[n].name,o}function Si(e){let t,n=e[11]+"",o,i,r,s,l;function c(){return e[4](e[11])}function u(){return e[5](e[11])}return{c(){t=x("button"),o=z(n),i=T(),y(t,"class","tab PopcornUI-cd56hu"),y(t,"data-selected",r=e[1]===e[11])},m(f,a){O(f,t,a),C(t,o),C(t,i),s||(l=[A(t,"click",c),A(t,"keypress",u)],s=!0)},p(f,a){e=f,a&1&&n!==(n=e[11]+"")&&ce(o,n),a&3&&r!==(r=e[1]===e[11])&&y(t,"data-selected",r)},d(f){f&&S(t),s=!1,H(l)}}}function Oi(e){let t,n,o,i,r,s;var l=e[8].component;function c(u){return{}}return l&&(n=$t(l,c(e))),{c(){t=x("div"),n&&j(n.$$.fragment),o=T(),y(t,"class","tab-wrapper PopcornUI-cd56hu"),y(t,"data-selected",i=e[8].name===e[1]),y(t,"data-name",r=e[8].name)},m(u,f){O(u,t,f),n&&L(n,t,null),C(t,o),s=!0},p(u,f){if(f&1&&l!==(l=u[8].component)){if(n){B();let a=n;E(a.$$.fragment,1,0,()=>{M(a,1)}),U()}l?(n=$t(l,c(u)),j(n.$$.fragment),k(n.$$.fragment,1),L(n,t,o)):n=null}(!s||f&3&&i!==(i=u[8].name===u[1]))&&y(t,"data-selected",i),(!s||f&1&&r!==(r=u[8].name))&&y(t,"data-name",r)},i(u){s||(n&&k(n.$$.fragment,u),s=!0)},o(u){n&&E(n.$$.fragment,u),s=!1},d(u){u&&S(t),n&&M(n)}}}function Ys(e){let t,n,o,i,r=e[0],s=[];for(let f=0;f<r.length;f+=1)s[f]=Si(xi(e,r,f));let l=e[2],c=[];for(let f=0;f<l.length;f+=1)c[f]=Oi(Ei(e,l,f));let u=f=>E(c[f],1,1,()=>{c[f]=null});return{c(){t=x("div");for(let f=0;f<s.length;f+=1)s[f].c();n=T();for(let f=0;f<c.length;f+=1)c[f].c();o=ye(),y(t,"class","tab-list PopcornUI-cd56hu")},m(f,a){O(f,t,a);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(t,null);O(f,n,a);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(f,a);O(f,o,a),i=!0},p(f,[a]){if(a&11){r=f[0];let d;for(d=0;d<r.length;d+=1){let h=xi(f,r,d);s[d]?s[d].p(h,a):(s[d]=Si(h),s[d].c(),s[d].m(t,null))}for(;d<s.length;d+=1)s[d].d(1);s.length=r.length}if(a&7){l=f[2];let d;for(d=0;d<l.length;d+=1){let h=Ei(f,l,d);c[d]?(c[d].p(h,a),k(c[d],1)):(c[d]=Oi(h),c[d].c(),k(c[d],1),c[d].m(o.parentNode,o))}for(B(),d=l.length;d<c.length;d+=1)u(d);U()}},i(f){if(!i){for(let a=0;a<l.length;a+=1)k(c[a]);i=!0}},o(f){c=c.filter(Boolean);for(let a=0;a<c.length;a+=1)E(c[a]);i=!1},d(f){f&&S(t),Se(s,f),f&&S(n),Se(c,f),f&&S(o)}}}function Xs(e,t,n){let{tabs:o}=t,i=o?.[0]?.name,r=[i];function s(f){n(1,i=f),r.includes(f)||r.push(f)}let l=f=>s(f),c=f=>s(f),u=(f,a)=>a.name===f;return e.$$set=f=>{"tabs"in f&&n(0,o=f.tabs)},[o,i,r,s,l,c,u]}var In=class extends R{constructor(t){super(),q(this,t,Xs,Ys,D,{tabs:0})}},Pi=In;var Ai=(e,t)=>{let n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(o=>Object.prototype.hasOwnProperty.call(t,o)&&e[o]===t[o])},Js=(e,t)=>e.length===t.length&&e.every((n,o)=>Ai(n,t[o])),Zs=(e,t)=>{if(e.length<t.length)return!1;let n=e.length-t.length;for(let o=t.length-1;o>=0;o-=1)if(!Ai(e[n+o],t[o]))return!1;return!0},Ti=e=>e.reduce((t,n)=>({...t,[n]:!0}),{}),Mi=["ctrl","shift","alt","meta"],ec=Ti(Mi),tc=e=>Object.keys(e).filter(t=>!ec[t]).length===1,Mt=(e,t)=>{if(!e)throw new Error(t)},Lt=(e,t,n)=>{Mt(typeof e===n,`The ${t} must be a ${n}; given ${typeof e}`)},Li=e=>e.split(/ +/g).map(t=>{let n=t.split("+").filter(Boolean),o=Ti(n);return Mt(Object.keys(o).length>=n.length,`Hotkey combination has duplicates "${e}"`),Mt(tc(o),`Invalid hotkey combination: "${e}"`),o}),nc=(e,t)=>{Lt(e,"hotkey","string"),Lt(t,"callback","function")},Fi=(e,t)=>(n,o)=>{nc(n,o),t(e,n,o)},oc=(e,t,n)=>{e.push({hotkey:Li(t),callback:n})},ic=(e,t,n)=>{let o=Li(t),i=e.findIndex(r=>r.callback===n&&Js(o,r.hotkey));i!==-1&&e.splice(i,1)},rc=(e,t)=>{let n=null;return()=>{clearTimeout(n),n=setTimeout(e,t)}},sc=e=>{switch(e){case"+":return"plus";case" ":return"space";default:return e.toLowerCase()}},cc=(e,t)=>{let n=[],o=rc(()=>{n=[]},t);return i=>{if(i.repeat||i.getModifierState(i.key))return;o();let r={[sc(i.key)]:!0};Mi.forEach(s=>{i[`${s}Key`]&&(r[s]=!0)}),n.push(r),e.forEach(s=>{Zs(n,s.hotkey)&&s.callback(i)})}},lc=e=>{let{debounceTime:t=500,autoEnable:n=!0}=e||{};return Lt(t,"debounceTime","number"),Mt(t>0,"debounceTime must be > 0"),Lt(n,"autoEnable","boolean"),{debounceTime:t,autoEnable:n}},Di=e=>{let{debounceTime:t,autoEnable:n}=lc(e),o=[],i=cc(o,t),r=()=>document.addEventListener("keydown",i),s=()=>document.removeEventListener("keydown",i);return n&&r(),{register:Fi(o,oc),unregister:Fi(o,ic),enable:r,disable:s}};function ac(e){let t,n,o,i,r;return n=new Pi({props:{tabs:e[1]}}),{c(){t=x("dialog"),j(n.$$.fragment),o=T(),i=x("div"),y(i,"id","PopcornUI-layers"),y(t,"class","PopcornUI-dialog PopcornUI-6ipy8a")},m(s,l){O(s,t,l),L(n,t,null),C(t,o),C(t,i),e[2](t),r=!0},p:F,i(s){r||(k(n.$$.fragment,s),r=!0)},o(s){E(n.$$.fragment,s),r=!1},d(s){s&&S(t),M(n),e[2](null)}}}function uc(e,t,n){let o,i=!1;function r(){i?o.close():o.showModal(),i=!i,document.documentElement.dataset.popcornUiOpen=i.toString()}let s=Di({autoEnable:!0}),l=a=>{a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault(),r()},c=a=>{i&&(a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault(),r())};Ie(()=>{s.register(PopcornNative.config.hotkey,l),s.register("escape",c)});let u=[{name:"Themes",component:ko},{name:"QuickCSS",component:ki}];Kt(()=>{s.unregister(PopcornNative.config.hotkey,l),s.unregister("escape",c)});function f(a){$[a?"unshift":"push"](()=>{o=a,n(0,o)})}return[o,u,f]}var Hn=class extends R{constructor(t){super(),q(this,t,uc,ac,D,{})}},ji=Hn;var qn=new Ue("IPC");PopcornNative.onStatusMessage(e=>{PopcornNative.config.verbose&&qn.debug(e),e.type.startsWith(nt.quickCss)&&fc(e)});function fc(e){let t=e.success?"success":"error";if(!e.success){qn.warn(e.type,"failed");return}switch(e.type){case ot.quickCss.created:{let{type:o,location:i}=e.data,r=Tt(i);o==="file"?re.set(r):X.set(r);var n=e.success?`Created ${i} successfully.`:`Failed to create ${i}.`}break;case ot.quickCss.deleted:{let{type:o,location:i}=e.data;o==="file"&&Re(re).location===i?re.set(null):o==="folder"&&Re(X).location===i&&X.set(null);var n=e.success?`Deleted ${i} successfully.`:`Failed to delete ${i}.`}break;case ot.quickCss.renamed:{let{oldLocation:o,newLocation:i}=e.data,r=Tt(i),s="files"in r?"folder":"file";s==="file"&&Re(re).location===o?re.set(r):s==="folder"&&Re(X).location===o&&X.set(r);var n=e.success?`Renamed ${o} to ${i} successfully.`:`Failed to rename ${o} to ${i}.`}break;case ot.quickCss.updated:var n=e.success?`Updated ${e.data} successfully.`:`Failed to update ${e.data}.`;break;default:qn.warn(`Unknown status message type: ${e.type}`,e)}n&&ut.set({type:t,message:n})}var Be=!!PopcornNative.validateCSS,de={start:document.createComment(" section:Popcorn "),end:document.createComment(" endsection ")},dc=e=>e.source===window&&e.data===Eo.stop&&Ri.stop(),Ri=new class{UI;Themes;QuickCss;constructor(){}async start(){if(document.head.append(de.start,de.end),!globalThis.PopcornInjected){let i=document.createElement("style");i.id="popcorn-styles",i.textContent=await PopcornNative.getStyles(),de.start.after(i)}let t=await PopcornNative.getThemes(),n=await PopcornNative.getQuickCss(),o={themes:xo(t),quickCss:n};window.Popcorn=o,this.UI=new ji({target:document.body}),this.Themes=new it,this.Themes.start(),this.QuickCss=new ft,this.QuickCss.start(),globalThis.PopcornInjected||Object.assign(globalThis,{PopcornInjected:!0})}stop(){this.UI.$destroy(),this.Themes.stop(),this.QuickCss.stop(),window.removeEventListener("message",dc),de.start.remove(),de.end.remove(),delete window.Popcorn}},vu=Ri;export{de as comments,vu as default,Be as shouldValidate};
