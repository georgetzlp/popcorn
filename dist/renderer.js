var Rr=Object.create;var Lt=Object.defineProperty;var Dr=Object.getOwnPropertyDescriptor;var Nr=Object.getOwnPropertyNames;var Ir=Object.getPrototypeOf,Hr=Object.prototype.hasOwnProperty;var qr=(e,t,n)=>t in e?Lt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var W=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var zr=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Nr(t))!Hr.call(e,r)&&r!==n&&Lt(e,r,{get:()=>t[r],enumerable:!(o=Dr(t,r))||o.enumerable});return e};var $t=(e,t,n)=>(n=e!=null?Rr(Ir(e)):{},zr(t||!e||!e.__esModule?Lt(n,"default",{value:e,enumerable:!0}):n,e));var de=(e,t,n)=>(qr(e,typeof t!="symbol"?t+"":t,n),n),jt=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var Fe=(e,t,n)=>(jt(e,t,"read from private field"),n?n.call(e):t.get(e)),dt=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},we=(e,t,n,o)=>(jt(e,t,"write to private field"),o?o.call(e,n):t.set(e,n),n);var Rt=(e,t,n)=>(jt(e,t,"access private method"),n);var _n=W(Co=>{Co.debounce=function(e,t,n){var o,r,i;t===void 0&&(t=50),n===void 0&&(n={});var s=(o=n.isImmediate)!=null&&o,l=(r=n.callback)!=null&&r,c=n.maxWait,u=Date.now(),d=[];function a(){if(c!==void 0){var p=Date.now()-u;if(p+t>=c)return c-p}return t}var f=function(){var p=[].slice.call(arguments),m=this;return new Promise(function(g,_){var h=s&&i===void 0;if(i!==void 0&&clearTimeout(i),i=setTimeout(function(){if(i=void 0,u=Date.now(),!s){var v=e.apply(m,p);l&&l(v),d.forEach(function(k){return(0,k.resolve)(v)}),d=[]}},a()),h){var y=e.apply(m,p);return l&&l(y),g(y)}d.push({resolve:g,reject:_})})};return f.cancel=function(p){i!==void 0&&clearTimeout(i),d.forEach(function(m){return(0,m.reject)(p)}),d=[]},f}});var bn=W(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});function So(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function Ai(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Eo(Object(n),!0).forEach(function(o){So(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Oo(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,i;for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function Ti(e,t){if(e==null)return{};var n=Oo(e,t),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)o=i[r],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function Mi(e,t){return Fo(e)||Po(e,t)||Ao(e,t)||To()}function Fo(e){if(Array.isArray(e))return e}function Po(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],o=!0,r=!1,i=void 0;try{for(var s=e[Symbol.iterator](),l;!(o=(l=s.next()).done)&&(n.push(l.value),!(t&&n.length===t));o=!0);}catch(c){r=!0,i=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(r)throw i}}return n}}function Ao(e,t){if(e){if(typeof e=="string")return gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gn(e,t)}}function gn(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function To(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}J.arrayLikeToArray=gn;J.arrayWithHoles=Fo;J.defineProperty=So;J.iterableToArrayLimit=Po;J.nonIterableRest=To;J.objectSpread2=Ai;J.objectWithoutProperties=Ti;J.objectWithoutPropertiesLoose=Oo;J.slicedToArray=Mi;J.unsupportedIterableToArray=Ao});var jo=W((yl,$o)=>{"use strict";function Li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function Lo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mo(Object(n),!0).forEach(function(o){Li(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mo(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function $i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(o){return t.reduceRight(function(r,i){return i(r)},o)}}function st(e){return function t(){for(var n=this,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return r.length>=e.length?e.apply(this,r):function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return t.apply(n,[].concat(r,l))}}}function St(e){return{}.toString.call(e).includes("Object")}function ji(e){return!Object.keys(e).length}function ct(e){return typeof e=="function"}function Ri(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Di(e,t){return St(t)||be("changeType"),Object.keys(t).some(function(n){return!Ri(e,n)})&&be("changeField"),t}function Ni(e){ct(e)||be("selectorType")}function Ii(e){ct(e)||St(e)||be("handlerType"),St(e)&&Object.values(e).some(function(t){return!ct(t)})&&be("handlersType")}function Hi(e){e||be("initialIsRequired"),St(e)||be("initialType"),ji(e)&&be("initialContent")}function qi(e,t){throw new Error(e[t]||e.default)}var zi={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},be=st(qi)(zi),Et={changes:Di,selector:Ni,handler:Ii,initial:Hi};function Vi(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Et.initial(e),Et.handler(t);var n={current:e},o=st(Qi)(n,t),r=st(Ui)(n),i=st(Et.changes)(e),s=st(Bi)(n);function l(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(d){return d};return Et.selector(u),u(n.current)}function c(u){$i(o,r,i,s)(u)}return[l,c]}function Bi(e,t){return ct(t)?t(e.current):t}function Ui(e,t){return e.current=Lo(Lo({},e.current),t),t}function Qi(e,t,n){return ct(t)?t(e.current):Object.keys(n).forEach(function(o){var r;return(r=t[o])===null||r===void 0?void 0:r.call(t,e.current[o])}),n}var Wi={create:Vi};$o.exports=Wi});var Ro=W(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});var Gi={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.36.1/min/vs"}};yn.default=Gi});var Do=W(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});function Ki(e){return function t(){for(var n=this,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return r.length>=e.length?e.apply(this,r):function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return t.apply(n,[].concat(r,l))}}}vn.default=Ki});var No=W(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});function Yi(e){return{}.toString.call(e).includes("Object")}wn.default=Yi});var Io=W(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});var Xi=Do(),Ji=No();function Zi(e){return e||kn("configIsRequired"),Ji.default(e)||kn("configType"),e.urls?(es(),{paths:{vs:e.urls.monacoBase}}):e}function es(){console.warn(xn.deprecation)}function ts(e,t){throw new Error(e[t]||e.default)}var xn={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},kn=Xi.default(ts)(xn),ns={config:Zi};lt.default=ns;lt.errorHandler=kn;lt.errorMessages=xn});var Ho=W(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});var os=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return function(r){return n.reduceRight(function(i,s){return s(i)},r)}};Cn.default=os});var Vo=W(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});var qo=bn();function zo(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],zo(e[n],t[n]))}),qo.objectSpread2(qo.objectSpread2({},e),t)}En.default=zo});var Uo=W(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});var Bo={type:"cancelation",msg:"operation is manually canceled"};function rs(e){var t=!1,n=new Promise(function(o,r){e.then(function(i){return t?r(Bo):o(i)}),e.catch(r)});return n.cancel=function(){return t=!0},n}Ot.CANCELATION_MESSAGE=Bo;Ot.default=rs});var Ko=W(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});var Qo=bn(),is=jo(),ss=Ro(),cs=Io(),ls=Ho(),as=Vo(),Sn=Uo();function us(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var fs=us(is),ds=fs.default.create({config:ss.default,isInitialized:!1,resolve:null,reject:null,monaco:null}),Wo=Qo.slicedToArray(ds,2),at=Wo[0],Ft=Wo[1];function ps(e){var t=cs.default.config(e),n=t.monaco,o=Qo.objectWithoutProperties(t,["monaco"]);Ft(function(r){return{config:as.default(r.config,o),monaco:n}})}function ms(){var e=at(function(t){var n=t.monaco,o=t.isInitialized,r=t.resolve;return{monaco:n,isInitialized:o,resolve:r}});if(!e.isInitialized){if(Ft({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Sn.default(On);if(window.monaco&&window.monaco.editor)return Go(window.monaco),e.resolve(window.monaco),Sn.default(On);ls.default(hs,gs)(bs)}return Sn.default(On)}function hs(e){return document.body.appendChild(e)}function _s(e){var t=document.createElement("script");return e&&(t.src=e),t}function gs(e){var t=at(function(o){var r=o.config,i=o.reject;return{config:r,reject:i}}),n=_s("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function bs(){var e=at(function(n){var o=n.config,r=n.resolve,i=n.reject;return{config:o,resolve:r,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){Go(n),e.resolve(n)},function(n){e.reject(n)})}function Go(e){at().monaco||Ft({monaco:e})}function ys(){return at(function(e){var t=e.monaco;return t})}var On=new Promise(function(e,t){return Ft({resolve:e,reject:t})}),vs={config:ps,init:ms,__getMonacoInstance:ys};Fn.default=vs});var Yo=W(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});var ws=Ko();Pn.default=ws.default});var Vr=e=>{let t=new Set;do for(let n of Reflect.ownKeys(e))t.add([e,n]);while((e=Reflect.getPrototypeOf(e))&&e!==Object.prototype);return t};function Dt(e,{include:t,exclude:n}={}){let o=r=>{let i=s=>typeof s=="string"?r===s:s.test(r);return t?t.some(i):n?!n.some(i):!0};for(let[r,i]of Vr(e.constructor.prototype)){if(i==="constructor"||!o(i))continue;let s=Reflect.getOwnPropertyDescriptor(r,i);s&&typeof s.value=="function"&&(e[i]=e[i].bind(e))}return e}function P(){}function Hn(e,t){for(let n in t)e[n]=t[n];return e}function zt(e){return e()}function In(){return Object.create(null)}function D(e){e.forEach(zt)}function G(e){return typeof e=="function"}function j(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function qn(e){return Object.keys(e).length===0}function Me(e,...t){if(e==null)return P;let n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Le(e){let t;return Me(e,n=>t=n)(),t}function K(e,t,n){e.$$.on_destroy.push(Me(t,n))}function mt(e,t,n){return e.set(n),t}function zn(e){return e&&G(e.destroy)?e.destroy:P}var ht=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,We=class{constructor(t){this.options=t,this._listeners="WeakMap"in ht?new WeakMap:void 0}observe(t,n){return this._listeners.set(t,n),this._getObserver().observe(t,this.options),()=>{this._listeners.delete(t),this._observer.unobserve(t)}}_getObserver(){var t;return(t=this._observer)!==null&&t!==void 0?t:this._observer=new ResizeObserver(n=>{var o;for(let r of n)We.entries.set(r.target,r),(o=this._listeners.get(r.target))===null||o===void 0||o(r)})}};We.entries="WeakMap"in ht?new WeakMap:void 0;var Vn=!1;function Br(){Vn=!0}function Ur(){Vn=!1}function x(e,t){e.appendChild(t)}function O(e,t,n){e.insertBefore(t,n||null)}function S(e){e.parentNode&&e.parentNode.removeChild(e)}function xe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function E(e){return document.createElement(e)}function Bn(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function q(e){return document.createTextNode(e)}function T(){return q(" ")}function pe(){return q("")}function A(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function $e(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function _t(e){return function(t){t.target===this&&e.call(this,t)}}function b(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Vt(e,t){for(let n in t)b(e,n,t[n])}function Qr(e){return Array.from(e.childNodes)}function te(e,t){t=""+t,e.data!==t&&(e.data=t)}function me(e,t,n,o){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function Wr(e,t,{bubbles:n=!1,cancelable:o=!1}={}){let r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,o,t),r}function Bt(e,t){return new e(t)}var Ge;function Qe(e){Ge=e}function Ut(){if(!Ge)throw new Error("Function called outside component initialization");return Ge}function je(e){Ut().$$.on_mount.push(e)}function Qt(e){Ut().$$.on_destroy.push(e)}function Ke(){let e=Ut();return(t,n,{cancelable:o=!1}={})=>{let r=e.$$.callbacks[t];if(r){let i=Wr(t,n,{cancelable:o});return r.slice().forEach(s=>{s.call(e,i)}),!i.defaultPrevented}return!0}}var Ae=[];var B=[],Te=[],It=[],Gr=Promise.resolve(),Ht=!1;function Kr(){Ht||(Ht=!0,Gr.then(Un))}function qt(e){Te.push(e)}function Wt(e){It.push(e)}var Nt=new Set,Pe=0;function Un(){if(Pe!==0)return;let e=Ge;do{try{for(;Pe<Ae.length;){let t=Ae[Pe];Pe++,Qe(t),Yr(t.$$)}}catch(t){throw Ae.length=0,Pe=0,t}for(Qe(null),Ae.length=0,Pe=0;B.length;)B.pop()();for(let t=0;t<Te.length;t+=1){let n=Te[t];Nt.has(n)||(Nt.add(n),n())}Te.length=0}while(Ae.length);for(;It.length;)It.pop()();Ht=!1,Nt.clear(),Qe(e)}function Yr(e){if(e.fragment!==null){e.update(),D(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(qt)}}function Xr(e){let t=[],n=[];Te.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),Te=t}var pt=new Set,ke;function z(){ke={r:0,c:[],p:ke}}function V(){ke.r||D(ke.c),ke=ke.p}function w(e,t){e&&e.i&&(pt.delete(e),e.i(t))}function C(e,t,n,o){if(e&&e.o){if(pt.has(e))return;pt.add(e),ke.c.push(()=>{pt.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}function Qn(e,t){let n={},o={},r={$$scope:1},i=e.length;for(;i--;){let s=e[i],l=t[i];if(l){for(let c in s)c in l||(o[c]=1);for(let c in l)r[c]||(n[c]=l[c],r[c]=1);e[i]=l}else for(let c in s)r[c]=1}for(let s in o)s in n||(n[s]=void 0);return n}var Jr=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],ac=new Set([...Jr]);function Gt(e,t,n){let o=e.$$.props[t];o!==void 0&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function $(e){e&&e.c()}function L(e,t,n,o){let{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),o||qt(()=>{let s=e.$$.on_mount.map(zt).filter(G);e.$$.on_destroy?e.$$.on_destroy.push(...s):D(s),e.$$.on_mount=[]}),i.forEach(qt)}function M(e,t){let n=e.$$;n.fragment!==null&&(Xr(n.after_update),D(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Zr(e,t){e.$$.dirty[0]===-1&&(Ae.push(e),Kr(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function I(e,t,n,o,r,i,s,l=[-1]){let c=Ge;Qe(e);let u=e.$$={fragment:null,ctx:[],props:i,update:P,not_equal:r,bound:In(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:In(),dirty:l,skip_bound:!1,root:t.target||c.$$.root};s&&s(u.root);let d=!1;if(u.ctx=n?n(e,t.props||{},(a,f,...p)=>{let m=p.length?p[0]:f;return u.ctx&&r(u.ctx[a],u.ctx[a]=m)&&(!u.skip_bound&&u.bound[a]&&u.bound[a](m),d&&Zr(e,a)),f}):[],u.update(),d=!0,D(u.before_update),u.fragment=o?o(u.ctx):!1,t.target){if(t.hydrate){Br();let a=Qr(t.target);u.fragment&&u.fragment.l(a),a.forEach(S)}else u.fragment&&u.fragment.c();t.intro&&w(e.$$.fragment),L(e,t.target,t.anchor,t.customElement),Ur(),Un()}Qe(c)}var ei;typeof HTMLElement=="function"&&(ei=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(zt).filter(G);for(let t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){D(this.$$.on_disconnect)}$destroy(){M(this,1),this.$destroy=P}$on(e,t){if(!G(t))return P;let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let o=n.indexOf(t);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!qn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});var R=class{$destroy(){M(this,1),this.$destroy=P}$on(t,n){if(!G(n))return P;let o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{let r=o.indexOf(n);r!==-1&&o.splice(r,1)}}$set(t){this.$$set&&!qn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};var Re=[];function ie(e,t=P){let n,o=new Set;function r(l){if(j(e,l)&&(e=l,n)){let c=!Re.length;for(let u of o)u[1](),Re.push(u,e);if(c){for(let u=0;u<Re.length;u+=2)Re[u][0](Re[u+1]);Re.length=0}}}function i(l){r(l(e))}function s(l,c=P){let u=[l,c];return o.add(u),o.size===1&&(n=t(r)||P),l(e),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:r,update:i,subscribe:s}}function Kt(e){return e&&typeof e=="object"&&!Array.isArray(e)}function Ye(e,...t){if(!t.length)return e;let n=t.shift();if(Kt(e)&&Kt(n))for(let o in n){let r=o;Kt(n[r])?(e[r]||Object.assign(e,{[r]:{}}),Ye(e[r],n[r])):Object.assign(e,{[r]:n[r]})}return Ye(e,...t)}function Wn(e,t){t??=document.documentElement;let n=parseFloat(getComputedStyle(t).fontSize);return e*n}function Gn(e=8){return[...Array(e)].map(()=>Math.random().toString(36)[2]).join("")}function Je(e){return e.split("-")[1]}function Zt(e){return e==="y"?"height":"width"}function Ce(e){return e.split("-")[0]}function Ze(e){return["top","bottom"].includes(Ce(e))?"x":"y"}function Kn(e,t,n){let{reference:o,floating:r}=e,i=o.x+o.width/2-r.width/2,s=o.y+o.height/2-r.height/2,l=Ze(t),c=Zt(l),u=o[c]/2-r[c]/2,d=Ce(t),a=l==="x",f;switch(d){case"top":f={x:i,y:o.y-r.height};break;case"bottom":f={x:i,y:o.y+o.height};break;case"right":f={x:o.x+o.width,y:s};break;case"left":f={x:o.x-r.width,y:s};break;default:f={x:o.x,y:o.y}}switch(Je(t)){case"start":f[l]-=u*(n&&a?-1:1);break;case"end":f[l]+=u*(n&&a?-1:1);break}return f}var Yn=async(e,t,n)=>{let{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:s}=n,l=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t)),u=await s.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:a}=Kn(u,o,c),f=o,p={},m=0;for(let g=0;g<l.length;g++){let{name:_,fn:h}=l[g],{x:y,y:v,data:k,reset:F}=await h({x:d,y:a,initialPlacement:o,placement:f,strategy:r,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});if(d=y??d,a=v??a,p={...p,[_]:{...p[_],...k}},F&&m<=50){m++,typeof F=="object"&&(F.placement&&(f=F.placement),F.rects&&(u=F.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:r}):F.rects),{x:d,y:a}=Kn(u,f,c)),g=-1;continue}}return{x:d,y:a,placement:f,strategy:r,middlewareData:p}};function et(e,t){return typeof e=="function"?e(t):e}function ti(e){return{top:0,right:0,bottom:0,left:0,...e}}function Xn(e){return typeof e!="number"?ti(e):{top:e,right:e,bottom:e,left:e}}function Xe(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function en(e,t){var n;t===void 0&&(t={});let{x:o,y:r,platform:i,rects:s,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:a="floating",altBoundary:f=!1,padding:p=0}=et(t,e),m=Xn(p),_=l[f?a==="floating"?"reference":"floating":a],h=Xe(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=a==="floating"?{...s.floating,x:o,y:r}:s.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),k=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},F=Xe(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:v,strategy:c}):y);return{top:(h.top-F.top+m.top)/k.y,bottom:(F.bottom-h.bottom+m.bottom)/k.y,left:(h.left-F.left+m.left)/k.x,right:(F.right-h.right+m.right)/k.x}}var Yt=Math.min,ni=Math.max;function Xt(e,t,n){return ni(e,Yt(t,n))}var tn=e=>({name:"arrow",options:e,async fn(t){let{x:n,y:o,placement:r,rects:i,platform:s,elements:l}=t,{element:c,padding:u=0}=et(e,t)||{};if(c==null)return{};let d=Xn(u),a={x:n,y:o},f=Ze(r),p=Zt(f),m=await s.getDimensions(c),g=f==="y",_=g?"top":"left",h=g?"bottom":"right",y=g?"clientHeight":"clientWidth",v=i.reference[p]+i.reference[f]-a[f]-i.floating[p],k=a[f]-i.reference[f],F=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c)),N=F?F[y]:0;(!N||!await(s.isElement==null?void 0:s.isElement(F)))&&(N=l.floating[y]||i.floating[p]);let H=v/2-k/2,ce=N/2-m[p]/2-1,Be=Yt(d[_],ce),Ue=Yt(d[h],ce),ee=Be,ye=N-m[p]-Ue,U=N/2-m[p]/2+H,re=Xt(ee,U,ye),fe=Je(r)!=null&&U!=re&&i.reference[p]/2-(U<ee?Be:Ue)-m[p]/2<0?U<ee?ee-U:ye-U:0;return{[f]:a[f]-fe,data:{[f]:re,centerOffset:U-re+fe}}}});var oi={left:"right",right:"left",bottom:"top",top:"bottom"};function gt(e){return e.replace(/left|right|bottom|top/g,t=>oi[t])}function ri(e,t,n){n===void 0&&(n=!1);let o=Je(e),r=Ze(e),i=Zt(r),s=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=gt(s)),{main:s,cross:gt(s)}}var ii={start:"end",end:"start"};function Jt(e){return e.replace(/start|end/g,t=>ii[t])}function si(e){let t=gt(e);return[Jt(e),t,Jt(t)]}function ci(e,t,n){let o=["left","right"],r=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?r:o:t?o:r;case"left":case"right":return t?i:s;default:return[]}}function li(e,t,n,o){let r=Je(e),i=ci(Ce(e),n==="start",o);return r&&(i=i.map(s=>s+"-"+r),t&&(i=i.concat(i.map(Jt)))),i}var nn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;let{placement:o,middlewareData:r,rects:i,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:a,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=et(e,t),_=Ce(o),h=Ce(s)===s,y=await(l.isRTL==null?void 0:l.isRTL(c.floating)),v=a||(h||!m?[gt(s)]:si(s));!a&&p!=="none"&&v.push(...li(s,m,p,y));let k=[s,...v],F=await en(t,g),N=[],H=((n=r.flip)==null?void 0:n.overflows)||[];if(u&&N.push(F[_]),d){let{main:ee,cross:ye}=ri(o,i,y);N.push(F[ee],F[ye])}if(H=[...H,{placement:o,overflows:N}],!N.every(ee=>ee<=0)){var ce,Be;let ee=(((ce=r.flip)==null?void 0:ce.index)||0)+1,ye=k[ee];if(ye)return{data:{index:ee,overflows:H},reset:{placement:ye}};let U=(Be=H.filter(re=>re.overflows[0]<=0).sort((re,ve)=>re.overflows[1]-ve.overflows[1])[0])==null?void 0:Be.placement;if(!U)switch(f){case"bestFit":{var Ue;let re=(Ue=H.map(ve=>[ve.placement,ve.overflows.filter(fe=>fe>0).reduce((fe,jr)=>fe+jr,0)]).sort((ve,fe)=>ve[1]-fe[1])[0])==null?void 0:Ue[0];re&&(U=re);break}case"initialPlacement":U=s;break}if(o!==U)return{reset:{placement:U}}}return{}}}};async function ai(e,t){let{placement:n,platform:o,elements:r}=e,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),s=Ce(n),l=Je(n),c=Ze(n)==="x",u=["left","top"].includes(s)?-1:1,d=i&&c?-1:1,a=et(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof a=="number"?{mainAxis:a,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...a};return l&&typeof m=="number"&&(p=l==="end"?m*-1:m),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}var on=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){let{x:n,y:o}=t,r=await ai(t,e);return{x:n+r.x,y:o+r.y,data:r}}}};function ui(e){return e==="x"?"y":"x"}var rn=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:n,y:o,placement:r}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:_=>{let{x:h,y}=_;return{x:h,y}}},...c}=et(e,t),u={x:n,y:o},d=await en(t,c),a=Ze(Ce(r)),f=ui(a),p=u[a],m=u[f];if(i){let _=a==="y"?"top":"left",h=a==="y"?"bottom":"right",y=p+d[_],v=p-d[h];p=Xt(y,p,v)}if(s){let _=f==="y"?"top":"left",h=f==="y"?"bottom":"right",y=m+d[_],v=m-d[h];m=Xt(y,m,v)}let g=l.fn({...t,[a]:p,[f]:m});return{...g,data:{x:g.x-n,y:g.y-o}}}}};function Y(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ne(e){return Y(e).getComputedStyle(e)}function oo(e){return e instanceof Y(e).Node}function he(e){return oo(e)?(e.nodeName||"").toLowerCase():"#document"}function oe(e){return e instanceof Y(e).HTMLElement}function le(e){return e instanceof Y(e).Element}function Jn(e){return typeof ShadowRoot>"u"?!1:e instanceof Y(e).ShadowRoot||e instanceof ShadowRoot}function tt(e){let{overflow:t,overflowX:n,overflowY:o,display:r}=ne(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(r)}function fi(e){return["table","td","th"].includes(he(e))}function cn(e){let t=ln(),n=ne(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function ln(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wt(e){return["html","body","#document"].includes(he(e))}var sn=Math.min,De=Math.max,yt=Math.round,bt=Math.floor,Ee=e=>({x:e,y:e});function ro(e){let t=ne(e),n=parseFloat(t.width)||0,o=parseFloat(t.height)||0,r=oe(e),i=r?e.offsetWidth:n,s=r?e.offsetHeight:o,l=yt(n)!==i||yt(o)!==s;return l&&(n=i,o=s),{width:n,height:o,$:l}}function an(e){return le(e)?e:e.contextElement}function Ne(e){let t=an(e);if(!oe(t))return Ee(1);let n=t.getBoundingClientRect(),{width:o,height:r,$:i}=ro(t),s=(i?yt(n.width):n.width)/o,l=(i?yt(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}var Zn=Ee(0);function io(e,t,n){var o,r;if(t===void 0&&(t=!0),!ln())return Zn;let i=e?Y(e):window;return!n||t&&n!==i?Zn:{x:((o=i.visualViewport)==null?void 0:o.offsetLeft)||0,y:((r=i.visualViewport)==null?void 0:r.offsetTop)||0}}function Se(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);let r=e.getBoundingClientRect(),i=an(e),s=Ee(1);t&&(o?le(o)&&(s=Ne(o)):s=Ne(e));let l=io(i,n,o),c=(r.left+l.x)/s.x,u=(r.top+l.y)/s.y,d=r.width/s.x,a=r.height/s.y;if(i){let f=Y(i),p=o&&le(o)?Y(o):o,m=f.frameElement;for(;m&&o&&p!==f;){let g=Ne(m),_=m.getBoundingClientRect(),h=getComputedStyle(m),y=_.left+(m.clientLeft+parseFloat(h.paddingLeft))*g.x,v=_.top+(m.clientTop+parseFloat(h.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,a*=g.y,c+=y,u+=v,m=Y(m).frameElement}}return Xe({width:d,height:a,x:c,y:u})}function ae(e){return((oo(e)?e.ownerDocument:e.document)||window.document).documentElement}function kt(e){return le(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function di(e){let{rect:t,offsetParent:n,strategy:o}=e,r=oe(n),i=ae(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},l=Ee(1),c=Ee(0);if((r||!r&&o!=="fixed")&&((he(n)!=="body"||tt(i))&&(s=kt(n)),oe(n))){let u=Se(n);l=Ne(n),c.x=u.x+n.clientLeft,c.y=u.y+n.clientTop}return{width:t.width*l.x,height:t.height*l.y,x:t.x*l.x-s.scrollLeft*l.x+c.x,y:t.y*l.y-s.scrollTop*l.y+c.y}}function so(e){return Se(ae(e)).left+kt(e).scrollLeft}function pi(e){let t=ae(e),n=kt(e),o=e.ownerDocument.body,r=De(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),i=De(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight),s=-n.scrollLeft+so(e),l=-n.scrollTop;return ne(o).direction==="rtl"&&(s+=De(t.clientWidth,o.clientWidth)-r),{width:r,height:i,x:s,y:l}}function Ie(e){if(he(e)==="html")return e;let t=e.assignedSlot||e.parentNode||Jn(e)&&e.host||ae(e);return Jn(t)?t.host:t}function co(e){let t=Ie(e);return wt(t)?e.ownerDocument?e.ownerDocument.body:e.body:oe(t)&&tt(t)?t:co(t)}function vt(e,t){var n;t===void 0&&(t=[]);let o=co(e),r=o===((n=e.ownerDocument)==null?void 0:n.body),i=Y(o);return r?t.concat(i,i.visualViewport||[],tt(o)?o:[]):t.concat(o,vt(o))}function mi(e,t){let n=Y(e),o=ae(e),r=n.visualViewport,i=o.clientWidth,s=o.clientHeight,l=0,c=0;if(r){i=r.width,s=r.height;let u=ln();(!u||u&&t==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:i,height:s,x:l,y:c}}function hi(e,t){let n=Se(e,!0,t==="fixed"),o=n.top+e.clientTop,r=n.left+e.clientLeft,i=oe(e)?Ne(e):Ee(1),s=e.clientWidth*i.x,l=e.clientHeight*i.y,c=r*i.x,u=o*i.y;return{width:s,height:l,x:c,y:u}}function eo(e,t,n){let o;if(t==="viewport")o=mi(e,n);else if(t==="document")o=pi(ae(e));else if(le(t))o=hi(t,n);else{let r=io(e);o={...t,x:t.x-r.x,y:t.y-r.y}}return Xe(o)}function lo(e,t){let n=Ie(e);return n===t||!le(n)||wt(n)?!1:ne(n).position==="fixed"||lo(n,t)}function _i(e,t){let n=t.get(e);if(n)return n;let o=vt(e).filter(l=>le(l)&&he(l)!=="body"),r=null,i=ne(e).position==="fixed",s=i?Ie(e):e;for(;le(s)&&!wt(s);){let l=ne(s),c=cn(s);!c&&l.position==="fixed"&&(r=null),(i?!c&&!r:!c&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||tt(s)&&!c&&lo(e,s))?o=o.filter(d=>d!==s):r=l,s=Ie(s)}return t.set(e,o),o}function gi(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e,s=[...n==="clippingAncestors"?_i(t,this._c):[].concat(n),o],l=s[0],c=s.reduce((u,d)=>{let a=eo(t,d,r);return u.top=De(a.top,u.top),u.right=sn(a.right,u.right),u.bottom=sn(a.bottom,u.bottom),u.left=De(a.left,u.left),u},eo(t,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function bi(e){return ro(e)}function to(e,t){return!oe(e)||ne(e).position==="fixed"?null:t?t(e):e.offsetParent}function yi(e){let t=Ie(e);for(;oe(t)&&!wt(t);){if(cn(t))return t;t=Ie(t)}return null}function no(e,t){let n=Y(e);if(!oe(e))return n;let o=to(e,t);for(;o&&fi(o)&&ne(o).position==="static";)o=to(o,t);return o&&(he(o)==="html"||he(o)==="body"&&ne(o).position==="static"&&!cn(o))?n:o||yi(e)||n}function vi(e,t,n){let o=oe(t),r=ae(t),i=n==="fixed",s=Se(e,!0,i,t),l={scrollLeft:0,scrollTop:0},c=Ee(0);if(o||!o&&!i)if((he(t)!=="body"||tt(r))&&(l=kt(t)),oe(t)){let u=Se(t,!0,i,t);c.x=u.x+t.clientLeft,c.y=u.y+t.clientTop}else r&&(c.x=so(r));return{x:s.left+l.scrollLeft-c.x,y:s.top+l.scrollTop-c.y,width:s.width,height:s.height}}var wi={getClippingRect:gi,convertOffsetParentRelativeRectToViewportRelativeRect:di,isElement:le,getDimensions:bi,getOffsetParent:no,getDocumentElement:ae,getScale:Ne,async getElementRects(e){let{reference:t,floating:n,strategy:o}=e,r=this.getOffsetParent||no,i=this.getDimensions;return{reference:vi(t,await r(n),o),floating:{x:0,y:0,...await i(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>ne(e).direction==="rtl"};function ki(e,t){let n=null,o,r=ae(e);function i(){clearTimeout(o),n&&n.disconnect(),n=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();let{left:u,top:d,width:a,height:f}=e.getBoundingClientRect();if(l||t(),!a||!f)return;let p=bt(d),m=bt(r.clientWidth-(u+a)),g=bt(r.clientHeight-(d+f)),_=bt(u),y={rootMargin:-p+"px "+-m+"px "+-g+"px "+-_+"px",threshold:De(0,sn(1,c))||1},v=!0;function k(F){let N=F[0].intersectionRatio;if(N!==c){if(!v)return s();N?s(!1,N):o=setTimeout(()=>{s(!1,1e-7)},100)}v=!1}try{n=new IntersectionObserver(k,{...y,root:r.ownerDocument})}catch{n=new IntersectionObserver(k,y)}n.observe(e)}return s(!0),i}function ao(e,t,n,o){o===void 0&&(o={});let{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=o,u=an(e),d=r||i?[...u?vt(u):[],...vt(t)]:[];d.forEach(h=>{r&&h.addEventListener("scroll",n,{passive:!0}),i&&h.addEventListener("resize",n)});let a=u&&l?ki(u,n):null,f=-1,p=null;s&&(p=new ResizeObserver(h=>{let[y]=h;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{p&&p.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let m,g=c?Se(e):null;c&&_();function _(){let h=Se(e);g&&(h.x!==g.x||h.y!==g.y||h.width!==g.width||h.height!==g.height)&&n(),g=h,m=requestAnimationFrame(_)}return n(),()=>{d.forEach(h=>{r&&h.removeEventListener("scroll",n),i&&h.removeEventListener("resize",n)}),a&&a(),p&&p.disconnect(),p=null,c&&cancelAnimationFrame(m)}}var uo=(e,t,n)=>{let o=new Map,r={platform:wi,...n},i={...r.platform,_c:o};return Yn(e,t,{...r,platform:i})};var fn=(e,t={})=>{let n={allowHtml:!1,arrow:!0,class:"tooltip",content:e.title,target:"body",visible:"auto",computePositionCallback:(a,{wrapper:f,arrow:p})=>{let{x:m,y:g,placement:_,middlewareData:h}=a;f.style.left=m+"px",f.style.top=g+"px";let y=_.split("-"),k={top:"bottom",bottom:"top",left:"right",right:"left"}[y[0]],F="center";if(_==="top"||_==="bottom"?y[1]==="start"?F="top":y[1]==="end"&&(F="bottom"):y[1]==="start"?F="left":y[1]==="end"&&(F="right"),Object.assign(f.style,{"transform-origin":k+" "+F}),h.arrow){let{x:N,y:H}=h.arrow;p?.setAttribute("data-direction",k),Object.assign(p.style,{left:N+"px",top:H+"px",[k]:"calc(var(--_size) / -2)"})}},fuiConfig:{placement:"top",middleware:[nn(),on(Wn(.5)),rn()]},fuiAutoUpdateConfig:{}};if(t=Ye(n,t),!t.content)throw new Error("No content defined, either add the content option or add a title property to the element.");let o=a=>{switch(a.key){case"Escape":l();break}},r,i=e.id?e.id+"-tooltip":Gn(),s=fo(e,t,i);async function l(){r&&(await u("out"),s.wrapper.remove(),e.removeAttribute("aria-describedby"),r=!1)}async function c(){r||(xi(t.target).appendChild(s.wrapper),r=!0,e.setAttribute("aria-describedby",i),await u("in"))}switch(t.visible){case!0:c();break;case"auto":e.addEventListener("mouseenter",c),e.addEventListener("mouseleave",l),e.addEventListener("focus",c),e.addEventListener("blur",l),window.addEventListener("keydown",o);break}function u(a){return new Promise((f,p)=>{s.wrapper.setAttribute("data-animating",a);let m=getComputedStyle(s.wrapper),g=parseFloat(m.getPropertyValue("animation-duration")),_=parseFloat(m.getPropertyValue("transition-duration"));g<=0&&_<=0&&(s.wrapper.removeAttribute("data-animating"),console.error("No animation found."),p()),s.wrapper.addEventListener("animationend",()=>{s.wrapper.removeAttribute("data-animating"),f()})})}function d(a,f){switch(a){case"content":s.content[f.allowHtml?"innerHTML":"textContent"]=f.content,e.setAttribute("data-tooltip-content",f.content);break;case"allowHtml":s.content[f.allowHtml?"innerHTML":"textContent"]=f.content,s.content.setAttribute("data-allow-html",f.allowHtml?"true":"false"),e.setAttribute("data-tooltip-content",f.content);break;case"class":{let p=un(t.class),m=un(f.class);s.wrapper.classList.remove(...p.wrapper),s.wrapper.classList.add(...m.wrapper),s.content.classList.remove(...p.content),s.content.classList.add(...m.content),s.arrow?.classList.remove(...p.arrow),s.arrow?.classList.add(...m.arrow)}break;case"visible":switch(f.visible||l(),f.visible){case!0:c();case!1:e.removeEventListener("mouseenter",c),e.removeEventListener("mouseleave",l),e.removeEventListener("focus",c),e.removeEventListener("blur",l);break;case"auto":e.addEventListener("mouseenter",c),e.addEventListener("mouseleave",l),e.addEventListener("focus",c),e.addEventListener("blur",l);break}break;default:s=fo(e,t,i);break}}return{update(a){for(let f in a)d(f,a);t=Ye(n,a)},destroy(){window.removeEventListener("keydown",o);for(let a in s)s[a]?.remove()}}};function fo(e,t,n){let o=un(t.class??[]),r=document.createElement("div");r.classList.add(...o.wrapper),r.role="tooltip",r.id=n;let i=document.createElement("div");i.classList.add(...o.content),i.setAttribute("data-allow-html",t.allowHtml?"true":"false"),i[t.allowHtml?"innerHTML":"textContent"]=t.content,r.appendChild(i);let s;return t.arrow&&(s=document.createElement("div"),s.classList.add(...o.arrow),r.appendChild(s),t.fuiConfig.middleware??=[],t.fuiConfig.middleware.push(tn({element:s}))),ao(e,r,()=>{uo(e,r,t.fuiConfig).then(l=>{t.computePositionCallback(l,{wrapper:r,content:i,arrow:s})})}),{wrapper:r,content:i,arrow:s}}function xi(e){return typeof e=="string"?document.querySelector(e):e}function un(e){return typeof e=="string"&&(e=e.split(" ")),typeof e[0]=="string"&&!e[0]&&(e[0]="tooltip"),e.length===0&&e.push("tooltip"),{wrapper:e.map(t=>t+(t?"-":"")+"wrapper"),content:e.map(t=>t+(t?"-":"")+"content"),arrow:e.map(t=>t+(t?"-":"")+"arrow")}}function Ci(e){let t,n=[{width:e[1]},{height:e[1]},{"stroke-width":"0"},{class:e[2]},e[0].a,e[4],{xmlns:"http://www.w3.org/2000/svg"}],o={};for(let r=0;r<n.length;r+=1)o=Hn(o,n[r]);return{c(){t=Bn("svg"),Vt(t,o)},m(r,i){O(r,t,i),t.innerHTML=e[3]},p(r,[i]){i&8&&(t.innerHTML=r[3]),Vt(t,o=Qn(n,[i&2&&{width:r[1]},i&2&&{height:r[1]},{"stroke-width":"0"},i&4&&{class:r[2]},i&1&&r[0].a,i&16&&r[4],{xmlns:"http://www.w3.org/2000/svg"}]))},i:P,o:P,d(r){r&&S(t)}}}function Ei(e,t,n){let{src:o}=t,{size:r="1em"}=t,{color:i=void 0}=t,{title:s=void 0}=t,{className:l=""}=t,c,u;return e.$$set=d=>{"src"in d&&n(0,o=d.src),"size"in d&&n(1,r=d.size),"color"in d&&n(5,i=d.color),"title"in d&&n(6,s=d.title),"className"in d&&n(2,l=d.className)},e.$$.update=()=>{if(e.$$.dirty&33)e:n(4,u={}),i&&(o.a.stroke!=="none"&&n(4,u.stroke=i,u),o.a.fill!=="none"&&n(4,u.fill=i,u));if(e.$$.dirty&65)e:n(3,c=(s?`<title>${s}</title>`:"")+o.c)},[o,r,l,c,u,i,s]}var dn=class extends R{constructor(t){super(),I(this,t,Ei,Ci,j,{src:0,size:1,color:5,title:6,className:2})}},X=dn;var po={a:{viewBox:"0 0 24 24"},c:`<g><path fill="none" d="M0 0H24V24H0z"></path>
<path d="M12 19c.828 0 1.5.672 1.5 1.5S12.828 22 12 22s-1.5-.672-1.5-1.5.672-1.5 1.5-1.5zm0-17c3.314 0 6 2.686 6 6 0 2.165-.753 3.29-2.674 4.923C13.399 14.56 13 15.297 13 17h-2c0-2.474.787-3.695 3.031-5.601C15.548 10.11 16 9.434 16 8c0-2.21-1.79-4-4-4S8 5.79 8 8v1H6V8c0-3.314 2.686-6 6-6z"></path></g>`};var mo={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" clip-rule="evenodd" d="M14.431 3.323l-8.47 10-.79-.036-3.35-4.77.818-.574 2.978 4.24 8.051-9.506.764.646z"></path>'};var ho={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" clip-rule="evenodd" d="M7.116 8l-4.558 4.558.884.884L8 8.884l4.558 4.558.884-.884L8.884 8l4.558-4.558-.884-.884L8 7.116 3.442 2.558l-.884.884L7.116 8z"></path>'};function _o(e,t,n){let o=e.slice();o[4]=t[n];let r=window.Popcorn.themes[o[4]];o[5]=r;let i=o[1](o[5].valid);return o[6]=i.icon,o[7]=i.text,o}function Si(e){let t,n,o,r,i,s,l;return n=new X({props:{color:"currentColor",src:e[6]}}),{c(){t=E("div"),$(n.$$.fragment),b(t,"class","theme-validity PopcornUI-1qhapve"),b(t,"data-value",o=e[5].valid)},m(c,u){O(c,t,u),L(n,t,null),i=!0,s||(l=zn(r=fn.call(null,t,{content:e[5].valid?e[7]:Fi(e[5].errors),target:"#PopcornUI-layers"})),s=!0)},p(c,u){e=c},i(c){i||(w(n.$$.fragment,c),i=!0)},o(c){C(n.$$.fragment,c),i=!1},d(c){c&&S(t),M(n),s=!1,l()}}}function go(e){let t,n,o=e[4]+"",r,i,s,l,c=(e[5].description??"")+"",u,d,a,f=e[5].enabled?"Disable":"Enable",p,m,g,_,h,y,v,k=He&&Si(e);function F(){return e[2](e[4])}function N(){return e[3](e[4])}return{c(){t=E("div"),n=E("h1"),r=q(o),i=T(),k&&k.c(),s=T(),l=E("div"),u=q(c),d=T(),a=E("button"),p=q(f),m=T(),b(n,"class","theme-id PopcornUI-1qhapve"),b(l,"class","theme-description PopcornUI-1qhapve"),b(a,"class","theme-toggle PopcornUI-1qhapve"),b(t,"class","theme-container PopcornUI-1qhapve"),b(t,"id",g=e[4]),b(t,"data-enabled",_=e[5].enabled)},m(H,ce){O(H,t,ce),x(t,n),x(n,r),x(n,i),k&&k.m(n,null),x(t,s),x(t,l),x(l,u),x(t,d),x(t,a),x(a,p),x(t,m),h=!0,y||(v=[A(a,"click",F),A(a,"submit",N)],y=!0)},p(H,ce){e=H,He&&k.p(e,ce)},i(H){h||(w(k),h=!0)},o(H){C(k),h=!1},d(H){H&&S(t),k&&k.d(),y=!1,D(v)}}}function bo(e){let t=e[0][e[4]],n,o,r=go(e);return{c(){r.c(),n=pe()},m(i,s){r.m(i,s),O(i,n,s),o=!0},p(i,s){s&1&&j(t,t=i[0][i[4]])?(z(),C(r,1,1,P),V(),r=go(i),r.c(),w(r,1),r.m(n.parentNode,n)):r.p(i,s)},i(i){o||(w(r),o=!0)},o(i){C(r),o=!1},d(i){i&&S(n),r.d(i)}}}function Oi(e){let t,n,o=Object.keys(window.Popcorn.themes),r=[];for(let s=0;s<o.length;s+=1)r[s]=bo(_o(e,o,s));let i=s=>C(r[s],1,1,()=>{r[s]=null});return{c(){t=E("div");for(let s=0;s<r.length;s+=1)r[s].c();b(t,"class","themes-wrapper PopcornUI-1qhapve")},m(s,l){O(s,t,l);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(t,null);n=!0},p(s,[l]){if(l&3){o=Object.keys(window.Popcorn.themes);let c;for(c=0;c<o.length;c+=1){let u=_o(s,o,c);r[c]?(r[c].p(u,l),w(r[c],1)):(r[c]=bo(u),r[c].c(),w(r[c],1),r[c].m(t,null))}for(z(),c=o.length;c<r.length;c+=1)i(c);V()}},i(s){if(!n){for(let l=0;l<o.length;l+=1)w(r[l]);n=!0}},o(s){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)C(r[l]);n=!1},d(s){s&&S(t),xe(r,s)}}}var yo=ie({});function xt(e){yo.update(t=>(t[e]=!t[e],t))}function Fi(e){return e.map(t=>`Line ${t.line}: ${t.message}`).join(`
 `)}function Pi(e,t,n){let o;K(e,yo,l=>n(0,o=l));function r(l){switch(l){case!0:return{icon:mo,text:"Valid"};case!1:return{icon:ho,text:"Invalid"};default:return{icon:po,text:"Validity Unknown"}}}return[o,r,l=>window.Popcorn.themes[l].toggle(),l=>window.Popcorn.themes[l].toggle()]}var pn=class extends R{constructor(t){super(),I(this,t,Pi,Oi,j,{})}},vo=pn;var nt={main:"POPCORN_",quickCss:"QUICKCSS_"},wo=mn({getConfig:"GET_CONFIG",getStyles:"GET_STYLES",statusMessage:"STATUS_MESSAGE",getWindowData:"GET_WINDOW_DATA",log:"LOG",getThemes:"GET_THEMES",onThemeChange:"ON_THEME_CHANGE",saveThemeState:"SAVE_THEME_STATE",getQuickCss:"GET_QUICK_CSS",onQuickCssChange:"ON_QUICK_CSS_CHANGE",createQuickCssNode:"CREATE_QUICK_CSS_NODE",deleteQuickCssNode:"DELETE_QUICK_CSS_NODE",renameQuickCssNode:"RENAME_QUICK_CSS_NODE",updateQuickCssFile:"SAVE_QUICK_CSS_FILE"},nt.main),ot={quickCss:mn({created:"CREATED",deleted:"DELETED",renamed:"RENAMED",updated:"UPDATED"},nt.quickCss)},ko=mn({stop:"STOP"},nt.main);function mn(e,t){let n={};for(let o in e)n[o]=t+e[o];return n}var _e=class{constructor(t,n="console"){this.module=t;this.output=_e.parseOutput(n)}output;static parseOutput(t){switch(t){case"ansi":case"terminal":return"ansi";default:return"console"}}static parseType(t){switch(t){case"info":case"warn":case"error":case"debug":return t;default:return"log"}}static parseColor(t){switch(t){case"debug":return{str:"MediumSpringGreen",arr:[0,250,154]};case"info":return{str:"DeepSkyBlue",arr:[0,191,255]};case"error":return{str:"crimson",arr:[220,20,60]};case"warn":return{str:"DarkOrange",arr:[255,140,0]};default:return{str:"gold",arr:[255,215,0]}}}static ansiColor(t,n){return`\x1B[38;2;${t[0]};${t[1]};${t[2]}m${n}\x1B[0m`}async#e(t,n){t=_e.parseType(t);let o=_e.parseColor(t),r=this.output==="ansi"?[`[${_e.ansiColor(o.arr,"Popcorn")} > ${this.module}]`]:[`[%cPopcorn%c > ${this.module}]`,`color: ${o.str};`,""];if(console[t](...r,...n),this.output==="ansi"){let{BrowserWindow:i}=await import("electron");i.getAllWindows().forEach(s=>s.webContents.send(wo.log,t,...n))}}log=(...t)=>this.#e("log",t);info=(...t)=>this.#e("info",t);warn=(...t)=>this.#e("warn",t);error=(...t)=>this.#e("error",t);debug=(...t)=>this.#e("debug",t)},qe=_e;var ze=new qe("Themes"),ue,ge,it,hn,Ve=class{constructor(t,n){dt(this,it);de(this,"description");de(this,"id");de(this,"json");dt(this,ue,void 0);dt(this,ge,void 0);de(this,"rev",0);de(this,"valid","unknown");de(this,"errors",[]);Dt(this),this.description=n.description,this.id=t,this.json=n.json,we(this,ge,n.enabled),He&&Rt(this,it,hn).call(this),n.enabled&&this.enable(!1)}get enabled(){return Fe(this,ge)}set enabled(t){t?this.enable():this.disable(),we(this,ge,t)}enable(t=!0){if(Fe(this,ue)){ze.log(`"${this.id}" is already enabled.`);return}we(this,ge,!0);let n=we(this,ue,document.createElement("link"));n.rel="stylesheet",n.id=this.id,n.href=Ve.link+this.id,n.setAttribute("data-popcorn","theme"),se.end.before(n),ze.log(`"${this.id}" enabled.`),xt(this.id),t&&PopcornNative.saveThemeState(this.id,!0)}disable(t=!0){if(!Fe(this,ue)){ze.warn(`"${this.id}" is not enabled.`);return}we(this,ge,!1),Fe(this,ue).remove(),we(this,ue,null),ze.log(`"${this.id}" disabled.`),xt(this.id),t&&PopcornNative.saveThemeState(this.id,!1)}toggle(t=!0){this.enabled?this.disable(t):this.enable(t)}async update(){Fe(this,ue).href=Ve.link+this.id+`?${++this.rev}`;let n=await(await fetch(Ve.link+this.id,{cache:"no-store"})).text();He&&Rt(this,it,hn).call(this,n)}},Ct=Ve;ue=new WeakMap,ge=new WeakMap,it=new WeakSet,hn=async function(t){t??=await(await fetch(Ve.link+this.id,{cache:"no-store"})).text(),PopcornNative.validateCSS(t).then(n=>{PopcornNative.config.verbose&&ze.debug(`Validated "${this.id}".`,n),this.valid=n.valid,this.errors=n.errors,xt(this.id)}).catch(n=>{ze.error(`Failed to validate "${this.id}".`,n)})},de(Ct,"link",PopcornNative.isSplash?"popcorn://splash-theme/":"popcorn://theme/");var rt=class{start(){this.watchThemes()}watchThemes(){PopcornNative.onThemeChange(({id:t})=>{window.Popcorn.themes[t].update()})}stop(){let t=document.head.querySelectorAll('link[data-popcorn="theme"]');for(let n of t)n.remove()}};function xo(e){let t={};for(let n in e)t[n]=new Ct(n,e[n]);return t}var Ln=$t(_n());var Jo=$t(_n()),Zo=$t(Yo());var{window:ks}=ht;function Xo(e){let t;return{c(){t=E("p"),t.textContent="Loading monaco editor...",b(t,"class","loading-overlay")},m(n,o){O(n,t,o)},d(n){n&&S(t)}}}function xs(e){let t,n,o,r,i,s=!e[1]&&Xo(e);return{c(){t=E("div"),s&&s.c(),n=T(),o=E("div"),b(o,"class","monaco-editor PopcornUI-1tm8p33"),b(t,"class","monaco-wrapper")},m(l,c){O(l,t,c),s&&s.m(t,null),x(t,n),x(t,o),e[9](o),r||(i=A(ks,"resize",(0,Jo.debounce)(e[0],50)),r=!0)},p(l,[c]){l[1]?s&&(s.d(1),s=null):s||(s=Xo(l),s.c(),s.m(t,n))},i:P,o:P,d(l){l&&S(t),s&&s.d(),e[9](null),r=!1,i()}}}function Cs(e,t,n){let o,{editor:r=null}=t,{content:i}=t,{actions:s=[]}=t,{commands:l=[]}=t,{options:c={}}=t,u=Ke(),d=!1;je(async()=>{let m=await Zo.default.init();m.editor.onDidCreateEditor(()=>{n(1,d=!0),f(),u("ready")}),n(3,r=m.editor.create(o,{language:"css",theme:"vs-dark",...c,value:i}));let g=l.map(_=>({..._,keybinding:_.keybinding(m.KeyCode,m.KeyMod)}));for(let _ of g)r.addCommand(_.keybinding,_.handler,_.context??void 0);for(let _ of s){let{id:h,label:y,handler:v}=_;r.addAction({id:"custom."+h,label:y,keybindings:[],run:v})}return r.onDidChangeModelContent(()=>{let _=r.getValue();_!==i&&(n(8,a=!0),n(4,i=_),u("change",i))}),()=>{r.dispose(),n(1,d=!1)}});let a=!1;function f(){d&&window.requestAnimationFrame(()=>{r.layout({width:0,height:0});let m=o.parentElement.getBoundingClientRect();r.layout({width:m.width,height:m.height})})}function p(m){B[m?"unshift":"push"](()=>{o=m,n(2,o)})}return e.$$set=m=>{"editor"in m&&n(3,r=m.editor),"content"in m&&n(4,i=m.content),"actions"in m&&n(5,s=m.actions),"commands"in m&&n(6,l=m.commands),"options"in m&&n(7,c=m.options)},e.$$.update=()=>{if(e.$$.dirty&282)e:typeof i=="string"&&d&&(a||r.getModel().setValue(i),n(8,a=!1))},[f,d,o,r,i,s,l,c,a,p]}var An=class extends R{constructor(t){super(),I(this,t,Cs,xs,j,{editor:3,content:4,actions:5,commands:6,options:7,recalculateSize:0})}get recalculateSize(){return this.$$.ctx[0]}},er=An;var tr={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" clip-rule="evenodd" d="M4 7H3V4H0V3h3V0h1v3h3v1H4v3zm6.5-5.9l3.4 3.5.1.4v8.5l-.5.5h-10l-.5-.5V8h1v5h9V6H9V2H5V1h5.2l.3.1zM10 2v3h2.9L10 2z"></path>'};var nr={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" clip-rule="evenodd" d="M7 3H4V0H3v3H0v1h3v3h1V4h3V3zM5.5 7H5V6h.3l.8-.9.4-.1H14V4H8V3h6.5l.5.5v10l-.5.5h-13l-.5-.5V5h1v8h12V6H6.7l-.8.9-.4.1z"></path>'};var or={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path d="M15 8H1V7h14v1z"></path>'};var rr={a:{viewBox:"0 0 1024 1024"},c:'<path d="M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 0 0-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zm-180 0H238c-13 0-24.8 7.9-29.7 20L136 643.2V256h188.5l119.6 114.4H748V444z"></path>'};var ir={a:{viewBox:"0 0 1024 1024"},c:'<path d="M880 298.4H521L403.7 186.2a8.15 8.15 0 0 0-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32z"></path>'};var sr={a:{viewBox:"0 0 512 512"},c:'<path d="M480 32l-64 368-223.3 80L0 400l19.6-94.8h82l-8 40.6L210 390.2l134.1-44.4 18.8-97.1H29.5l16-82h333.7l10.5-52.7H56.3l16.3-82H480z"></path>'};var cr={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path d="M8 4c.367 0 .721.048 1.063.145a3.943 3.943 0 0 1 1.762 1.031 3.944 3.944 0 0 1 1.03 1.762c.097.34.145.695.145 1.062 0 .367-.048.721-.145 1.063a3.94 3.94 0 0 1-1.03 1.765 4.017 4.017 0 0 1-1.762 1.031C8.72 11.953 8.367 12 8 12s-.721-.047-1.063-.14a4.056 4.056 0 0 1-1.765-1.032A4.055 4.055 0 0 1 4.14 9.062 3.992 3.992 0 0 1 4 8c0-.367.047-.721.14-1.063a4.02 4.02 0 0 1 .407-.953A4.089 4.089 0 0 1 5.98 4.546a3.94 3.94 0 0 1 .957-.401A3.89 3.89 0 0 1 8 4z"></path>'};function Es(e){let t,n=e[1].name+"",o;return{c(){t=E("span"),o=q(n),b(t,"class","item-name")},m(r,i){O(r,t,i),x(t,o)},p(r,i){i&2&&n!==(n=r[1].name+"")&&te(o,n)},d(r){r&&S(t)}}}function Ss(e){let t,n,o,r;return{c(){t=E("input"),b(t,"class","rename-input"),b(t,"autocorrect","off"),b(t,"autocapitalize","off"),b(t,"spellcheck","false"),b(t,"type","text"),t.value=n=e[1].name},m(i,s){O(i,t,s),e[8](t),o||(r=[A(t,"keydown",e[7]),A(t,"focusout",function(){G(e[0]&&e[6])&&(e[0]&&e[6]).apply(this,arguments)})],o=!0)},p(i,s){e=i,s&2&&n!==(n=e[1].name)&&t.value!==n&&(t.value=n)},d(i){i&&S(t),e[8](null),o=!1,D(r)}}}function lr(e){let t,n;return t=new X({props:{color:"currentColor",src:cr}}),{c(){$(t.$$.fragment)},m(o,r){L(t,o,r),n=!0},p:P,i(o){n||(w(t.$$.fragment,o),n=!0)},o(o){C(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function Os(e){let t,n,o,r,i,s,l;n=new X({props:{color:"currentColor",src:sr}});function c(f,p){return f[0]?Ss:Es}let u=c(e,-1),d=u(e),a=e[4]?.[e[1].location]?.unsaved&&lr(e);return{c(){t=E("button"),$(n.$$.fragment),o=T(),d.c(),r=T(),a&&a.c(),b(t,"class","item file"),me(t,"--depth",e[2])},m(f,p){O(f,t,p),L(n,t,null),x(t,o),d.m(t,null),x(t,r),a&&a.m(t,null),i=!0,s||(l=[A(t,"click",e[5]),A(t,"submit",$e(e[5])),A(t,"dblclick",e[6]),A(t,"keydown",_t($e(e[7])))],s=!0)},p(f,[p]){u===(u=c(f,p))&&d?d.p(f,p):(d.d(1),d=u(f),d&&(d.c(),d.m(t,r))),f[4]?.[f[1].location]?.unsaved?a?(a.p(f,p),p&18&&w(a,1)):(a=lr(f),a.c(),w(a,1),a.m(t,null)):a&&(z(),C(a,1,1,()=>{a=null}),V()),(!i||p&4)&&me(t,"--depth",f[2])},i(f){i||(w(n.$$.fragment,f),w(a),i=!0)},o(f){C(n.$$.fragment,f),C(a),i=!1},d(f){f&&S(t),M(n),d.d(),a&&a.d(),s=!1,D(l)}}}function Fs(e,t,n){let o;K(e,Oe,f=>n(4,o=f));let{file:r}=t,{rename:i=!1}=t,{depth:s=0}=t;function l(){Z.set(r)}let c;function u(){i&&c?.value!==r.name&&PopcornNative.renameQuickCssNode(r.location,c.value),n(0,i=!i)}function d(f){switch(f.key){case"F2":u();break;case"Enter":i&&u();break}}function a(f){B[f?"unshift":"push"](()=>{c=f,n(3,c)})}return e.$$set=f=>{"file"in f&&n(1,r=f.file),"rename"in f&&n(0,i=f.rename),"depth"in f&&n(2,s=f.depth)},e.$$.update=()=>{if(e.$$.dirty&8)e:c&&(c.focus(),c.setSelectionRange(0,c.value.length-4))},[i,r,s,c,o,l,u,d,a]}var Tn=class extends R{constructor(t){super(),I(this,t,Fs,Os,j,{file:1,rename:0,depth:2})}},ar=Tn;function ur(e,t,n){let o=e.slice();return o[9]=t[n],o}function Ps(e){let t,n;return t=new X({props:{color:"currentColor",src:ir}}),{c(){$(t.$$.fragment)},m(o,r){L(t,o,r),n=!0},p:P,i(o){n||(w(t.$$.fragment,o),n=!0)},o(o){C(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function As(e){let t,n;return t=new X({props:{color:"currentColor",src:rr}}),{c(){$(t.$$.fragment)},m(o,r){L(t,o,r),n=!0},p:P,i(o){n||(w(t.$$.fragment,o),n=!0)},o(o){C(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function Ts(e){let t,n=e[2].name+"",o;return{c(){t=E("span"),o=q(n),b(t,"class","item-name")},m(r,i){O(r,t,i),x(t,o)},p(r,i){i&4&&n!==(n=r[2].name+"")&&te(o,n)},d(r){r&&S(t)}}}function Ms(e){let t,n,o,r;return{c(){t=E("input"),b(t,"class","rename-input"),b(t,"autocorrect","off"),b(t,"autocapitalize","off"),b(t,"spellcheck","false"),b(t,"type","text"),t.value=n=e[2].name},m(i,s){O(i,t,s),e[8](t),o||(r=[A(t,"keydown",e[7]),A(t,"focusout",function(){G(e[0]&&e[6])&&(e[0]&&e[6]).apply(this,arguments)})],o=!0)},p(i,s){e=i,s&4&&n!==(n=e[2].name)&&t.value!==n&&(t.value=n)},d(i){i&&S(t),e[8](null),o=!1,D(r)}}}function fr(e){let t,n,o=e[2].files,r=[];for(let s=0;s<o.length;s+=1)r[s]=dr(ur(e,o,s));let i=s=>C(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();t=pe()},m(s,l){for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(s,l);O(s,t,l),n=!0},p(s,l){if(l&12){o=s[2].files;let c;for(c=0;c<o.length;c+=1){let u=ur(s,o,c);r[c]?(r[c].p(u,l),w(r[c],1)):(r[c]=dr(u),r[c].c(),w(r[c],1),r[c].m(t.parentNode,t))}for(z(),c=o.length;c<r.length;c+=1)i(c);V()}},i(s){if(!n){for(let l=0;l<o.length;l+=1)w(r[l]);n=!0}},o(s){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)C(r[l]);n=!1},d(s){xe(r,s),s&&S(t)}}}function Ls(e){let t,n;return t=new ar({props:{file:e[9],depth:e[3]+1}}),{c(){$(t.$$.fragment)},m(o,r){L(t,o,r),n=!0},p(o,r){let i={};r&4&&(i.file=o[9]),r&8&&(i.depth=o[3]+1),t.$set(i)},i(o){n||(w(t.$$.fragment,o),n=!0)},o(o){C(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function $s(e){let t,n;return t=new Pt({props:{folder:e[9],depth:e[3]+1}}),{c(){$(t.$$.fragment)},m(o,r){L(t,o,r),n=!0},p(o,r){let i={};r&4&&(i.folder=o[9]),r&8&&(i.depth=o[3]+1),t.$set(i)},i(o){n||(w(t.$$.fragment,o),n=!0)},o(o){C(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function dr(e){let t,n,o,r,i=[$s,Ls],s=[];function l(c,u){return"files"in c[9]?0:1}return t=l(e,-1),n=s[t]=i[t](e),{c(){n.c(),o=pe()},m(c,u){s[t].m(c,u),O(c,o,u),r=!0},p(c,u){let d=t;t=l(c,u),t===d?s[t].p(c,u):(z(),C(s[d],1,1,()=>{s[d]=null}),V(),n=s[t],n?n.p(c,u):(n=s[t]=i[t](c),n.c()),w(n,1),n.m(o.parentNode,o))},i(c){r||(w(n),r=!0)},o(c){C(n),r=!1},d(c){s[t].d(c),c&&S(o)}}}function js(e){let t,n,o,r,i,s,l,c,u,d=[As,Ps],a=[];function f(h,y){return h[1]?0:1}n=f(e,-1),o=a[n]=d[n](e);function p(h,y){return h[0]?Ms:Ts}let m=p(e,-1),g=m(e),_=e[1]&&fr(e);return{c(){t=E("button"),o.c(),r=T(),g.c(),i=T(),_&&_.c(),s=pe(),b(t,"class","item folder"),me(t,"--depth",e[3]),b(t,"data-opened",e[1])},m(h,y){O(h,t,y),a[n].m(t,null),x(t,r),g.m(t,null),O(h,i,y),_&&_.m(h,y),O(h,s,y),l=!0,c||(u=[A(t,"click",e[5]),A(t,"submit",$e(e[5])),A(t,"dblclick",e[6]),A(t,"keydown",_t($e(e[7])))],c=!0)},p(h,[y]){let v=n;n=f(h,y),n===v?a[n].p(h,y):(z(),C(a[v],1,1,()=>{a[v]=null}),V(),o=a[n],o?o.p(h,y):(o=a[n]=d[n](h),o.c()),w(o,1),o.m(t,r)),m===(m=p(h,y))&&g?g.p(h,y):(g.d(1),g=m(h),g&&(g.c(),g.m(t,null))),(!l||y&8)&&me(t,"--depth",h[3]),(!l||y&2)&&b(t,"data-opened",h[1]),h[1]?_?(_.p(h,y),y&2&&w(_,1)):(_=fr(h),_.c(),w(_,1),_.m(s.parentNode,s)):_&&(z(),C(_,1,1,()=>{_=null}),V())},i(h){l||(w(o),w(_),l=!0)},o(h){C(o),C(_),l=!1},d(h){h&&S(t),a[n].d(),g.d(),h&&S(i),_&&_.d(h),h&&S(s),c=!1,D(u)}}}function Rs(e,t,n){let{folder:o}=t,{rename:r=!1}=t,{opened:i=!0}=t,{depth:s=0}=t;function l(){n(1,i=!i),Q.set(o)}let c;function u(){r&&c?.value!==o.name&&PopcornNative.renameQuickCssNode(o.location,c.value),n(0,r=!r)}function d(f){switch(f.key){case"F2":u();break;case"Enter":r&&u();break}}function a(f){B[f?"unshift":"push"](()=>{c=f,n(4,c)})}return e.$$set=f=>{"folder"in f&&n(2,o=f.folder),"rename"in f&&n(0,r=f.rename),"opened"in f&&n(1,i=f.opened),"depth"in f&&n(3,s=f.depth)},e.$$.update=()=>{if(e.$$.dirty&16)e:c&&(c.focus(),c.setSelectionRange(0,c.value.length))},[r,i,o,s,c,l,u,d,a]}var Pt=class extends R{constructor(t){super(),I(this,t,Rs,js,j,{folder:2,rename:0,opened:1,depth:3})}},pr=Pt;function Ds(e){let t,n,o,r,i,s,l=e[1].name+"",c,u,d,a,f,p,m,g,_,h,y,v;return r=new X({props:{color:"currentColor",src:or}}),a=new X({props:{color:"currentColor",src:tr}}),m=new X({props:{color:"currentColor",src:nr}}),_=new pr({props:{folder:window.Popcorn.quickCss}}),{c(){t=E("div"),n=E("div"),o=E("button"),$(r.$$.fragment),i=T(),s=E("span"),c=q(l),u=T(),d=E("button"),$(a.$$.fragment),f=T(),p=E("button"),$(m.$$.fragment),g=T(),$(_.$$.fragment),b(o,"class","action PopcornUI-1je845r"),b(o,"data-action","delete"),b(s,"class","selected-file"),b(d,"class","action PopcornUI-1je845r"),b(d,"data-action","new-file"),b(p,"class","action PopcornUI-1je845r"),b(p,"data-action","new-folder"),b(n,"class","action-bar PopcornUI-1je845r"),b(t,"class","sidebar PopcornUI-1je845r"),me(t,"width","22ch")},m(k,F){O(k,t,F),x(t,n),x(n,o),L(r,o,null),x(n,i),x(n,s),x(s,c),x(n,u),x(n,d),L(a,d,null),x(n,f),x(n,p),L(m,p,null),x(t,g),L(_,t,null),e[5](t),h=!0,y||(v=[A(o,"click",e[2]),A(o,"submit",e[2]),A(d,"click",e[3]),A(d,"submit",e[3]),A(p,"click",e[4]),A(p,"submit",e[4])],y=!0)},p(k,[F]){(!h||F&2)&&l!==(l=k[1].name+"")&&te(c,l)},i(k){h||(w(r.$$.fragment,k),w(a.$$.fragment,k),w(m.$$.fragment,k),w(_.$$.fragment,k),h=!0)},o(k){C(r.$$.fragment,k),C(a.$$.fragment,k),C(m.$$.fragment,k),C(_.$$.fragment,k),h=!1},d(k){k&&S(t),M(r),M(a),M(m),M(_),e[5](null),y=!1,D(v)}}}var Oe=ie({});function Ns(e,t,n){let o,r;K(e,Q,a=>n(6,o=a)),K(e,hr,a=>n(1,r=a));let i,s=Ke();je(()=>{let a=new ResizeObserver(f=>{s("resize",f[0])});return a.observe(i),()=>{a.disconnect()}});function l(){PopcornNative.deleteQuickCssNode(r.location)}function c(){PopcornNative.createQuickCssNode(o.location,"file")}function u(){PopcornNative.createQuickCssNode(o.location,"folder")}function d(a){B[a?"unshift":"push"](()=>{i=a,n(0,i)})}return[i,r,l,c,u,d]}var Mn=class extends R{constructor(t){super(),I(this,t,Ns,Ds,j,{})}},mr=Mn;function _r(e){let t,n;return t=new mr({}),t.$on("resize",function(){G((0,Ln.debounce)(e[1],50))&&(0,Ln.debounce)(e[1],50).apply(this,arguments)}),{c(){$(t.$$.fragment)},m(o,r){L(t,o,r),n=!0},p(o,r){e=o},i(o){n||(w(t.$$.fragment,o),n=!0)},o(o){C(t.$$.fragment,o),n=!1},d(o){M(t,o)}}}function Is(e){let t;return{c(){t=E("span"),t.textContent="Select a file to edit",b(t,"class","no-file-selected")},m(n,o){O(n,t,o)},p:P,i:P,o:P,d(n){n&&S(t)}}}function Hs(e){let t,n,o=e[2].location+"",r,i,s,l,c,u,d,a=e[4].type&&gr(e);function f(g){e[8](g)}function p(g){e[9](g)}let m={actions:e[5],commands:e[6]};return e[0]!==void 0&&(m.content=e[0]),e[1]!==void 0&&(m.recalculateSize=e[1]),l=new er({props:m}),B.push(()=>Gt(l,"content",f)),B.push(()=>Gt(l,"recalculateSize",p)),l.$on("change",e[7]),{c(){t=E("div"),n=E("span"),r=q(o),i=T(),a&&a.c(),s=T(),$(l.$$.fragment),b(n,"class","selected-file"),b(t,"class","status-bar PopcornUI-szncc9")},m(g,_){O(g,t,_),x(t,n),x(n,r),x(t,i),a&&a.m(t,null),O(g,s,_),L(l,g,_),d=!0},p(g,_){(!d||_&4)&&o!==(o=g[2].location+"")&&te(r,o),g[4].type?a?a.p(g,_):(a=gr(g),a.c(),a.m(t,null)):a&&(a.d(1),a=null);let h={};!c&&_&1&&(c=!0,h.content=g[0],Wt(()=>c=!1)),!u&&_&2&&(u=!0,h.recalculateSize=g[1],Wt(()=>u=!1)),l.$set(h)},i(g){d||(w(l.$$.fragment,g),d=!0)},o(g){C(l.$$.fragment,g),d=!1},d(g){g&&S(t),a&&a.d(),g&&S(s),M(l,g)}}}function gr(e){let t,n,o=e[4].message+"",r,i;return{c(){t=E("div"),n=E("div"),r=q(o),b(n,"class","status-message"),b(t,"class","status"),b(t,"data-type",i=e[4].type)},m(s,l){O(s,t,l),x(t,n),x(n,r)},p(s,l){l&16&&o!==(o=s[4].message+"")&&te(r,o),l&16&&i!==(i=s[4].type)&&b(t,"data-type",i)},d(s){s&&S(t)}}}function qs(e){let t,n=e[3],o,r,i,s,l=_r(e),c=[Hs,Is],u=[];function d(a,f){return a[2]?0:1}return r=d(e,-1),i=u[r]=c[r](e),{c(){t=E("div"),l.c(),o=T(),i.c(),b(t,"class","quickCss-wrapper PopcornUI-szncc9")},m(a,f){O(a,t,f),l.m(t,null),x(t,o),u[r].m(t,null),s=!0},p(a,[f]){f&8&&j(n,n=a[3])?(z(),C(l,1,1,P),V(),l=_r(a),l.c(),w(l,1),l.m(t,o)):l.p(a,f);let p=r;r=d(a,f),r===p?u[r].p(a,f):(z(),C(u[p],1,1,()=>{u[p]=null}),V(),i=u[r],i?i.p(a,f):(i=u[r]=c[r](a),i.c()),w(i,1),i.m(t,null))},i(a){s||(w(l),w(i),s=!0)},o(a){C(l),C(i),s=!1},d(a){a&&S(t),l.d(a),u[r].d()}}}var br=ie();function yr(){br.update(e=>!e)}var $n=ie(),Z=ie(),Q=ie(),hr={subscribe:$n.subscribe},ut=ie({});function zs(e,t,n){let o,r=P,i=()=>(r(),r=Me(Z,v=>n(2,o=v)),Z),s,l,c,u=P,d=()=>(u(),u=Me(ut,v=>n(4,c=v)),ut);K(e,Z,v=>n(2,o=v)),K(e,Oe,v=>n(10,s=v)),K(e,br,v=>n(3,l=v)),K(e,ut,v=>n(4,c=v)),e.$$.on_destroy.push(()=>r()),e.$$.on_destroy.push(()=>u());let a;Z.subscribe(v=>{v&&(n(0,a=v.content),$n.set(v))}),Q.subscribe(v=>{v&&$n.set(v)});let f=[{id:"save",label:"Save the currently selected file",handler:g}],p=[{keybinding:(v,k)=>k.CtrlCmd|v.KeyS,handler:g}];function m(){mt(Oe,s[o.location]??={},s),mt(Oe,s[o.location].unsaved=!0,s)}function g(){mt(Oe,s[o.location].unsaved=!1,s),PopcornNative.updateQuickCssFile(o.location,a)}let _;function h(v){a=v,n(0,a)}function y(v){_=v,n(1,_)}return[a,_,o,l,c,f,p,m,h,y]}var jn=class extends R{constructor(t){super(),I(this,t,zs,qs,j,{})}},vr=jn;var Vs=new qe("QuickCSS"),ft=class{styleElements=new Map;start(){this.populateQuickCss(),this.watchQuickCss(),Q.set(window.Popcorn.quickCss)}populateQuickCss(){let{imports:t,contents:n}=wr(window.Popcorn.quickCss),o=this.styleElements.get("imports");if(o)t!==o.textContent&&(o.textContent=t);else{let i=document.createElement("style");i.id="popcorn-quickcss-imports",i.textContent=t,i.setAttribute("data-popcorn","quickcss"),se.end.after(i),this.styleElements.set("imports",i)}let r=this.styleElements.get("contents");if(r)n!==r.textContent&&(r.textContent=n);else{let i=document.createElement("style");i.id="popcorn-quickcss-contents",i.textContent=n,i.setAttribute("data-popcorn","quickcss"),se.end.after(i),this.styleElements.set("contents",i)}}watchQuickCss(){PopcornNative.onQuickCssChange(t=>{PopcornNative.config.verbose&&Vs.debug("QuickCSS Updated"),window.Popcorn.quickCss=t,yr(),this.populateQuickCss()})}stop(){for(let t of this.styleElements.values())t.remove()}};function wr(e){let t="",n="",o=/^@import\s+(?:url\(['"]?.*?['"]?\)|['"].*?['"])(\s+[^;]+?)?;$/gmi;for(let r of e.files)if("files"in r){let i=wr(r);t+=i.imports,n+=i.contents}else{let i=r.content.replace(o,s=>(t+=s.replace(/;$/,"")+`; /* ${r.location} */
`,"")).trim();i&&(n+=`

/* ${r.location} */
`+i)}return{imports:t,contents:n}}function At(e,t=window.Popcorn.quickCss){if(t.location===e)return t;for(let n of t.files){if("content"in n){if(n.location===e)return n;continue}let o=At(e,n);if(o)return o}return null}function kr(e,t,n){let o=e.slice();o[7]=t[n];let r=o[0].find(function(...s){return e[6](o[7],...s)});return o[8]=r,o}function xr(e,t,n){let o=e.slice();return o[11]=t[n].name,o}function Cr(e){let t,n=e[11]+"",o,r,i,s,l;function c(){return e[4](e[11])}function u(){return e[5](e[11])}return{c(){t=E("button"),o=q(n),r=T(),b(t,"class","tab PopcornUI-cd56hu"),b(t,"data-selected",i=e[1]===e[11])},m(d,a){O(d,t,a),x(t,o),x(t,r),s||(l=[A(t,"click",c),A(t,"keypress",u)],s=!0)},p(d,a){e=d,a&1&&n!==(n=e[11]+"")&&te(o,n),a&3&&i!==(i=e[1]===e[11])&&b(t,"data-selected",i)},d(d){d&&S(t),s=!1,D(l)}}}function Er(e){let t,n,o,r,i,s;var l=e[8].component;function c(u){return{}}return l&&(n=Bt(l,c(e))),{c(){t=E("div"),n&&$(n.$$.fragment),o=T(),b(t,"class","tab-wrapper PopcornUI-cd56hu"),b(t,"data-selected",r=e[8].name===e[1]),b(t,"data-name",i=e[8].name)},m(u,d){O(u,t,d),n&&L(n,t,null),x(t,o),s=!0},p(u,d){if(d&1&&l!==(l=u[8].component)){if(n){z();let a=n;C(a.$$.fragment,1,0,()=>{M(a,1)}),V()}l?(n=Bt(l,c(u)),$(n.$$.fragment),w(n.$$.fragment,1),L(n,t,o)):n=null}(!s||d&3&&r!==(r=u[8].name===u[1]))&&b(t,"data-selected",r),(!s||d&1&&i!==(i=u[8].name))&&b(t,"data-name",i)},i(u){s||(n&&w(n.$$.fragment,u),s=!0)},o(u){n&&C(n.$$.fragment,u),s=!1},d(u){u&&S(t),n&&M(n)}}}function Bs(e){let t,n,o,r,i=e[0],s=[];for(let d=0;d<i.length;d+=1)s[d]=Cr(xr(e,i,d));let l=e[2],c=[];for(let d=0;d<l.length;d+=1)c[d]=Er(kr(e,l,d));let u=d=>C(c[d],1,1,()=>{c[d]=null});return{c(){t=E("div");for(let d=0;d<s.length;d+=1)s[d].c();n=T();for(let d=0;d<c.length;d+=1)c[d].c();o=pe(),b(t,"class","tab-list PopcornUI-cd56hu")},m(d,a){O(d,t,a);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(t,null);O(d,n,a);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(d,a);O(d,o,a),r=!0},p(d,[a]){if(a&11){i=d[0];let f;for(f=0;f<i.length;f+=1){let p=xr(d,i,f);s[f]?s[f].p(p,a):(s[f]=Cr(p),s[f].c(),s[f].m(t,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=i.length}if(a&7){l=d[2];let f;for(f=0;f<l.length;f+=1){let p=kr(d,l,f);c[f]?(c[f].p(p,a),w(c[f],1)):(c[f]=Er(p),c[f].c(),w(c[f],1),c[f].m(o.parentNode,o))}for(z(),f=l.length;f<c.length;f+=1)u(f);V()}},i(d){if(!r){for(let a=0;a<l.length;a+=1)w(c[a]);r=!0}},o(d){c=c.filter(Boolean);for(let a=0;a<c.length;a+=1)C(c[a]);r=!1},d(d){d&&S(t),xe(s,d),d&&S(n),xe(c,d),d&&S(o)}}}function Us(e,t,n){let{tabs:o}=t,r=o?.[0]?.name,i=[r];function s(d){n(1,r=d),i.includes(d)||i.push(d)}let l=d=>s(d),c=d=>s(d),u=(d,a)=>a.name===d;return e.$$set=d=>{"tabs"in d&&n(0,o=d.tabs)},[o,r,i,s,l,c,u]}var Rn=class extends R{constructor(t){super(),I(this,t,Us,Bs,j,{tabs:0})}},Sr=Rn;var Fr=(e,t)=>{let n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(o=>Object.prototype.hasOwnProperty.call(t,o)&&e[o]===t[o])},Qs=(e,t)=>e.length===t.length&&e.every((n,o)=>Fr(n,t[o])),Ws=(e,t)=>{if(e.length<t.length)return!1;let n=e.length-t.length;for(let o=t.length-1;o>=0;o-=1)if(!Fr(e[n+o],t[o]))return!1;return!0},Pr=e=>e.reduce((t,n)=>({...t,[n]:!0}),{}),Ar=["ctrl","shift","alt","meta"],Gs=Pr(Ar),Ks=e=>Object.keys(e).filter(t=>!Gs[t]).length===1,Tt=(e,t)=>{if(!e)throw new Error(t)},Mt=(e,t,n)=>{Tt(typeof e===n,`The ${t} must be a ${n}; given ${typeof e}`)},Tr=e=>e.split(/ +/g).map(t=>{let n=t.split("+").filter(Boolean),o=Pr(n);return Tt(Object.keys(o).length>=n.length,`Hotkey combination has duplicates "${e}"`),Tt(Ks(o),`Invalid hotkey combination: "${e}"`),o}),Ys=(e,t)=>{Mt(e,"hotkey","string"),Mt(t,"callback","function")},Or=(e,t)=>(n,o)=>{Ys(n,o),t(e,n,o)},Xs=(e,t,n)=>{e.push({hotkey:Tr(t),callback:n})},Js=(e,t,n)=>{let o=Tr(t),r=e.findIndex(i=>i.callback===n&&Qs(o,i.hotkey));r!==-1&&e.splice(r,1)},Zs=(e,t)=>{let n=null;return()=>{clearTimeout(n),n=setTimeout(e,t)}},ec=e=>{switch(e){case"+":return"plus";case" ":return"space";default:return e.toLowerCase()}},tc=(e,t)=>{let n=[],o=Zs(()=>{n=[]},t);return r=>{if(r.repeat||r.getModifierState(r.key))return;o();let i={[ec(r.key)]:!0};Ar.forEach(s=>{r[`${s}Key`]&&(i[s]=!0)}),n.push(i),e.forEach(s=>{Ws(n,s.hotkey)&&s.callback(r)})}},nc=e=>{let{debounceTime:t=500,autoEnable:n=!0}=e||{};return Mt(t,"debounceTime","number"),Tt(t>0,"debounceTime must be > 0"),Mt(n,"autoEnable","boolean"),{debounceTime:t,autoEnable:n}},Mr=e=>{let{debounceTime:t,autoEnable:n}=nc(e),o=[],r=tc(o,t),i=()=>document.addEventListener("keydown",r),s=()=>document.removeEventListener("keydown",r);return n&&i(),{register:Or(o,Xs),unregister:Or(o,Js),enable:i,disable:s}};function oc(e){let t,n,o,r,i;return n=new Sr({props:{tabs:e[1]}}),{c(){t=E("dialog"),$(n.$$.fragment),o=T(),r=E("div"),b(r,"id","PopcornUI-layers"),b(t,"class","PopcornUI-dialog PopcornUI-6ipy8a")},m(s,l){O(s,t,l),L(n,t,null),x(t,o),x(t,r),e[2](t),i=!0},p:P,i(s){i||(w(n.$$.fragment,s),i=!0)},o(s){C(n.$$.fragment,s),i=!1},d(s){s&&S(t),M(n),e[2](null)}}}function rc(e,t,n){let o,r=!1;function i(){r?o.close():o.showModal(),r=!r,document.documentElement.dataset.popcornUiOpen=r.toString()}let s=Mr({autoEnable:!0}),l=a=>{a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault(),i()},c=a=>{r&&(a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault(),i())};je(()=>{s.register(PopcornNative.config.hotkey,l),s.register("escape",c)});let u=[{name:"Themes",component:vo},{name:"QuickCSS",component:vr}];Qt(()=>{s.unregister(PopcornNative.config.hotkey,l),s.unregister("escape",c)});function d(a){B[a?"unshift":"push"](()=>{o=a,n(0,o)})}return[o,u,d]}var Dn=class extends R{constructor(t){super(),I(this,t,rc,oc,j,{})}},Lr=Dn;var Nn=new qe("IPC");PopcornNative.onStatusMessage(e=>{PopcornNative.config.verbose&&Nn.debug(e),e.type.startsWith(nt.quickCss)&&ic(e)});function ic(e){let t=e.success?"success":"error";if(!e.success){Nn.warn(e.type,"failed");return}switch(e.type){case ot.quickCss.created:{let{type:o,location:r}=e.data,i=At(r);o==="file"?Z.set(i):Q.set(i);var n=e.success?`Created ${r} successfully.`:`Failed to create ${r}.`}break;case ot.quickCss.deleted:{let{type:o,location:r}=e.data;o==="file"&&Le(Z).location===r?Z.set(null):o==="folder"&&Le(Q).location===r&&Q.set(null);var n=e.success?`Deleted ${r} successfully.`:`Failed to delete ${r}.`}break;case ot.quickCss.renamed:{let{oldLocation:o,newLocation:r}=e.data,i=At(r),s="files"in i?"folder":"file";s==="file"&&Le(Z).location===o?Z.set(i):s==="folder"&&Le(Q).location===o&&Q.set(i);var n=e.success?`Renamed ${o} to ${r} successfully.`:`Failed to rename ${o} to ${r}.`}break;case ot.quickCss.updated:var n=e.success?`Updated ${e.data} successfully.`:`Failed to update ${e.data}.`;break;default:Nn.warn(`Unknown status message type: ${e.type}`,e)}n&&ut.set({type:t,message:n})}var He=!!PopcornNative.validateCSS,se={start:document.createComment(" section:Popcorn "),end:document.createComment(" endsection ")},sc=e=>e.source===window&&e.data===ko.stop&&$r.stop(),$r=new class{UI;Themes;QuickCss;constructor(){}async start(){if(document.head.append(se.start,se.end),!globalThis.PopcornInjected){let r=document.createElement("style");r.id="popcorn-styles",r.textContent=await PopcornNative.getStyles(),se.start.after(r)}let t=await PopcornNative.getThemes(),n=await PopcornNative.getQuickCss(),o={themes:xo(t),quickCss:n};window.Popcorn=o,this.UI=new Lr({target:document.body}),this.Themes=new rt,this.Themes.start(),this.QuickCss=new ft,this.QuickCss.start(),globalThis.PopcornInjected||Object.assign(globalThis,{PopcornInjected:!0})}stop(){this.UI?.$destroy(),this.Themes?.stop(),this.QuickCss?.stop(),se.start.remove(),se.end.remove(),window.removeEventListener("message",sc),delete window.Popcorn}},cu=$r;export{se as comments,cu as default,He as shouldValidate};
/*! Bundled license information:

@walter-org/svelte-float/dist/utils/deepMerge.js:
  (*! https://stackoverflow.com/a/34749873/14591737 *)
*/
