var Qc=Object.create;var Ui=Object.defineProperty;var Yc=Object.getOwnPropertyDescriptor;var zc=Object.getOwnPropertyNames;var Xc=Object.getPrototypeOf,Zc=Object.prototype.hasOwnProperty;var m=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Jc=(r,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of zc(e))!Zc.call(r,i)&&i!==t&&Ui(r,i,{get:()=>e[i],enumerable:!(s=Yc(e,i))||s.enumerable});return r};var ce=(r,e,t)=>(t=r!=null?Qc(Xc(r)):{},Jc(e||!r||!r.__esModule?Ui(t,"default",{value:r,enumerable:!0}):t,r));var tn=m(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.splitWhen=Ge.flatten=void 0;function ru(r){return r.reduce((e,t)=>[].concat(e,t),[])}Ge.flatten=ru;function su(r,e){let t=[[]],s=0;for(let i of r)e(i)?(s++,t[s]=[]):t[s].push(i);return t}Ge.splitWhen=su});var rn=m(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.isEnoentCodeError=void 0;function iu(r){return r.code==="ENOENT"}Rt.isEnoentCodeError=iu});var sn=m(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.createDirentFromStats=void 0;var yr=class{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}};function nu(r,e){return new yr(r,e)}At.createDirentFromStats=nu});var nn=m(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.removeLeadingDotSegment=pe.escape=pe.makeAbsolute=pe.unixify=void 0;var ou=require("path"),au=2,cu=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function uu(r){return r.replace(/\\/g,"/")}pe.unixify=uu;function lu(r,e){return ou.resolve(r,e)}pe.makeAbsolute=lu;function fu(r){return r.replace(cu,"\\$2")}pe.escape=fu;function hu(r){if(r.charAt(0)==="."){let e=r.charAt(1);if(e==="/"||e==="\\")return r.slice(au)}return r}pe.removeLeadingDotSegment=hu});var an=m((h_,on)=>{on.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}});var Er=m((d_,un)=>{var du=an(),cn={"{":"}","(":")","[":"]"},pu=function(r){if(r[0]==="!")return!0;for(var e=0,t=-2,s=-2,i=-2,n=-2,o=-2;e<r.length;){if(r[e]==="*"||r[e+1]==="?"&&/[\].+)]/.test(r[e])||s!==-1&&r[e]==="["&&r[e+1]!=="]"&&(s<e&&(s=r.indexOf("]",e)),s>e&&(o===-1||o>s||(o=r.indexOf("\\",e),o===-1||o>s)))||i!==-1&&r[e]==="{"&&r[e+1]!=="}"&&(i=r.indexOf("}",e),i>e&&(o=r.indexOf("\\",e),o===-1||o>i))||n!==-1&&r[e]==="("&&r[e+1]==="?"&&/[:!=]/.test(r[e+2])&&r[e+3]!==")"&&(n=r.indexOf(")",e),n>e&&(o=r.indexOf("\\",e),o===-1||o>n))||t!==-1&&r[e]==="("&&r[e+1]!=="|"&&(t<e&&(t=r.indexOf("|",e)),t!==-1&&r[t+1]!==")"&&(n=r.indexOf(")",t),n>t&&(o=r.indexOf("\\",t),o===-1||o>n))))return!0;if(r[e]==="\\"){var a=r[e+1];e+=2;var c=cn[a];if(c){var h=r.indexOf(c,e);h!==-1&&(e=h+1)}if(r[e]==="!")return!0}else e++}return!1},_u=function(r){if(r[0]==="!")return!0;for(var e=0;e<r.length;){if(/[*?{}()[\]]/.test(r[e]))return!0;if(r[e]==="\\"){var t=r[e+1];e+=2;var s=cn[t];if(s){var i=r.indexOf(s,e);i!==-1&&(e=i+1)}if(r[e]==="!")return!0}else e++}return!1};un.exports=function(e,t){if(typeof e!="string"||e==="")return!1;if(du(e))return!0;var s=pu;return t&&t.strict===!1&&(s=_u),s(e)}});var wr=m((p_,ln)=>{"use strict";var gu=Er(),mu=require("path").posix.dirname,yu=require("os").platform()==="win32",Sr="/",Eu=/\\/g,Su=/[\{\[].*[\}\]]$/,wu=/(^|[^\\])([\{\[]|\([^\)]+$)/,bu=/\\([\!\*\?\|\[\]\(\)\{\}])/g;ln.exports=function(e,t){var s=Object.assign({flipBackslashes:!0},t);s.flipBackslashes&&yu&&e.indexOf(Sr)<0&&(e=e.replace(Eu,Sr)),Su.test(e)&&(e+=Sr),e+="a";do e=mu(e);while(gu(e)||wu.test(e));return e.replace(bu,"$1")}});var vt=m(oe=>{"use strict";oe.isInteger=r=>typeof r=="number"?Number.isInteger(r):typeof r=="string"&&r.trim()!==""?Number.isInteger(Number(r)):!1;oe.find=(r,e)=>r.nodes.find(t=>t.type===e);oe.exceedsLimit=(r,e,t=1,s)=>s===!1||!oe.isInteger(r)||!oe.isInteger(e)?!1:(Number(e)-Number(r))/Number(t)>=s;oe.escapeNode=(r,e=0,t)=>{let s=r.nodes[e];s&&(t&&s.type===t||s.type==="open"||s.type==="close")&&s.escaped!==!0&&(s.value="\\"+s.value,s.escaped=!0)};oe.encloseBrace=r=>r.type!=="brace"||r.commas>>0+r.ranges>>0?!1:(r.invalid=!0,!0);oe.isInvalidBrace=r=>r.type!=="brace"?!1:r.invalid===!0||r.dollar?!0:!(r.commas>>0+r.ranges>>0)||r.open!==!0||r.close!==!0?(r.invalid=!0,!0):!1;oe.isOpenOrClose=r=>r.type==="open"||r.type==="close"?!0:r.open===!0||r.close===!0;oe.reduce=r=>r.reduce((e,t)=>(t.type==="text"&&e.push(t.value),t.type==="range"&&(t.type="text"),e),[]);oe.flatten=(...r)=>{let e=[],t=s=>{for(let i=0;i<s.length;i++){let n=s[i];Array.isArray(n)?t(n,e):n!==void 0&&e.push(n)}return e};return t(r),e}});var Ct=m((g_,hn)=>{"use strict";var fn=vt();hn.exports=(r,e={})=>{let t=(s,i={})=>{let n=e.escapeInvalid&&fn.isInvalidBrace(i),o=s.invalid===!0&&e.escapeInvalid===!0,a="";if(s.value)return(n||o)&&fn.isOpenOrClose(s)?"\\"+s.value:s.value;if(s.value)return s.value;if(s.nodes)for(let c of s.nodes)a+=t(c);return a};return t(r)}});var pn=m((m_,dn)=>{"use strict";dn.exports=function(r){return typeof r=="number"?r-r===0:typeof r=="string"&&r.trim()!==""?Number.isFinite?Number.isFinite(+r):isFinite(+r):!1}});var Rn=m((y_,bn)=>{"use strict";var _n=pn(),Ie=(r,e,t)=>{if(_n(r)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||r===e)return String(r);if(_n(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let s={relaxZeros:!0,...t};typeof s.strictZeros=="boolean"&&(s.relaxZeros=s.strictZeros===!1);let i=String(s.relaxZeros),n=String(s.shorthand),o=String(s.capture),a=String(s.wrap),c=r+":"+e+"="+i+n+o+a;if(Ie.cache.hasOwnProperty(c))return Ie.cache[c].result;let h=Math.min(r,e),u=Math.max(r,e);if(Math.abs(h-u)===1){let S=r+"|"+e;return s.capture?`(${S})`:s.wrap===!1?S:`(?:${S})`}let f=wn(r)||wn(e),l={min:r,max:e,a:h,b:u},y=[],g=[];if(f&&(l.isPadded=f,l.maxLen=String(l.max).length),h<0){let S=u<0?Math.abs(u):1;g=gn(S,Math.abs(h),l,s),h=l.a=0}return u>=0&&(y=gn(h,u,l,s)),l.negatives=g,l.positives=y,l.result=Ru(g,y,s),s.capture===!0?l.result=`(${l.result})`:s.wrap!==!1&&y.length+g.length>1&&(l.result=`(?:${l.result})`),Ie.cache[c]=l,l.result};function Ru(r,e,t){let s=br(r,e,"-",!1,t)||[],i=br(e,r,"",!1,t)||[],n=br(r,e,"-?",!0,t)||[];return s.concat(n).concat(i).join("|")}function Au(r,e){let t=1,s=1,i=yn(r,t),n=new Set([e]);for(;r<=i&&i<=e;)n.add(i),t+=1,i=yn(r,t);for(i=En(e+1,s)-1;r<i&&i<=e;)n.add(i),s+=1,i=En(e+1,s)-1;return n=[...n],n.sort(Tu),n}function vu(r,e,t){if(r===e)return{pattern:r,count:[],digits:0};let s=Cu(r,e),i=s.length,n="",o=0;for(let a=0;a<i;a++){let[c,h]=s[a];c===h?n+=c:c!=="0"||h!=="9"?n+=Pu(c,h,t):o++}return o&&(n+=t.shorthand===!0?"\\d":"[0-9]"),{pattern:n,count:[o],digits:i}}function gn(r,e,t,s){let i=Au(r,e),n=[],o=r,a;for(let c=0;c<i.length;c++){let h=i[c],u=vu(String(o),String(h),s),f="";if(!t.isPadded&&a&&a.pattern===u.pattern){a.count.length>1&&a.count.pop(),a.count.push(u.count[0]),a.string=a.pattern+Sn(a.count),o=h+1;continue}t.isPadded&&(f=xu(h,t,s)),u.string=f+u.pattern+Sn(u.count),n.push(u),o=h+1,a=u}return n}function br(r,e,t,s,i){let n=[];for(let o of r){let{string:a}=o;!s&&!mn(e,"string",a)&&n.push(t+a),s&&mn(e,"string",a)&&n.push(t+a)}return n}function Cu(r,e){let t=[];for(let s=0;s<r.length;s++)t.push([r[s],e[s]]);return t}function Tu(r,e){return r>e?1:e>r?-1:0}function mn(r,e,t){return r.some(s=>s[e]===t)}function yn(r,e){return Number(String(r).slice(0,-e)+"9".repeat(e))}function En(r,e){return r-r%Math.pow(10,e)}function Sn(r){let[e=0,t=""]=r;return t||e>1?`{${e+(t?","+t:"")}}`:""}function Pu(r,e,t){return`[${r}${e-r===1?"":"-"}${e}]`}function wn(r){return/^-?(0+)\d/.test(r)}function xu(r,e,t){if(!e.isPadded)return r;let s=Math.abs(e.maxLen-String(r).length),i=t.relaxZeros!==!1;switch(s){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${s}}`:`0{${s}}`}}Ie.cache={};Ie.clearCache=()=>Ie.cache={};bn.exports=Ie});var vr=m((E_,kn)=>{"use strict";var Ou=require("util"),Cn=Rn(),An=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),ku=r=>e=>r===!0?Number(e):String(e),Rr=r=>typeof r=="number"||typeof r=="string"&&r!=="",ot=r=>Number.isInteger(+r),Ar=r=>{let e=`${r}`,t=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++t]==="0";);return t>0},Du=(r,e,t)=>typeof r=="string"||typeof e=="string"?!0:t.stringify===!0,Lu=(r,e,t)=>{if(e>0){let s=r[0]==="-"?"-":"";s&&(r=r.slice(1)),r=s+r.padStart(s?e-1:e,"0")}return t===!1?String(r):r},vn=(r,e)=>{let t=r[0]==="-"?"-":"";for(t&&(r=r.slice(1),e--);r.length<e;)r="0"+r;return t?"-"+r:r},Fu=(r,e)=>{r.negatives.sort((o,a)=>o<a?-1:o>a?1:0),r.positives.sort((o,a)=>o<a?-1:o>a?1:0);let t=e.capture?"":"?:",s="",i="",n;return r.positives.length&&(s=r.positives.join("|")),r.negatives.length&&(i=`-(${t}${r.negatives.join("|")})`),s&&i?n=`${s}|${i}`:n=s||i,e.wrap?`(${t}${n})`:n},Tn=(r,e,t,s)=>{if(t)return Cn(r,e,{wrap:!1,...s});let i=String.fromCharCode(r);if(r===e)return i;let n=String.fromCharCode(e);return`[${i}-${n}]`},Pn=(r,e,t)=>{if(Array.isArray(r)){let s=t.wrap===!0,i=t.capture?"":"?:";return s?`(${i}${r.join("|")})`:r.join("|")}return Cn(r,e,t)},xn=(...r)=>new RangeError("Invalid range arguments: "+Ou.inspect(...r)),On=(r,e,t)=>{if(t.strictRanges===!0)throw xn([r,e]);return[]},Iu=(r,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${r}" to be a number`);return[]},Nu=(r,e,t=1,s={})=>{let i=Number(r),n=Number(e);if(!Number.isInteger(i)||!Number.isInteger(n)){if(s.strictRanges===!0)throw xn([r,e]);return[]}i===0&&(i=0),n===0&&(n=0);let o=i>n,a=String(r),c=String(e),h=String(t);t=Math.max(Math.abs(t),1);let u=Ar(a)||Ar(c)||Ar(h),f=u?Math.max(a.length,c.length,h.length):0,l=u===!1&&Du(r,e,s)===!1,y=s.transform||ku(l);if(s.toRegex&&t===1)return Tn(vn(r,f),vn(e,f),!0,s);let g={negatives:[],positives:[]},S=F=>g[F<0?"negatives":"positives"].push(Math.abs(F)),R=[],C=0;for(;o?i>=n:i<=n;)s.toRegex===!0&&t>1?S(i):R.push(Lu(y(i,C),f,l)),i=o?i-t:i+t,C++;return s.toRegex===!0?t>1?Fu(g,s):Pn(R,null,{wrap:!1,...s}):R},Mu=(r,e,t=1,s={})=>{if(!ot(r)&&r.length>1||!ot(e)&&e.length>1)return On(r,e,s);let i=s.transform||(l=>String.fromCharCode(l)),n=`${r}`.charCodeAt(0),o=`${e}`.charCodeAt(0),a=n>o,c=Math.min(n,o),h=Math.max(n,o);if(s.toRegex&&t===1)return Tn(c,h,!1,s);let u=[],f=0;for(;a?n>=o:n<=o;)u.push(i(n,f)),n=a?n-t:n+t,f++;return s.toRegex===!0?Pn(u,null,{wrap:!1,options:s}):u},Tt=(r,e,t,s={})=>{if(e==null&&Rr(r))return[r];if(!Rr(r)||!Rr(e))return On(r,e,s);if(typeof t=="function")return Tt(r,e,1,{transform:t});if(An(t))return Tt(r,e,0,t);let i={...s};return i.capture===!0&&(i.wrap=!0),t=t||i.step||1,ot(t)?ot(r)&&ot(e)?Nu(r,e,t,i):Mu(r,e,Math.max(Math.abs(t),1),i):t!=null&&!An(t)?Iu(t,i):Tt(r,e,1,t)};kn.exports=Tt});var Fn=m((S_,Ln)=>{"use strict";var Hu=vr(),Dn=vt(),qu=(r,e={})=>{let t=(s,i={})=>{let n=Dn.isInvalidBrace(i),o=s.invalid===!0&&e.escapeInvalid===!0,a=n===!0||o===!0,c=e.escapeInvalid===!0?"\\":"",h="";if(s.isOpen===!0||s.isClose===!0)return c+s.value;if(s.type==="open")return a?c+s.value:"(";if(s.type==="close")return a?c+s.value:")";if(s.type==="comma")return s.prev.type==="comma"?"":a?s.value:"|";if(s.value)return s.value;if(s.nodes&&s.ranges>0){let u=Dn.reduce(s.nodes),f=Hu(...u,{...e,wrap:!1,toRegex:!0});if(f.length!==0)return u.length>1&&f.length>1?`(${f})`:f}if(s.nodes)for(let u of s.nodes)h+=t(u,s);return h};return t(r)};Ln.exports=qu});var Mn=m((w_,Nn)=>{"use strict";var $u=vr(),In=Ct(),Ue=vt(),Ne=(r="",e="",t=!1)=>{let s=[];if(r=[].concat(r),e=[].concat(e),!e.length)return r;if(!r.length)return t?Ue.flatten(e).map(i=>`{${i}}`):e;for(let i of r)if(Array.isArray(i))for(let n of i)s.push(Ne(n,e,t));else for(let n of e)t===!0&&typeof n=="string"&&(n=`{${n}}`),s.push(Array.isArray(n)?Ne(i,n,t):i+n);return Ue.flatten(s)},Bu=(r,e={})=>{let t=e.rangeLimit===void 0?1e3:e.rangeLimit,s=(i,n={})=>{i.queue=[];let o=n,a=n.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(i.invalid||i.dollar){a.push(Ne(a.pop(),In(i,e)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(Ne(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let f=Ue.reduce(i.nodes);if(Ue.exceedsLimit(...f,e.step,t))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let l=$u(...f,e);l.length===0&&(l=In(i,e)),a.push(Ne(a.pop(),l)),i.nodes=[];return}let c=Ue.encloseBrace(i),h=i.queue,u=i;for(;u.type!=="brace"&&u.type!=="root"&&u.parent;)u=u.parent,h=u.queue;for(let f=0;f<i.nodes.length;f++){let l=i.nodes[f];if(l.type==="comma"&&i.type==="brace"){f===1&&h.push(""),h.push("");continue}if(l.type==="close"){a.push(Ne(a.pop(),h,c));continue}if(l.value&&l.type!=="open"){h.push(Ne(h.pop(),l.value));continue}l.nodes&&s(l,i)}return h};return Ue.flatten(s(r))};Nn.exports=Bu});var qn=m((b_,Hn)=>{"use strict";Hn.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var Gn=m((R_,jn)=>{"use strict";var Wu=Ct(),{MAX_LENGTH:$n,CHAR_BACKSLASH:Cr,CHAR_BACKTICK:ju,CHAR_COMMA:Gu,CHAR_DOT:Uu,CHAR_LEFT_PARENTHESES:Vu,CHAR_RIGHT_PARENTHESES:Ku,CHAR_LEFT_CURLY_BRACE:Qu,CHAR_RIGHT_CURLY_BRACE:Yu,CHAR_LEFT_SQUARE_BRACKET:Bn,CHAR_RIGHT_SQUARE_BRACKET:Wn,CHAR_DOUBLE_QUOTE:zu,CHAR_SINGLE_QUOTE:Xu,CHAR_NO_BREAK_SPACE:Zu,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Ju}=qn(),el=(r,e={})=>{if(typeof r!="string")throw new TypeError("Expected a string");let t=e||{},s=typeof t.maxLength=="number"?Math.min($n,t.maxLength):$n;if(r.length>s)throw new SyntaxError(`Input length (${r.length}), exceeds max characters (${s})`);let i={type:"root",input:r,nodes:[]},n=[i],o=i,a=i,c=0,h=r.length,u=0,f=0,l,y={},g=()=>r[u++],S=R=>{if(R.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&R.type==="text"){a.value+=R.value;return}return o.nodes.push(R),R.parent=o,R.prev=a,a=R,R};for(S({type:"bos"});u<h;)if(o=n[n.length-1],l=g(),!(l===Ju||l===Zu)){if(l===Cr){S({type:"text",value:(e.keepEscaping?l:"")+g()});continue}if(l===Wn){S({type:"text",value:"\\"+l});continue}if(l===Bn){c++;let R=!0,C;for(;u<h&&(C=g());){if(l+=C,C===Bn){c++;continue}if(C===Cr){l+=g();continue}if(C===Wn&&(c--,c===0))break}S({type:"text",value:l});continue}if(l===Vu){o=S({type:"paren",nodes:[]}),n.push(o),S({type:"text",value:l});continue}if(l===Ku){if(o.type!=="paren"){S({type:"text",value:l});continue}o=n.pop(),S({type:"text",value:l}),o=n[n.length-1];continue}if(l===zu||l===Xu||l===ju){let R=l,C;for(e.keepQuotes!==!0&&(l="");u<h&&(C=g());){if(C===Cr){l+=C+g();continue}if(C===R){e.keepQuotes===!0&&(l+=C);break}l+=C}S({type:"text",value:l});continue}if(l===Qu){f++;let C={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||o.dollar===!0,depth:f,commas:0,ranges:0,nodes:[]};o=S(C),n.push(o),S({type:"open",value:l});continue}if(l===Yu){if(o.type!=="brace"){S({type:"text",value:l});continue}let R="close";o=n.pop(),o.close=!0,S({type:R,value:l}),f--,o=n[n.length-1];continue}if(l===Gu&&f>0){if(o.ranges>0){o.ranges=0;let R=o.nodes.shift();o.nodes=[R,{type:"text",value:Wu(o)}]}S({type:"comma",value:l}),o.commas++;continue}if(l===Uu&&f>0&&o.commas===0){let R=o.nodes;if(f===0||R.length===0){S({type:"text",value:l});continue}if(a.type==="dot"){if(o.range=[],a.value+=l,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){R.pop();let C=R[R.length-1];C.value+=a.value+l,a=C,o.ranges--;continue}S({type:"dot",value:l});continue}S({type:"text",value:l})}do if(o=n.pop(),o.type!=="root"){o.nodes.forEach(F=>{F.nodes||(F.type==="open"&&(F.isOpen=!0),F.type==="close"&&(F.isClose=!0),F.nodes||(F.type="text"),F.invalid=!0)});let R=n[n.length-1],C=R.nodes.indexOf(o);R.nodes.splice(C,1,...o.nodes)}while(n.length>0);return S({type:"eos"}),i};jn.exports=el});var Tr=m((A_,Vn)=>{"use strict";var Un=Ct(),tl=Fn(),rl=Mn(),sl=Gn(),ie=(r,e={})=>{let t=[];if(Array.isArray(r))for(let s of r){let i=ie.create(s,e);Array.isArray(i)?t.push(...i):t.push(i)}else t=[].concat(ie.create(r,e));return e&&e.expand===!0&&e.nodupes===!0&&(t=[...new Set(t)]),t};ie.parse=(r,e={})=>sl(r,e);ie.stringify=(r,e={})=>Un(typeof r=="string"?ie.parse(r,e):r,e);ie.compile=(r,e={})=>(typeof r=="string"&&(r=ie.parse(r,e)),tl(r,e));ie.expand=(r,e={})=>{typeof r=="string"&&(r=ie.parse(r,e));let t=rl(r,e);return e.noempty===!0&&(t=t.filter(Boolean)),e.nodupes===!0&&(t=[...new Set(t)]),t};ie.create=(r,e={})=>r===""||r.length<3?[r]:e.expand!==!0?ie.compile(r,e):ie.expand(r,e);Vn.exports=ie});var at=m((v_,Xn)=>{"use strict";var il=require("path"),_e="\\\\/",Kn=`[^${_e}]`,Se="\\.",nl="\\+",ol="\\?",Pt="\\/",al="(?=.)",Qn="[^/]",Pr=`(?:${Pt}|$)`,Yn=`(?:^|${Pt})`,xr=`${Se}{1,2}${Pr}`,cl=`(?!${Se})`,ul=`(?!${Yn}${xr})`,ll=`(?!${Se}{0,1}${Pr})`,fl=`(?!${xr})`,hl=`[^.${Pt}]`,dl=`${Qn}*?`,zn={DOT_LITERAL:Se,PLUS_LITERAL:nl,QMARK_LITERAL:ol,SLASH_LITERAL:Pt,ONE_CHAR:al,QMARK:Qn,END_ANCHOR:Pr,DOTS_SLASH:xr,NO_DOT:cl,NO_DOTS:ul,NO_DOT_SLASH:ll,NO_DOTS_SLASH:fl,QMARK_NO_DOT:hl,STAR:dl,START_ANCHOR:Yn},pl={...zn,SLASH_LITERAL:`[${_e}]`,QMARK:Kn,STAR:`${Kn}*?`,DOTS_SLASH:`${Se}{1,2}(?:[${_e}]|$)`,NO_DOT:`(?!${Se})`,NO_DOTS:`(?!(?:^|[${_e}])${Se}{1,2}(?:[${_e}]|$))`,NO_DOT_SLASH:`(?!${Se}{0,1}(?:[${_e}]|$))`,NO_DOTS_SLASH:`(?!${Se}{1,2}(?:[${_e}]|$))`,QMARK_NO_DOT:`[^.${_e}]`,START_ANCHOR:`(?:^|[${_e}])`,END_ANCHOR:`(?:[${_e}]|$)`},_l={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Xn.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:_l,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:il.sep,extglobChars(r){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${r.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(r){return r===!0?pl:zn}}});var ct=m(re=>{"use strict";var gl=require("path"),ml=process.platform==="win32",{REGEX_BACKSLASH:yl,REGEX_REMOVE_BACKSLASH:El,REGEX_SPECIAL_CHARS:Sl,REGEX_SPECIAL_CHARS_GLOBAL:wl}=at();re.isObject=r=>r!==null&&typeof r=="object"&&!Array.isArray(r);re.hasRegexChars=r=>Sl.test(r);re.isRegexChar=r=>r.length===1&&re.hasRegexChars(r);re.escapeRegex=r=>r.replace(wl,"\\$1");re.toPosixSlashes=r=>r.replace(yl,"/");re.removeBackslashes=r=>r.replace(El,e=>e==="\\"?"":e);re.supportsLookbehinds=()=>{let r=process.version.slice(1).split(".").map(Number);return r.length===3&&r[0]>=9||r[0]===8&&r[1]>=10};re.isWindows=r=>r&&typeof r.windows=="boolean"?r.windows:ml===!0||gl.sep==="\\";re.escapeLast=(r,e,t)=>{let s=r.lastIndexOf(e,t);return s===-1?r:r[s-1]==="\\"?re.escapeLast(r,e,s-1):`${r.slice(0,s)}\\${r.slice(s)}`};re.removePrefix=(r,e={})=>{let t=r;return t.startsWith("./")&&(t=t.slice(2),e.prefix="./"),t};re.wrapOutput=(r,e={},t={})=>{let s=t.contains?"":"^",i=t.contains?"":"$",n=`${s}(?:${r})${i}`;return e.negated===!0&&(n=`(?:^(?!${n}).*$)`),n}});var no=m((T_,io)=>{"use strict";var Zn=ct(),{CHAR_ASTERISK:Or,CHAR_AT:bl,CHAR_BACKWARD_SLASH:ut,CHAR_COMMA:Rl,CHAR_DOT:kr,CHAR_EXCLAMATION_MARK:Dr,CHAR_FORWARD_SLASH:so,CHAR_LEFT_CURLY_BRACE:Lr,CHAR_LEFT_PARENTHESES:Fr,CHAR_LEFT_SQUARE_BRACKET:Al,CHAR_PLUS:vl,CHAR_QUESTION_MARK:Jn,CHAR_RIGHT_CURLY_BRACE:Cl,CHAR_RIGHT_PARENTHESES:eo,CHAR_RIGHT_SQUARE_BRACKET:Tl}=at(),to=r=>r===so||r===ut,ro=r=>{r.isPrefix!==!0&&(r.depth=r.isGlobstar?1/0:1)},Pl=(r,e)=>{let t=e||{},s=r.length-1,i=t.parts===!0||t.scanToEnd===!0,n=[],o=[],a=[],c=r,h=-1,u=0,f=0,l=!1,y=!1,g=!1,S=!1,R=!1,C=!1,F=!1,N=!1,ee=!1,x=!1,q=0,T,A,D={value:"",depth:0,isGlob:!1},Q=()=>h>=s,_=()=>c.charCodeAt(h+1),$=()=>(T=A,c.charCodeAt(++h));for(;h<s;){A=$();let X;if(A===ut){F=D.backslashes=!0,A=$(),A===Lr&&(C=!0);continue}if(C===!0||A===Lr){for(q++;Q()!==!0&&(A=$());){if(A===ut){F=D.backslashes=!0,$();continue}if(A===Lr){q++;continue}if(C!==!0&&A===kr&&(A=$())===kr){if(l=D.isBrace=!0,g=D.isGlob=!0,x=!0,i===!0)continue;break}if(C!==!0&&A===Rl){if(l=D.isBrace=!0,g=D.isGlob=!0,x=!0,i===!0)continue;break}if(A===Cl&&(q--,q===0)){C=!1,l=D.isBrace=!0,x=!0;break}}if(i===!0)continue;break}if(A===so){if(n.push(h),o.push(D),D={value:"",depth:0,isGlob:!1},x===!0)continue;if(T===kr&&h===u+1){u+=2;continue}f=h+1;continue}if(t.noext!==!0&&(A===vl||A===bl||A===Or||A===Jn||A===Dr)===!0&&_()===Fr){if(g=D.isGlob=!0,S=D.isExtglob=!0,x=!0,A===Dr&&h===u&&(ee=!0),i===!0){for(;Q()!==!0&&(A=$());){if(A===ut){F=D.backslashes=!0,A=$();continue}if(A===eo){g=D.isGlob=!0,x=!0;break}}continue}break}if(A===Or){if(T===Or&&(R=D.isGlobstar=!0),g=D.isGlob=!0,x=!0,i===!0)continue;break}if(A===Jn){if(g=D.isGlob=!0,x=!0,i===!0)continue;break}if(A===Al){for(;Q()!==!0&&(X=$());){if(X===ut){F=D.backslashes=!0,$();continue}if(X===Tl){y=D.isBracket=!0,g=D.isGlob=!0,x=!0;break}}if(i===!0)continue;break}if(t.nonegate!==!0&&A===Dr&&h===u){N=D.negated=!0,u++;continue}if(t.noparen!==!0&&A===Fr){if(g=D.isGlob=!0,i===!0){for(;Q()!==!0&&(A=$());){if(A===Fr){F=D.backslashes=!0,A=$();continue}if(A===eo){x=!0;break}}continue}break}if(g===!0){if(x=!0,i===!0)continue;break}}t.noext===!0&&(S=!1,g=!1);let M=c,ve="",d="";u>0&&(ve=c.slice(0,u),c=c.slice(u),f-=u),M&&g===!0&&f>0?(M=c.slice(0,f),d=c.slice(f)):g===!0?(M="",d=c):M=c,M&&M!==""&&M!=="/"&&M!==c&&to(M.charCodeAt(M.length-1))&&(M=M.slice(0,-1)),t.unescape===!0&&(d&&(d=Zn.removeBackslashes(d)),M&&F===!0&&(M=Zn.removeBackslashes(M)));let p={prefix:ve,input:r,start:u,base:M,glob:d,isBrace:l,isBracket:y,isGlob:g,isExtglob:S,isGlobstar:R,negated:N,negatedExtglob:ee};if(t.tokens===!0&&(p.maxDepth=0,to(A)||o.push(D),p.tokens=o),t.parts===!0||t.tokens===!0){let X;for(let k=0;k<n.length;k++){let fe=X?X+1:u,he=n[k],se=r.slice(fe,he);t.tokens&&(k===0&&u!==0?(o[k].isPrefix=!0,o[k].value=ve):o[k].value=se,ro(o[k]),p.maxDepth+=o[k].depth),(k!==0||se!=="")&&a.push(se),X=he}if(X&&X+1<r.length){let k=r.slice(X+1);a.push(k),t.tokens&&(o[o.length-1].value=k,ro(o[o.length-1]),p.maxDepth+=o[o.length-1].depth)}p.slashes=n,p.parts=a}return p};io.exports=Pl});var co=m((P_,ao)=>{"use strict";var xt=at(),ne=ct(),{MAX_LENGTH:Ot,POSIX_REGEX_SOURCE:xl,REGEX_NON_SPECIAL_CHARS:Ol,REGEX_SPECIAL_CHARS_BACKREF:kl,REPLACEMENTS:oo}=xt,Dl=(r,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...r,e);r.sort();let t=`[${r.join("-")}]`;try{new RegExp(t)}catch{return r.map(i=>ne.escapeRegex(i)).join("..")}return t},Ve=(r,e)=>`Missing ${r}: "${e}" - use "\\\\${e}" to match literal characters`,Ir=(r,e)=>{if(typeof r!="string")throw new TypeError("Expected a string");r=oo[r]||r;let t={...e},s=typeof t.maxLength=="number"?Math.min(Ot,t.maxLength):Ot,i=r.length;if(i>s)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${s}`);let n={type:"bos",value:"",output:t.prepend||""},o=[n],a=t.capture?"":"?:",c=ne.isWindows(e),h=xt.globChars(c),u=xt.extglobChars(h),{DOT_LITERAL:f,PLUS_LITERAL:l,SLASH_LITERAL:y,ONE_CHAR:g,DOTS_SLASH:S,NO_DOT:R,NO_DOT_SLASH:C,NO_DOTS_SLASH:F,QMARK:N,QMARK_NO_DOT:ee,STAR:x,START_ANCHOR:q}=h,T=w=>`(${a}(?:(?!${q}${w.dot?S:f}).)*?)`,A=t.dot?"":R,D=t.dot?N:ee,Q=t.bash===!0?T(t):x;t.capture&&(Q=`(${Q})`),typeof t.noext=="boolean"&&(t.noextglob=t.noext);let _={input:r,index:-1,start:0,dot:t.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};r=ne.removePrefix(r,_),i=r.length;let $=[],M=[],ve=[],d=n,p,X=()=>_.index===i-1,k=_.peek=(w=1)=>r[_.index+w],fe=_.advance=()=>r[++_.index]||"",he=()=>r.slice(_.index+1),se=(w="",H=0)=>{_.consumed+=w,_.index+=H},Et=w=>{_.output+=w.output!=null?w.output:w.value,se(w.value)},Vc=()=>{let w=1;for(;k()==="!"&&(k(2)!=="("||k(3)==="?");)fe(),_.start++,w++;return w%2===0?!1:(_.negated=!0,_.start++,!0)},St=w=>{_[w]++,ve.push(w)},Le=w=>{_[w]--,ve.pop()},O=w=>{if(d.type==="globstar"){let H=_.braces>0&&(w.type==="comma"||w.type==="brace"),E=w.extglob===!0||$.length&&(w.type==="pipe"||w.type==="paren");w.type!=="slash"&&w.type!=="paren"&&!H&&!E&&(_.output=_.output.slice(0,-d.output.length),d.type="star",d.value="*",d.output=Q,_.output+=d.output)}if($.length&&w.type!=="paren"&&($[$.length-1].inner+=w.value),(w.value||w.output)&&Et(w),d&&d.type==="text"&&w.type==="text"){d.value+=w.value,d.output=(d.output||"")+w.value;return}w.prev=d,o.push(w),d=w},wt=(w,H)=>{let E={...u[H],conditions:1,inner:""};E.prev=d,E.parens=_.parens,E.output=_.output;let P=(t.capture?"(":"")+E.open;St("parens"),O({type:w,value:H,output:_.output?"":g}),O({type:"paren",extglob:!0,value:fe(),output:P}),$.push(E)},Kc=w=>{let H=w.close+(t.capture?")":""),E;if(w.type==="negate"){let P=Q;if(w.inner&&w.inner.length>1&&w.inner.includes("/")&&(P=T(t)),(P!==Q||X()||/^\)+$/.test(he()))&&(H=w.close=`)$))${P}`),w.inner.includes("*")&&(E=he())&&/^\.[^\\/.]+$/.test(E)){let W=Ir(E,{...e,fastpaths:!1}).output;H=w.close=`)${W})${P})`}w.prev.type==="bos"&&(_.negatedExtglob=!0)}O({type:"paren",extglob:!0,value:p,output:H}),Le("parens")};if(t.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(r)){let w=!1,H=r.replace(kl,(E,P,W,Z,U,hr)=>Z==="\\"?(w=!0,E):Z==="?"?P?P+Z+(U?N.repeat(U.length):""):hr===0?D+(U?N.repeat(U.length):""):N.repeat(W.length):Z==="."?f.repeat(W.length):Z==="*"?P?P+Z+(U?Q:""):Q:P?E:`\\${E}`);return w===!0&&(t.unescape===!0?H=H.replace(/\\/g,""):H=H.replace(/\\+/g,E=>E.length%2===0?"\\\\":E?"\\":"")),H===r&&t.contains===!0?(_.output=r,_):(_.output=ne.wrapOutput(H,_,e),_)}for(;!X();){if(p=fe(),p==="\0")continue;if(p==="\\"){let E=k();if(E==="/"&&t.bash!==!0||E==="."||E===";")continue;if(!E){p+="\\",O({type:"text",value:p});continue}let P=/^\\+/.exec(he()),W=0;if(P&&P[0].length>2&&(W=P[0].length,_.index+=W,W%2!==0&&(p+="\\")),t.unescape===!0?p=fe():p+=fe(),_.brackets===0){O({type:"text",value:p});continue}}if(_.brackets>0&&(p!=="]"||d.value==="["||d.value==="[^")){if(t.posix!==!1&&p===":"){let E=d.value.slice(1);if(E.includes("[")&&(d.posix=!0,E.includes(":"))){let P=d.value.lastIndexOf("["),W=d.value.slice(0,P),Z=d.value.slice(P+2),U=xl[Z];if(U){d.value=W+U,_.backtrack=!0,fe(),!n.output&&o.indexOf(d)===1&&(n.output=g);continue}}}(p==="["&&k()!==":"||p==="-"&&k()==="]")&&(p=`\\${p}`),p==="]"&&(d.value==="["||d.value==="[^")&&(p=`\\${p}`),t.posix===!0&&p==="!"&&d.value==="["&&(p="^"),d.value+=p,Et({value:p});continue}if(_.quotes===1&&p!=='"'){p=ne.escapeRegex(p),d.value+=p,Et({value:p});continue}if(p==='"'){_.quotes=_.quotes===1?0:1,t.keepQuotes===!0&&O({type:"text",value:p});continue}if(p==="("){St("parens"),O({type:"paren",value:p});continue}if(p===")"){if(_.parens===0&&t.strictBrackets===!0)throw new SyntaxError(Ve("opening","("));let E=$[$.length-1];if(E&&_.parens===E.parens+1){Kc($.pop());continue}O({type:"paren",value:p,output:_.parens?")":"\\)"}),Le("parens");continue}if(p==="["){if(t.nobracket===!0||!he().includes("]")){if(t.nobracket!==!0&&t.strictBrackets===!0)throw new SyntaxError(Ve("closing","]"));p=`\\${p}`}else St("brackets");O({type:"bracket",value:p});continue}if(p==="]"){if(t.nobracket===!0||d&&d.type==="bracket"&&d.value.length===1){O({type:"text",value:p,output:`\\${p}`});continue}if(_.brackets===0){if(t.strictBrackets===!0)throw new SyntaxError(Ve("opening","["));O({type:"text",value:p,output:`\\${p}`});continue}Le("brackets");let E=d.value.slice(1);if(d.posix!==!0&&E[0]==="^"&&!E.includes("/")&&(p=`/${p}`),d.value+=p,Et({value:p}),t.literalBrackets===!1||ne.hasRegexChars(E))continue;let P=ne.escapeRegex(d.value);if(_.output=_.output.slice(0,-d.value.length),t.literalBrackets===!0){_.output+=P,d.value=P;continue}d.value=`(${a}${P}|${d.value})`,_.output+=d.value;continue}if(p==="{"&&t.nobrace!==!0){St("braces");let E={type:"brace",value:p,output:"(",outputIndex:_.output.length,tokensIndex:_.tokens.length};M.push(E),O(E);continue}if(p==="}"){let E=M[M.length-1];if(t.nobrace===!0||!E){O({type:"text",value:p,output:p});continue}let P=")";if(E.dots===!0){let W=o.slice(),Z=[];for(let U=W.length-1;U>=0&&(o.pop(),W[U].type!=="brace");U--)W[U].type!=="dots"&&Z.unshift(W[U].value);P=Dl(Z,t),_.backtrack=!0}if(E.comma!==!0&&E.dots!==!0){let W=_.output.slice(0,E.outputIndex),Z=_.tokens.slice(E.tokensIndex);E.value=E.output="\\{",p=P="\\}",_.output=W;for(let U of Z)_.output+=U.output||U.value}O({type:"brace",value:p,output:P}),Le("braces"),M.pop();continue}if(p==="|"){$.length>0&&$[$.length-1].conditions++,O({type:"text",value:p});continue}if(p===","){let E=p,P=M[M.length-1];P&&ve[ve.length-1]==="braces"&&(P.comma=!0,E="|"),O({type:"comma",value:p,output:E});continue}if(p==="/"){if(d.type==="dot"&&_.index===_.start+1){_.start=_.index+1,_.consumed="",_.output="",o.pop(),d=n;continue}O({type:"slash",value:p,output:y});continue}if(p==="."){if(_.braces>0&&d.type==="dot"){d.value==="."&&(d.output=f);let E=M[M.length-1];d.type="dots",d.output+=p,d.value+=p,E.dots=!0;continue}if(_.braces+_.parens===0&&d.type!=="bos"&&d.type!=="slash"){O({type:"text",value:p,output:f});continue}O({type:"dot",value:p,output:f});continue}if(p==="?"){if(!(d&&d.value==="(")&&t.noextglob!==!0&&k()==="("&&k(2)!=="?"){wt("qmark",p);continue}if(d&&d.type==="paren"){let P=k(),W=p;if(P==="<"&&!ne.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(d.value==="("&&!/[!=<:]/.test(P)||P==="<"&&!/<([!=]|\w+>)/.test(he()))&&(W=`\\${p}`),O({type:"text",value:p,output:W});continue}if(t.dot!==!0&&(d.type==="slash"||d.type==="bos")){O({type:"qmark",value:p,output:ee});continue}O({type:"qmark",value:p,output:N});continue}if(p==="!"){if(t.noextglob!==!0&&k()==="("&&(k(2)!=="?"||!/[!=<:]/.test(k(3)))){wt("negate",p);continue}if(t.nonegate!==!0&&_.index===0){Vc();continue}}if(p==="+"){if(t.noextglob!==!0&&k()==="("&&k(2)!=="?"){wt("plus",p);continue}if(d&&d.value==="("||t.regex===!1){O({type:"plus",value:p,output:l});continue}if(d&&(d.type==="bracket"||d.type==="paren"||d.type==="brace")||_.parens>0){O({type:"plus",value:p});continue}O({type:"plus",value:l});continue}if(p==="@"){if(t.noextglob!==!0&&k()==="("&&k(2)!=="?"){O({type:"at",extglob:!0,value:p,output:""});continue}O({type:"text",value:p});continue}if(p!=="*"){(p==="$"||p==="^")&&(p=`\\${p}`);let E=Ol.exec(he());E&&(p+=E[0],_.index+=E[0].length),O({type:"text",value:p});continue}if(d&&(d.type==="globstar"||d.star===!0)){d.type="star",d.star=!0,d.value+=p,d.output=Q,_.backtrack=!0,_.globstar=!0,se(p);continue}let w=he();if(t.noextglob!==!0&&/^\([^?]/.test(w)){wt("star",p);continue}if(d.type==="star"){if(t.noglobstar===!0){se(p);continue}let E=d.prev,P=E.prev,W=E.type==="slash"||E.type==="bos",Z=P&&(P.type==="star"||P.type==="globstar");if(t.bash===!0&&(!W||w[0]&&w[0]!=="/")){O({type:"star",value:p,output:""});continue}let U=_.braces>0&&(E.type==="comma"||E.type==="brace"),hr=$.length&&(E.type==="pipe"||E.type==="paren");if(!W&&E.type!=="paren"&&!U&&!hr){O({type:"star",value:p,output:""});continue}for(;w.slice(0,3)==="/**";){let bt=r[_.index+4];if(bt&&bt!=="/")break;w=w.slice(3),se("/**",3)}if(E.type==="bos"&&X()){d.type="globstar",d.value+=p,d.output=T(t),_.output=d.output,_.globstar=!0,se(p);continue}if(E.type==="slash"&&E.prev.type!=="bos"&&!Z&&X()){_.output=_.output.slice(0,-(E.output+d.output).length),E.output=`(?:${E.output}`,d.type="globstar",d.output=T(t)+(t.strictSlashes?")":"|$)"),d.value+=p,_.globstar=!0,_.output+=E.output+d.output,se(p);continue}if(E.type==="slash"&&E.prev.type!=="bos"&&w[0]==="/"){let bt=w[1]!==void 0?"|$":"";_.output=_.output.slice(0,-(E.output+d.output).length),E.output=`(?:${E.output}`,d.type="globstar",d.output=`${T(t)}${y}|${y}${bt})`,d.value+=p,_.output+=E.output+d.output,_.globstar=!0,se(p+fe()),O({type:"slash",value:"/",output:""});continue}if(E.type==="bos"&&w[0]==="/"){d.type="globstar",d.value+=p,d.output=`(?:^|${y}|${T(t)}${y})`,_.output=d.output,_.globstar=!0,se(p+fe()),O({type:"slash",value:"/",output:""});continue}_.output=_.output.slice(0,-d.output.length),d.type="globstar",d.output=T(t),d.value+=p,_.output+=d.output,_.globstar=!0,se(p);continue}let H={type:"star",value:p,output:Q};if(t.bash===!0){H.output=".*?",(d.type==="bos"||d.type==="slash")&&(H.output=A+H.output),O(H);continue}if(d&&(d.type==="bracket"||d.type==="paren")&&t.regex===!0){H.output=p,O(H);continue}(_.index===_.start||d.type==="slash"||d.type==="dot")&&(d.type==="dot"?(_.output+=C,d.output+=C):t.dot===!0?(_.output+=F,d.output+=F):(_.output+=A,d.output+=A),k()!=="*"&&(_.output+=g,d.output+=g)),O(H)}for(;_.brackets>0;){if(t.strictBrackets===!0)throw new SyntaxError(Ve("closing","]"));_.output=ne.escapeLast(_.output,"["),Le("brackets")}for(;_.parens>0;){if(t.strictBrackets===!0)throw new SyntaxError(Ve("closing",")"));_.output=ne.escapeLast(_.output,"("),Le("parens")}for(;_.braces>0;){if(t.strictBrackets===!0)throw new SyntaxError(Ve("closing","}"));_.output=ne.escapeLast(_.output,"{"),Le("braces")}if(t.strictSlashes!==!0&&(d.type==="star"||d.type==="bracket")&&O({type:"maybe_slash",value:"",output:`${y}?`}),_.backtrack===!0){_.output="";for(let w of _.tokens)_.output+=w.output!=null?w.output:w.value,w.suffix&&(_.output+=w.suffix)}return _};Ir.fastpaths=(r,e)=>{let t={...e},s=typeof t.maxLength=="number"?Math.min(Ot,t.maxLength):Ot,i=r.length;if(i>s)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${s}`);r=oo[r]||r;let n=ne.isWindows(e),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:c,DOTS_SLASH:h,NO_DOT:u,NO_DOTS:f,NO_DOTS_SLASH:l,STAR:y,START_ANCHOR:g}=xt.globChars(n),S=t.dot?f:u,R=t.dot?l:u,C=t.capture?"":"?:",F={negated:!1,prefix:""},N=t.bash===!0?".*?":y;t.capture&&(N=`(${N})`);let ee=A=>A.noglobstar===!0?N:`(${C}(?:(?!${g}${A.dot?h:o}).)*?)`,x=A=>{switch(A){case"*":return`${S}${c}${N}`;case".*":return`${o}${c}${N}`;case"*.*":return`${S}${N}${o}${c}${N}`;case"*/*":return`${S}${N}${a}${c}${R}${N}`;case"**":return S+ee(t);case"**/*":return`(?:${S}${ee(t)}${a})?${R}${c}${N}`;case"**/*.*":return`(?:${S}${ee(t)}${a})?${R}${N}${o}${c}${N}`;case"**/.*":return`(?:${S}${ee(t)}${a})?${o}${c}${N}`;default:{let D=/^(.*?)\.(\w+)$/.exec(A);if(!D)return;let Q=x(D[1]);return Q?Q+o+D[2]:void 0}}},q=ne.removePrefix(r,F),T=x(q);return T&&t.strictSlashes!==!0&&(T+=`${a}?`),T};ao.exports=Ir});var lo=m((x_,uo)=>{"use strict";var Ll=require("path"),Fl=no(),Nr=co(),Mr=ct(),Il=at(),Nl=r=>r&&typeof r=="object"&&!Array.isArray(r),G=(r,e,t=!1)=>{if(Array.isArray(r)){let u=r.map(l=>G(l,e,t));return l=>{for(let y of u){let g=y(l);if(g)return g}return!1}}let s=Nl(r)&&r.tokens&&r.input;if(r===""||typeof r!="string"&&!s)throw new TypeError("Expected pattern to be a non-empty string");let i=e||{},n=Mr.isWindows(e),o=s?G.compileRe(r,e):G.makeRe(r,e,!1,!0),a=o.state;delete o.state;let c=()=>!1;if(i.ignore){let u={...e,ignore:null,onMatch:null,onResult:null};c=G(i.ignore,u,t)}let h=(u,f=!1)=>{let{isMatch:l,match:y,output:g}=G.test(u,o,e,{glob:r,posix:n}),S={glob:r,state:a,regex:o,posix:n,input:u,output:g,match:y,isMatch:l};return typeof i.onResult=="function"&&i.onResult(S),l===!1?(S.isMatch=!1,f?S:!1):c(u)?(typeof i.onIgnore=="function"&&i.onIgnore(S),S.isMatch=!1,f?S:!1):(typeof i.onMatch=="function"&&i.onMatch(S),f?S:!0)};return t&&(h.state=a),h};G.test=(r,e,t,{glob:s,posix:i}={})=>{if(typeof r!="string")throw new TypeError("Expected input to be a string");if(r==="")return{isMatch:!1,output:""};let n=t||{},o=n.format||(i?Mr.toPosixSlashes:null),a=r===s,c=a&&o?o(r):r;return a===!1&&(c=o?o(r):r,a=c===s),(a===!1||n.capture===!0)&&(n.matchBase===!0||n.basename===!0?a=G.matchBase(r,e,t,i):a=e.exec(c)),{isMatch:!!a,match:a,output:c}};G.matchBase=(r,e,t,s=Mr.isWindows(t))=>(e instanceof RegExp?e:G.makeRe(e,t)).test(Ll.basename(r));G.isMatch=(r,e,t)=>G(e,t)(r);G.parse=(r,e)=>Array.isArray(r)?r.map(t=>G.parse(t,e)):Nr(r,{...e,fastpaths:!1});G.scan=(r,e)=>Fl(r,e);G.compileRe=(r,e,t=!1,s=!1)=>{if(t===!0)return r.output;let i=e||{},n=i.contains?"":"^",o=i.contains?"":"$",a=`${n}(?:${r.output})${o}`;r&&r.negated===!0&&(a=`^(?!${a}).*$`);let c=G.toRegex(a,e);return s===!0&&(c.state=r),c};G.makeRe=(r,e={},t=!1,s=!1)=>{if(!r||typeof r!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(r[0]==="."||r[0]==="*")&&(i.output=Nr.fastpaths(r,e)),i.output||(i=Nr(r,e)),G.compileRe(i,e,t,s)};G.toRegex=(r,e)=>{try{let t=e||{};return new RegExp(r,t.flags||(t.nocase?"i":""))}catch(t){if(e&&e.debug===!0)throw t;return/$^/}};G.constants=Il;uo.exports=G});var kt=m((O_,fo)=>{"use strict";fo.exports=lo()});var mo=m((k_,go)=>{"use strict";var po=require("util"),_o=Tr(),ge=kt(),Hr=ct(),ho=r=>r===""||r==="./",B=(r,e,t)=>{e=[].concat(e),r=[].concat(r);let s=new Set,i=new Set,n=new Set,o=0,a=u=>{n.add(u.output),t&&t.onResult&&t.onResult(u)};for(let u=0;u<e.length;u++){let f=ge(String(e[u]),{...t,onResult:a},!0),l=f.state.negated||f.state.negatedExtglob;l&&o++;for(let y of r){let g=f(y,!0);(l?!g.isMatch:g.isMatch)&&(l?s.add(g.output):(s.delete(g.output),i.add(g.output)))}}let h=(o===e.length?[...n]:[...i]).filter(u=>!s.has(u));if(t&&h.length===0){if(t.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(t.nonull===!0||t.nullglob===!0)return t.unescape?e.map(u=>u.replace(/\\/g,"")):e}return h};B.match=B;B.matcher=(r,e)=>ge(r,e);B.isMatch=(r,e,t)=>ge(e,t)(r);B.any=B.isMatch;B.not=(r,e,t={})=>{e=[].concat(e).map(String);let s=new Set,i=[],n=a=>{t.onResult&&t.onResult(a),i.push(a.output)},o=new Set(B(r,e,{...t,onResult:n}));for(let a of i)o.has(a)||s.add(a);return[...s]};B.contains=(r,e,t)=>{if(typeof r!="string")throw new TypeError(`Expected a string: "${po.inspect(r)}"`);if(Array.isArray(e))return e.some(s=>B.contains(r,s,t));if(typeof e=="string"){if(ho(r)||ho(e))return!1;if(r.includes(e)||r.startsWith("./")&&r.slice(2).includes(e))return!0}return B.isMatch(r,e,{...t,contains:!0})};B.matchKeys=(r,e,t)=>{if(!Hr.isObject(r))throw new TypeError("Expected the first argument to be an object");let s=B(Object.keys(r),e,t),i={};for(let n of s)i[n]=r[n];return i};B.some=(r,e,t)=>{let s=[].concat(r);for(let i of[].concat(e)){let n=ge(String(i),t);if(s.some(o=>n(o)))return!0}return!1};B.every=(r,e,t)=>{let s=[].concat(r);for(let i of[].concat(e)){let n=ge(String(i),t);if(!s.every(o=>n(o)))return!1}return!0};B.all=(r,e,t)=>{if(typeof r!="string")throw new TypeError(`Expected a string: "${po.inspect(r)}"`);return[].concat(e).every(s=>ge(s,t)(r))};B.capture=(r,e,t)=>{let s=Hr.isWindows(t),n=ge.makeRe(String(r),{...t,capture:!0}).exec(s?Hr.toPosixSlashes(e):e);if(n)return n.slice(1).map(o=>o===void 0?"":o)};B.makeRe=(...r)=>ge.makeRe(...r);B.scan=(...r)=>ge.scan(...r);B.parse=(r,e)=>{let t=[];for(let s of[].concat(r||[]))for(let i of _o(String(s),e))t.push(ge.parse(i,e));return t};B.braces=(r,e)=>{if(typeof r!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!/\{.*\}/.test(r)?[r]:_o(r,e)};B.braceExpand=(r,e)=>{if(typeof r!="string")throw new TypeError("Expected a string");return B.braces(r,{...e,expand:!0})};go.exports=B});var vo=m(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.matchAny=v.convertPatternsToRe=v.makeRe=v.getPatternParts=v.expandBraceExpansion=v.expandPatternsWithBraceExpansion=v.isAffectDepthOfReadingPattern=v.endsWithSlashGlobStar=v.hasGlobStar=v.getBaseDirectory=v.isPatternRelatedToParentDirectory=v.getPatternsOutsideCurrentDirectory=v.getPatternsInsideCurrentDirectory=v.getPositivePatterns=v.getNegativePatterns=v.isPositivePattern=v.isNegativePattern=v.convertToNegativePattern=v.convertToPositivePattern=v.isDynamicPattern=v.isStaticPattern=void 0;var Ml=require("path"),Hl=wr(),qr=mo(),yo="**",ql="\\",$l=/[*?]|^!/,Bl=/\[[^[]*]/,Wl=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,jl=/[!*+?@]\([^(]*\)/,Gl=/,|\.\./;function Eo(r,e={}){return!So(r,e)}v.isStaticPattern=Eo;function So(r,e={}){return r===""?!1:!!(e.caseSensitiveMatch===!1||r.includes(ql)||$l.test(r)||Bl.test(r)||Wl.test(r)||e.extglob!==!1&&jl.test(r)||e.braceExpansion!==!1&&Ul(r))}v.isDynamicPattern=So;function Ul(r){let e=r.indexOf("{");if(e===-1)return!1;let t=r.indexOf("}",e+1);if(t===-1)return!1;let s=r.slice(e,t);return Gl.test(s)}function Vl(r){return Dt(r)?r.slice(1):r}v.convertToPositivePattern=Vl;function Kl(r){return"!"+r}v.convertToNegativePattern=Kl;function Dt(r){return r.startsWith("!")&&r[1]!=="("}v.isNegativePattern=Dt;function wo(r){return!Dt(r)}v.isPositivePattern=wo;function Ql(r){return r.filter(Dt)}v.getNegativePatterns=Ql;function Yl(r){return r.filter(wo)}v.getPositivePatterns=Yl;function zl(r){return r.filter(e=>!$r(e))}v.getPatternsInsideCurrentDirectory=zl;function Xl(r){return r.filter($r)}v.getPatternsOutsideCurrentDirectory=Xl;function $r(r){return r.startsWith("..")||r.startsWith("./..")}v.isPatternRelatedToParentDirectory=$r;function Zl(r){return Hl(r,{flipBackslashes:!1})}v.getBaseDirectory=Zl;function Jl(r){return r.includes(yo)}v.hasGlobStar=Jl;function bo(r){return r.endsWith("/"+yo)}v.endsWithSlashGlobStar=bo;function ef(r){let e=Ml.basename(r);return bo(r)||Eo(e)}v.isAffectDepthOfReadingPattern=ef;function tf(r){return r.reduce((e,t)=>e.concat(Ro(t)),[])}v.expandPatternsWithBraceExpansion=tf;function Ro(r){return qr.braces(r,{expand:!0,nodupes:!0})}v.expandBraceExpansion=Ro;function rf(r,e){let{parts:t}=qr.scan(r,Object.assign(Object.assign({},e),{parts:!0}));return t.length===0&&(t=[r]),t[0].startsWith("/")&&(t[0]=t[0].slice(1),t.unshift("")),t}v.getPatternParts=rf;function Ao(r,e){return qr.makeRe(r,e)}v.makeRe=Ao;function sf(r,e){return r.map(t=>Ao(t,e))}v.convertPatternsToRe=sf;function nf(r,e){return e.some(t=>t.test(r))}v.matchAny=nf});var xo=m((L_,Po)=>{"use strict";var of=require("stream"),Co=of.PassThrough,af=Array.prototype.slice;Po.exports=cf;function cf(){let r=[],e=af.call(arguments),t=!1,s=e[e.length-1];s&&!Array.isArray(s)&&s.pipe==null?e.pop():s={};let i=s.end!==!1,n=s.pipeError===!0;s.objectMode==null&&(s.objectMode=!0),s.highWaterMark==null&&(s.highWaterMark=64*1024);let o=Co(s);function a(){for(let u=0,f=arguments.length;u<f;u++)r.push(To(arguments[u],s));return c(),this}function c(){if(t)return;t=!0;let u=r.shift();if(!u){process.nextTick(h);return}Array.isArray(u)||(u=[u]);let f=u.length+1;function l(){--f>0||(t=!1,c())}function y(g){function S(){g.removeListener("merge2UnpipeEnd",S),g.removeListener("end",S),n&&g.removeListener("error",R),l()}function R(C){o.emit("error",C)}if(g._readableState.endEmitted)return l();g.on("merge2UnpipeEnd",S),g.on("end",S),n&&g.on("error",R),g.pipe(o,{end:!1}),g.resume()}for(let g=0;g<u.length;g++)y(u[g]);l()}function h(){t=!1,o.emit("queueDrain"),i&&o.end()}return o.setMaxListeners(0),o.add=a,o.on("unpipe",function(u){u.emit("merge2UnpipeEnd")}),e.length&&a.apply(null,e),o}function To(r,e){if(Array.isArray(r))for(let t=0,s=r.length;t<s;t++)r[t]=To(r[t],e);else{if(!r._readableState&&r.pipe&&(r=r.pipe(Co(e))),!r._readableState||!r.pause||!r.pipe)throw new Error("Only readable stream can be merged.");r.pause()}return r}});var ko=m(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.merge=void 0;var uf=xo();function lf(r){let e=uf(r);return r.forEach(t=>{t.once("error",s=>e.emit("error",s))}),e.once("close",()=>Oo(r)),e.once("end",()=>Oo(r)),e}Lt.merge=lf;function Oo(r){r.forEach(e=>e.emit("close"))}});var Do=m(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.isEmpty=Ke.isString=void 0;function ff(r){return typeof r=="string"}Ke.isString=ff;function hf(r){return r===""}Ke.isEmpty=hf});var we=m(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.string=Y.stream=Y.pattern=Y.path=Y.fs=Y.errno=Y.array=void 0;var df=tn();Y.array=df;var pf=rn();Y.errno=pf;var _f=sn();Y.fs=_f;var gf=nn();Y.path=gf;var mf=vo();Y.pattern=mf;var yf=ko();Y.stream=yf;var Ef=Do();Y.string=Ef});var Io=m(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.convertPatternGroupToTask=z.convertPatternGroupsToTasks=z.groupPatternsByBaseDirectory=z.getNegativePatternsAsPositive=z.getPositivePatterns=z.convertPatternsToTasks=z.generate=void 0;var be=we();function Sf(r,e){let t=Lo(r),s=Fo(r,e.ignore),i=t.filter(c=>be.pattern.isStaticPattern(c,e)),n=t.filter(c=>be.pattern.isDynamicPattern(c,e)),o=Br(i,s,!1),a=Br(n,s,!0);return o.concat(a)}z.generate=Sf;function Br(r,e,t){let s=[],i=be.pattern.getPatternsOutsideCurrentDirectory(r),n=be.pattern.getPatternsInsideCurrentDirectory(r),o=Wr(i),a=Wr(n);return s.push(...jr(o,e,t)),"."in a?s.push(Gr(".",n,e,t)):s.push(...jr(a,e,t)),s}z.convertPatternsToTasks=Br;function Lo(r){return be.pattern.getPositivePatterns(r)}z.getPositivePatterns=Lo;function Fo(r,e){return be.pattern.getNegativePatterns(r).concat(e).map(be.pattern.convertToPositivePattern)}z.getNegativePatternsAsPositive=Fo;function Wr(r){let e={};return r.reduce((t,s)=>{let i=be.pattern.getBaseDirectory(s);return i in t?t[i].push(s):t[i]=[s],t},e)}z.groupPatternsByBaseDirectory=Wr;function jr(r,e,t){return Object.keys(r).map(s=>Gr(s,r[s],e,t))}z.convertPatternGroupsToTasks=jr;function Gr(r,e,t,s){return{dynamic:s,positive:e,negative:t,base:r,patterns:[].concat(e,t.map(be.pattern.convertToNegativePattern))}}z.convertPatternGroupToTask=Gr});var Mo=m(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.removeDuplicateSlashes=Qe.transform=void 0;var wf=/(?!^)\/{2,}/g;function bf(r){return r.map(e=>No(e))}Qe.transform=bf;function No(r){return r.replace(wf,"/")}Qe.removeDuplicateSlashes=No});var qo=m(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.read=void 0;function Rf(r,e,t){e.fs.lstat(r,(s,i)=>{if(s!==null){Ho(t,s);return}if(!i.isSymbolicLink()||!e.followSymbolicLink){Ur(t,i);return}e.fs.stat(r,(n,o)=>{if(n!==null){if(e.throwErrorOnBrokenSymbolicLink){Ho(t,n);return}Ur(t,i);return}e.markSymbolicLink&&(o.isSymbolicLink=()=>!0),Ur(t,o)})})}Ft.read=Rf;function Ho(r,e){r(e)}function Ur(r,e){r(null,e)}});var $o=m(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.read=void 0;function Af(r,e){let t=e.fs.lstatSync(r);if(!t.isSymbolicLink()||!e.followSymbolicLink)return t;try{let s=e.fs.statSync(r);return e.markSymbolicLink&&(s.isSymbolicLink=()=>!0),s}catch(s){if(!e.throwErrorOnBrokenSymbolicLink)return t;throw s}}It.read=Af});var Bo=m(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.createFileSystemAdapter=Ce.FILE_SYSTEM_ADAPTER=void 0;var Nt=require("fs");Ce.FILE_SYSTEM_ADAPTER={lstat:Nt.lstat,stat:Nt.stat,lstatSync:Nt.lstatSync,statSync:Nt.statSync};function vf(r){return r===void 0?Ce.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Ce.FILE_SYSTEM_ADAPTER),r)}Ce.createFileSystemAdapter=vf});var Wo=m(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});var Cf=Bo(),Vr=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=Cf.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,t){return e??t}};Kr.default=Vr});var Me=m(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.statSync=Te.stat=Te.Settings=void 0;var jo=qo(),Tf=$o(),Qr=Wo();Te.Settings=Qr.default;function Pf(r,e,t){if(typeof e=="function"){jo.read(r,Yr(),e);return}jo.read(r,Yr(e),t)}Te.stat=Pf;function xf(r,e){let t=Yr(e);return Tf.read(r,t)}Te.statSync=xf;function Yr(r={}){return r instanceof Qr.default?r:new Qr.default(r)}});var Vo=m((G_,Uo)=>{var Go;Uo.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):r=>(Go||(Go=Promise.resolve())).then(r).catch(e=>setTimeout(()=>{throw e},0))});var Qo=m((U_,Ko)=>{Ko.exports=kf;var Of=Vo();function kf(r,e){let t,s,i,n=!0;Array.isArray(r)?(t=[],s=r.length):(i=Object.keys(r),t={},s=i.length);function o(c){function h(){e&&e(c,t),e=null}n?Of(h):h()}function a(c,h,u){t[c]=u,(--s===0||h)&&o(h)}s?i?i.forEach(function(c){r[c](function(h,u){a(c,h,u)})}):r.forEach(function(c,h){c(function(u,f){a(h,u,f)})}):o(null),n=!1}});var zr=m(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var Mt=process.versions.node.split(".");if(Mt[0]===void 0||Mt[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var Yo=Number.parseInt(Mt[0],10),Df=Number.parseInt(Mt[1],10),zo=10,Lf=10,Ff=Yo>zo,If=Yo===zo&&Df>=Lf;Ht.IS_SUPPORT_READDIR_WITH_FILE_TYPES=Ff||If});var Xo=m(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.createDirentFromStats=void 0;var Xr=class{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}};function Nf(r,e){return new Xr(r,e)}qt.createDirentFromStats=Nf});var Zr=m($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.fs=void 0;var Mf=Xo();$t.fs=Mf});var Jr=m(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.joinPathSegments=void 0;function Hf(r,e,t){return r.endsWith(t)?r+e:r+t+e}Bt.joinPathSegments=Hf});var sa=m(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.readdir=Pe.readdirWithFileTypes=Pe.read=void 0;var qf=Me(),Zo=Qo(),$f=zr(),Jo=Zr(),ea=Jr();function Bf(r,e,t){if(!e.stats&&$f.IS_SUPPORT_READDIR_WITH_FILE_TYPES){ta(r,e,t);return}ra(r,e,t)}Pe.read=Bf;function ta(r,e,t){e.fs.readdir(r,{withFileTypes:!0},(s,i)=>{if(s!==null){Wt(t,s);return}let n=i.map(a=>({dirent:a,name:a.name,path:ea.joinPathSegments(r,a.name,e.pathSegmentSeparator)}));if(!e.followSymbolicLinks){es(t,n);return}let o=n.map(a=>Wf(a,e));Zo(o,(a,c)=>{if(a!==null){Wt(t,a);return}es(t,c)})})}Pe.readdirWithFileTypes=ta;function Wf(r,e){return t=>{if(!r.dirent.isSymbolicLink()){t(null,r);return}e.fs.stat(r.path,(s,i)=>{if(s!==null){if(e.throwErrorOnBrokenSymbolicLink){t(s);return}t(null,r);return}r.dirent=Jo.fs.createDirentFromStats(r.name,i),t(null,r)})}}function ra(r,e,t){e.fs.readdir(r,(s,i)=>{if(s!==null){Wt(t,s);return}let n=i.map(o=>{let a=ea.joinPathSegments(r,o,e.pathSegmentSeparator);return c=>{qf.stat(a,e.fsStatSettings,(h,u)=>{if(h!==null){c(h);return}let f={name:o,path:a,dirent:Jo.fs.createDirentFromStats(o,u)};e.stats&&(f.stats=u),c(null,f)})}});Zo(n,(o,a)=>{if(o!==null){Wt(t,o);return}es(t,a)})})}Pe.readdir=ra;function Wt(r,e){r(e)}function es(r,e){r(null,e)}});var ca=m(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.readdir=xe.readdirWithFileTypes=xe.read=void 0;var jf=Me(),Gf=zr(),ia=Zr(),na=Jr();function Uf(r,e){return!e.stats&&Gf.IS_SUPPORT_READDIR_WITH_FILE_TYPES?oa(r,e):aa(r,e)}xe.read=Uf;function oa(r,e){return e.fs.readdirSync(r,{withFileTypes:!0}).map(s=>{let i={dirent:s,name:s.name,path:na.joinPathSegments(r,s.name,e.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&e.followSymbolicLinks)try{let n=e.fs.statSync(i.path);i.dirent=ia.fs.createDirentFromStats(i.name,n)}catch(n){if(e.throwErrorOnBrokenSymbolicLink)throw n}return i})}xe.readdirWithFileTypes=oa;function aa(r,e){return e.fs.readdirSync(r).map(s=>{let i=na.joinPathSegments(r,s,e.pathSegmentSeparator),n=jf.statSync(i,e.fsStatSettings),o={name:s,path:i,dirent:ia.fs.createDirentFromStats(s,n)};return e.stats&&(o.stats=n),o})}xe.readdir=aa});var ua=m(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.createFileSystemAdapter=Oe.FILE_SYSTEM_ADAPTER=void 0;var Ye=require("fs");Oe.FILE_SYSTEM_ADAPTER={lstat:Ye.lstat,stat:Ye.stat,lstatSync:Ye.lstatSync,statSync:Ye.statSync,readdir:Ye.readdir,readdirSync:Ye.readdirSync};function Vf(r){return r===void 0?Oe.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Oe.FILE_SYSTEM_ADAPTER),r)}Oe.createFileSystemAdapter=Vf});var la=m(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});var Kf=require("path"),Qf=Me(),Yf=ua(),ts=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=Yf.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Kf.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new Qf.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return e??t}};rs.default=ts});var jt=m(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.Settings=ke.scandirSync=ke.scandir=void 0;var fa=sa(),zf=ca(),ss=la();ke.Settings=ss.default;function Xf(r,e,t){if(typeof e=="function"){fa.read(r,is(),e);return}fa.read(r,is(e),t)}ke.scandir=Xf;function Zf(r,e){let t=is(e);return zf.read(r,t)}ke.scandirSync=Zf;function is(r={}){return r instanceof ss.default?r:new ss.default(r)}});var da=m((tg,ha)=>{"use strict";function Jf(r){var e=new r,t=e;function s(){var n=e;return n.next?e=n.next:(e=new r,t=e),n.next=null,n}function i(n){t.next=n,t=n}return{get:s,release:i}}ha.exports=Jf});var _a=m((rg,ns)=>{"use strict";var eh=da();function pa(r,e,t){if(typeof r=="function"&&(t=e,e=r,r=null),t<1)throw new Error("fastqueue concurrency must be greater than 1");var s=eh(th),i=null,n=null,o=0,a=null,c={push:S,drain:ae,saturated:ae,pause:u,paused:!1,concurrency:t,running:h,resume:y,idle:g,length:f,getQueue:l,unshift:R,empty:ae,kill:F,killAndDrain:N,error:ee};return c;function h(){return o}function u(){c.paused=!0}function f(){for(var x=i,q=0;x;)x=x.next,q++;return q}function l(){for(var x=i,q=[];x;)q.push(x.value),x=x.next;return q}function y(){if(c.paused){c.paused=!1;for(var x=0;x<c.concurrency;x++)o++,C()}}function g(){return o===0&&c.length()===0}function S(x,q){var T=s.get();T.context=r,T.release=C,T.value=x,T.callback=q||ae,T.errorHandler=a,o===c.concurrency||c.paused?n?(n.next=T,n=T):(i=T,n=T,c.saturated()):(o++,e.call(r,T.value,T.worked))}function R(x,q){var T=s.get();T.context=r,T.release=C,T.value=x,T.callback=q||ae,o===c.concurrency||c.paused?i?(T.next=i,i=T):(i=T,n=T,c.saturated()):(o++,e.call(r,T.value,T.worked))}function C(x){x&&s.release(x);var q=i;q?c.paused?o--:(n===i&&(n=null),i=q.next,q.next=null,e.call(r,q.value,q.worked),n===null&&c.empty()):--o===0&&c.drain()}function F(){i=null,n=null,c.drain=ae}function N(){i=null,n=null,c.drain(),c.drain=ae}function ee(x){a=x}}function ae(){}function th(){this.value=null,this.callback=ae,this.next=null,this.release=ae,this.context=null,this.errorHandler=null;var r=this;this.worked=function(t,s){var i=r.callback,n=r.errorHandler,o=r.value;r.value=null,r.callback=ae,r.errorHandler&&n(t,o),i.call(r.context,t,s),r.release(r)}}function rh(r,e,t){typeof r=="function"&&(t=e,e=r,r=null);function s(u,f){e.call(this,u).then(function(l){f(null,l)},f)}var i=pa(r,s,t),n=i.push,o=i.unshift;return i.push=a,i.unshift=c,i.drained=h,i;function a(u){var f=new Promise(function(l,y){n(u,function(g,S){if(g){y(g);return}l(S)})});return f.catch(ae),f}function c(u){var f=new Promise(function(l,y){o(u,function(g,S){if(g){y(g);return}l(S)})});return f.catch(ae),f}function h(){if(i.idle())return new Promise(function(l){l()});var u=i.drain,f=new Promise(function(l){i.drain=function(){u(),l()}});return f}}ns.exports=pa;ns.exports.promise=rh});var Gt=m(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.joinPathSegments=me.replacePathSegmentSeparator=me.isAppliedFilter=me.isFatalError=void 0;function sh(r,e){return r.errorFilter===null?!0:!r.errorFilter(e)}me.isFatalError=sh;function ih(r,e){return r===null||r(e)}me.isAppliedFilter=ih;function nh(r,e){return r.split(/[/\\]/).join(e)}me.replacePathSegmentSeparator=nh;function oh(r,e,t){return r===""?e:r.endsWith(t)?r+e:r+t+e}me.joinPathSegments=oh});var cs=m(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});var ah=Gt(),os=class{constructor(e,t){this._root=e,this._settings=t,this._root=ah.replacePathSegmentSeparator(e,t.pathSegmentSeparator)}};as.default=os});var fs=m(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});var ch=require("events"),uh=jt(),lh=_a(),Ut=Gt(),fh=cs(),us=class extends fh.default{constructor(e,t){super(e,t),this._settings=t,this._scandir=uh.scandir,this._emitter=new ch.EventEmitter,this._queue=lh(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,t){let s={directory:e,base:t};this._queue.push(s,i=>{i!==null&&this._handleError(i)})}_worker(e,t){this._scandir(e.directory,this._settings.fsScandirSettings,(s,i)=>{if(s!==null){t(s,void 0);return}for(let n of i)this._handleEntry(n,e.base);t(null,void 0)})}_handleError(e){this._isDestroyed||!Ut.isFatalError(this._settings,e)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,t){if(this._isDestroyed||this._isFatalError)return;let s=e.path;t!==void 0&&(e.path=Ut.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),Ut.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&Ut.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(s,t===void 0?void 0:e.path)}_emitEntry(e){this._emitter.emit("entry",e)}};ls.default=us});var ga=m(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});var hh=fs(),hs=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new hh.default(this._root,this._settings),this._storage=[]}read(e){this._reader.onError(t=>{dh(e,t)}),this._reader.onEntry(t=>{this._storage.push(t)}),this._reader.onEnd(()=>{ph(e,this._storage)}),this._reader.read()}};ds.default=hs;function dh(r,e){r(e)}function ph(r,e){r(null,e)}});var ma=m(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});var _h=require("stream"),gh=fs(),ps=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new gh.default(this._root,this._settings),this._stream=new _h.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(e=>{this._stream.emit("error",e)}),this._reader.onEntry(e=>{this._stream.push(e)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};_s.default=ps});var ya=m(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});var mh=jt(),Vt=Gt(),yh=cs(),gs=class extends yh.default{constructor(){super(...arguments),this._scandir=mh.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(e,t){this._queue.add({directory:e,base:t})}_handleQueue(){for(let e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,t){try{let s=this._scandir(e,this._settings.fsScandirSettings);for(let i of s)this._handleEntry(i,t)}catch(s){this._handleError(s)}}_handleError(e){if(Vt.isFatalError(this._settings,e))throw e}_handleEntry(e,t){let s=e.path;t!==void 0&&(e.path=Vt.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),Vt.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&Vt.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(s,t===void 0?void 0:e.path)}_pushToStorage(e){this._storage.push(e)}};ms.default=gs});var Ea=m(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});var Eh=ya(),ys=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new Eh.default(this._root,this._settings)}read(){return this._reader.read()}};Es.default=ys});var Sa=m(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});var Sh=require("path"),wh=jt(),Ss=class{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Sh.sep),this.fsScandirSettings=new wh.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return e??t}};ws.default=Ss});var Qt=m(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.Settings=ye.walkStream=ye.walkSync=ye.walk=void 0;var wa=ga(),bh=ma(),Rh=Ea(),bs=Sa();ye.Settings=bs.default;function Ah(r,e,t){if(typeof e=="function"){new wa.default(r,Kt()).read(e);return}new wa.default(r,Kt(e)).read(t)}ye.walk=Ah;function vh(r,e){let t=Kt(e);return new Rh.default(r,t).read()}ye.walkSync=vh;function Ch(r,e){let t=Kt(e);return new bh.default(r,t).read()}ye.walkStream=Ch;function Kt(r={}){return r instanceof bs.default?r:new bs.default(r)}});var Yt=m(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});var Th=require("path"),Ph=Me(),ba=we(),Rs=class{constructor(e){this._settings=e,this._fsStatSettings=new Ph.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return Th.resolve(this._settings.cwd,e)}_makeEntry(e,t){let s={name:t,path:t,dirent:ba.fs.createDirentFromStats(t,e)};return this._settings.stats&&(s.stats=e),s}_isFatalError(e){return!ba.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}};As.default=Rs});var Ts=m(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});var xh=require("stream"),Oh=Me(),kh=Qt(),Dh=Yt(),vs=class extends Dh.default{constructor(){super(...arguments),this._walkStream=kh.walkStream,this._stat=Oh.stat}dynamic(e,t){return this._walkStream(e,t)}static(e,t){let s=e.map(this._getFullEntryPath,this),i=new xh.PassThrough({objectMode:!0});i._write=(n,o,a)=>this._getEntry(s[n],e[n],t).then(c=>{c!==null&&t.entryFilter(c)&&i.push(c),n===s.length-1&&i.end(),a()}).catch(a);for(let n=0;n<s.length;n++)i.write(n);return i}_getEntry(e,t,s){return this._getStat(e).then(i=>this._makeEntry(i,t)).catch(i=>{if(s.errorFilter(i))return null;throw i})}_getStat(e){return new Promise((t,s)=>{this._stat(e,this._fsStatSettings,(i,n)=>i===null?t(n):s(i))})}};Cs.default=vs});var Ra=m(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});var Lh=Qt(),Fh=Yt(),Ih=Ts(),Ps=class extends Fh.default{constructor(){super(...arguments),this._walkAsync=Lh.walk,this._readerStream=new Ih.default(this._settings)}dynamic(e,t){return new Promise((s,i)=>{this._walkAsync(e,t,(n,o)=>{n===null?s(o):i(n)})})}async static(e,t){let s=[],i=this._readerStream.static(e,t);return new Promise((n,o)=>{i.once("error",o),i.on("data",a=>s.push(a)),i.once("end",()=>n(s))})}};xs.default=Ps});var Aa=m(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});var ze=we(),Os=class{constructor(e,t,s){this._patterns=e,this._settings=t,this._micromatchOptions=s,this._storage=[],this._fillStorage()}_fillStorage(){let e=ze.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let t of e){let s=this._getPatternSegments(t),i=this._splitSegmentsIntoSections(s);this._storage.push({complete:i.length<=1,pattern:t,segments:s,sections:i})}}_getPatternSegments(e){return ze.pattern.getPatternParts(e,this._micromatchOptions).map(s=>ze.pattern.isDynamicPattern(s,this._settings)?{dynamic:!0,pattern:s,patternRe:ze.pattern.makeRe(s,this._micromatchOptions)}:{dynamic:!1,pattern:s})}_splitSegmentsIntoSections(e){return ze.array.splitWhen(e,t=>t.dynamic&&ze.pattern.hasGlobStar(t.pattern))}};ks.default=Os});var va=m(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});var Nh=Aa(),Ds=class extends Nh.default{match(e){let t=e.split("/"),s=t.length,i=this._storage.filter(n=>!n.complete||n.segments.length>s);for(let n of i){let o=n.sections[0];if(!n.complete&&s>o.length||t.every((c,h)=>{let u=n.segments[h];return!!(u.dynamic&&u.patternRe.test(c)||!u.dynamic&&u.pattern===c)}))return!0}return!1}};Ls.default=Ds});var Ca=m(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});var zt=we(),Mh=va(),Fs=class{constructor(e,t){this._settings=e,this._micromatchOptions=t}getFilter(e,t,s){let i=this._getMatcher(t),n=this._getNegativePatternsRe(s);return o=>this._filter(e,o,i,n)}_getMatcher(e){return new Mh.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){let t=e.filter(zt.pattern.isAffectDepthOfReadingPattern);return zt.pattern.convertPatternsToRe(t,this._micromatchOptions)}_filter(e,t,s,i){if(this._isSkippedByDeep(e,t.path)||this._isSkippedSymbolicLink(t))return!1;let n=zt.path.removeLeadingDotSegment(t.path);return this._isSkippedByPositivePatterns(n,s)?!1:this._isSkippedByNegativePatterns(n,i)}_isSkippedByDeep(e,t){return this._settings.deep===1/0?!1:this._getEntryLevel(e,t)>=this._settings.deep}_getEntryLevel(e,t){let s=t.split("/").length;if(e==="")return s;let i=e.split("/").length;return s-i}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,t){return!this._settings.baseNameMatch&&!t.match(e)}_isSkippedByNegativePatterns(e,t){return!zt.pattern.matchAny(e,t)}};Is.default=Fs});var Ta=m(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});var He=we(),Ns=class{constructor(e,t){this._settings=e,this._micromatchOptions=t,this.index=new Map}getFilter(e,t){let s=He.pattern.convertPatternsToRe(e,this._micromatchOptions),i=He.pattern.convertPatternsToRe(t,this._micromatchOptions);return n=>this._filter(n,s,i)}_filter(e,t,s){if(this._settings.unique&&this._isDuplicateEntry(e)||this._onlyFileFilter(e)||this._onlyDirectoryFilter(e)||this._isSkippedByAbsoluteNegativePatterns(e.path,s))return!1;let i=this._settings.baseNameMatch?e.name:e.path,n=e.dirent.isDirectory(),o=this._isMatchToPatterns(i,t,n)&&!this._isMatchToPatterns(e.path,s,n);return this._settings.unique&&o&&this._createIndexRecord(e),o}_isDuplicateEntry(e){return this.index.has(e.path)}_createIndexRecord(e){this.index.set(e.path,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,t){if(!this._settings.absolute)return!1;let s=He.path.makeAbsolute(this._settings.cwd,e);return He.pattern.matchAny(s,t)}_isMatchToPatterns(e,t,s){let i=He.path.removeLeadingDotSegment(e),n=He.pattern.matchAny(i,t);return!n&&s?He.pattern.matchAny(i+"/",t):n}};Ms.default=Ns});var Pa=m(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});var Hh=we(),Hs=class{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return Hh.errno.isEnoentCodeError(e)||this._settings.suppressErrors}};qs.default=Hs});var Oa=m(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});var xa=we(),$s=class{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let t=e.path;return this._settings.absolute&&(t=xa.path.makeAbsolute(this._settings.cwd,t),t=xa.path.unixify(t)),this._settings.markDirectories&&e.dirent.isDirectory()&&(t+="/"),this._settings.objectMode?Object.assign(Object.assign({},e),{path:t}):t}};Bs.default=$s});var Xt=m(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});var qh=require("path"),$h=Ca(),Bh=Ta(),Wh=Pa(),jh=Oa(),Ws=class{constructor(e){this._settings=e,this.errorFilter=new Wh.default(this._settings),this.entryFilter=new Bh.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new $h.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new jh.default(this._settings)}_getRootDirectory(e){return qh.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){let t=e.base==="."?"":e.base;return{basePath:t,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(t,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};js.default=Ws});var ka=m(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});var Gh=Ra(),Uh=Xt(),Gs=class extends Uh.default{constructor(){super(...arguments),this._reader=new Gh.default(this._settings)}async read(e){let t=this._getRootDirectory(e),s=this._getReaderOptions(e);return(await this.api(t,e,s)).map(n=>s.transform(n))}api(e,t,s){return t.dynamic?this._reader.dynamic(e,s):this._reader.static(t.patterns,s)}};Us.default=Gs});var Da=m(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});var Vh=require("stream"),Kh=Ts(),Qh=Xt(),Vs=class extends Qh.default{constructor(){super(...arguments),this._reader=new Kh.default(this._settings)}read(e){let t=this._getRootDirectory(e),s=this._getReaderOptions(e),i=this.api(t,e,s),n=new Vh.Readable({objectMode:!0,read:()=>{}});return i.once("error",o=>n.emit("error",o)).on("data",o=>n.emit("data",s.transform(o))).once("end",()=>n.emit("end")),n.once("close",()=>i.destroy()),n}api(e,t,s){return t.dynamic?this._reader.dynamic(e,s):this._reader.static(t.patterns,s)}};Ks.default=Vs});var La=m(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});var Yh=Me(),zh=Qt(),Xh=Yt(),Qs=class extends Xh.default{constructor(){super(...arguments),this._walkSync=zh.walkSync,this._statSync=Yh.statSync}dynamic(e,t){return this._walkSync(e,t)}static(e,t){let s=[];for(let i of e){let n=this._getFullEntryPath(i),o=this._getEntry(n,i,t);o===null||!t.entryFilter(o)||s.push(o)}return s}_getEntry(e,t,s){try{let i=this._getStat(e);return this._makeEntry(i,t)}catch(i){if(s.errorFilter(i))return null;throw i}}_getStat(e){return this._statSync(e,this._fsStatSettings)}};Ys.default=Qs});var Fa=m(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});var Zh=La(),Jh=Xt(),zs=class extends Jh.default{constructor(){super(...arguments),this._reader=new Zh.default(this._settings)}read(e){let t=this._getRootDirectory(e),s=this._getReaderOptions(e);return this.api(t,e,s).map(s.transform)}api(e,t,s){return t.dynamic?this._reader.dynamic(e,s):this._reader.static(t.patterns,s)}};Xs.default=zs});var Ia=m(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var Xe=require("fs"),ed=require("os"),td=Math.max(ed.cpus().length,1);Ze.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:Xe.lstat,lstatSync:Xe.lstatSync,stat:Xe.stat,statSync:Xe.statSync,readdir:Xe.readdir,readdirSync:Xe.readdirSync};var Zs=class{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,td),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(e,t){return e===void 0?t:e}_getFileSystemMethods(e={}){return Object.assign(Object.assign({},Ze.DEFAULT_FILE_SYSTEM_ADAPTER),e)}};Ze.default=Zs});var qa=m((Tg,Ha)=>{"use strict";var Na=Io(),Ma=Mo(),rd=ka(),sd=Da(),id=Fa(),Js=Ia(),qe=we();async function ei(r,e){Je(r);let t=ti(r,rd.default,e),s=await Promise.all(t);return qe.array.flatten(s)}(function(r){function e(o,a){Je(o);let c=ti(o,id.default,a);return qe.array.flatten(c)}r.sync=e;function t(o,a){Je(o);let c=ti(o,sd.default,a);return qe.stream.merge(c)}r.stream=t;function s(o,a){Je(o);let c=Ma.transform([].concat(o)),h=new Js.default(a);return Na.generate(c,h)}r.generateTasks=s;function i(o,a){Je(o);let c=new Js.default(a);return qe.pattern.isDynamicPattern(o,c)}r.isDynamicPattern=i;function n(o){return Je(o),qe.path.escape(o)}r.escapePath=n})(ei||(ei={}));function ti(r,e,t){let s=Ma.transform([].concat(r)),i=new Js.default(t),n=Na.generate(s,i),o=new e(i);return n.map(o.read,o)}function Je(r){if(![].concat(r).every(s=>qe.string.isString(s)&&!qe.string.isEmpty(s)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}Ha.exports=ei});var Ka=m((Pg,Va)=>{"use strict";var ft=require("fs"),{Readable:nd}=require("stream"),lt=require("path"),{promisify:er}=require("util"),ri=kt(),od=er(ft.readdir),ad=er(ft.stat),$a=er(ft.lstat),cd=er(ft.realpath),ud="!",Ga="READDIRP_RECURSIVE_ERROR",ld=new Set(["ENOENT","EPERM","EACCES","ELOOP",Ga]),si="files",Ua="directories",Jt="files_directories",Zt="all",Ba=[si,Ua,Jt,Zt],fd=r=>ld.has(r.code),[Wa,hd]=process.versions.node.split(".").slice(0,2).map(r=>Number.parseInt(r,10)),dd=process.platform==="win32"&&(Wa>10||Wa===10&&hd>=5),ja=r=>{if(r!==void 0){if(typeof r=="function")return r;if(typeof r=="string"){let e=ri(r.trim());return t=>e(t.basename)}if(Array.isArray(r)){let e=[],t=[];for(let s of r){let i=s.trim();i.charAt(0)===ud?t.push(ri(i.slice(1))):e.push(ri(i))}return t.length>0?e.length>0?s=>e.some(i=>i(s.basename))&&!t.some(i=>i(s.basename)):s=>!t.some(i=>i(s.basename)):s=>e.some(i=>i(s.basename))}}},et=class extends nd{static get defaultOptions(){return{root:".",fileFilter:e=>!0,directoryFilter:e=>!0,type:si,lstat:!1,depth:2147483648,alwaysStat:!1}}constructor(e={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:e.highWaterMark||4096});let t={...et.defaultOptions,...e},{root:s,type:i}=t;this._fileFilter=ja(t.fileFilter),this._directoryFilter=ja(t.directoryFilter);let n=t.lstat?$a:ad;dd?this._stat=o=>n(o,{bigint:!0}):this._stat=n,this._maxDepth=t.depth,this._wantsDir=[Ua,Jt,Zt].includes(i),this._wantsFile=[si,Jt,Zt].includes(i),this._wantsEverything=i===Zt,this._root=lt.resolve(s),this._isDirent="Dirent"in ft&&!t.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(s,1)],this.reading=!1,this.parent=void 0}async _read(e){if(!this.reading){this.reading=!0;try{for(;!this.destroyed&&e>0;){let{path:t,depth:s,files:i=[]}=this.parent||{};if(i.length>0){let n=i.splice(0,e).map(o=>this._formatEntry(o,t));for(let o of await Promise.all(n)){if(this.destroyed)return;let a=await this._getEntryType(o);a==="directory"&&this._directoryFilter(o)?(s<=this._maxDepth&&this.parents.push(this._exploreDir(o.fullPath,s+1)),this._wantsDir&&(this.push(o),e--)):(a==="file"||this._includeAsFile(o))&&this._fileFilter(o)&&this._wantsFile&&(this.push(o),e--)}}else{let n=this.parents.pop();if(!n){this.push(null);break}if(this.parent=await n,this.destroyed)return}}}catch(t){this.destroy(t)}finally{this.reading=!1}}}async _exploreDir(e,t){let s;try{s=await od(e,this._rdOptions)}catch(i){this._onError(i)}return{files:s,depth:t,path:e}}async _formatEntry(e,t){let s;try{let i=this._isDirent?e.name:e,n=lt.resolve(lt.join(t,i));s={path:lt.relative(this._root,n),fullPath:n,basename:i},s[this._statsProp]=this._isDirent?e:await this._stat(n)}catch(i){this._onError(i)}return s}_onError(e){fd(e)&&!this.destroyed?this.emit("warn",e):this.destroy(e)}async _getEntryType(e){let t=e&&e[this._statsProp];if(t){if(t.isFile())return"file";if(t.isDirectory())return"directory";if(t&&t.isSymbolicLink()){let s=e.fullPath;try{let i=await cd(s),n=await $a(i);if(n.isFile())return"file";if(n.isDirectory()){let o=i.length;if(s.startsWith(i)&&s.substr(o,1)===lt.sep){let a=new Error(`Circular symlink detected: "${s}" points to "${i}"`);return a.code=Ga,this._onError(a)}return"directory"}}catch(i){this._onError(i)}}}}_includeAsFile(e){let t=e&&e[this._statsProp];return t&&this._wantsEverything&&!t.isDirectory()}},tt=(r,e={})=>{let t=e.entryType||e.type;if(t==="both"&&(t=Jt),t&&(e.type=t),r){if(typeof r!="string")throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(t&&!Ba.includes(t))throw new Error(`readdirp: Invalid type passed. Use one of ${Ba.join(", ")}`)}else throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");return e.root=r,new et(e)},pd=(r,e={})=>new Promise((t,s)=>{let i=[];tt(r,e).on("data",n=>i.push(n)).on("end",()=>t(i)).on("error",n=>s(n))});tt.promise=pd;tt.ReaddirpStream=et;tt.default=tt;Va.exports=tt});var ii=m((xg,Qa)=>{Qa.exports=function(r,e){if(typeof r!="string")throw new TypeError("expected path to be a string");if(r==="\\"||r==="/")return"/";var t=r.length;if(t<=1)return r;var s="";if(t>4&&r[3]==="\\"){var i=r[2];(i==="?"||i===".")&&r.slice(0,2)==="\\\\"&&(r=r.slice(2),s="//")}var n=r.split(/[/\\]+/);return e!==!1&&n[n.length-1]===""&&n.pop(),s+n.join("/")}});var ec=m((Za,Ja)=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});var Xa=kt(),_d=ii(),Ya="!",gd={returnIndex:!1},md=r=>Array.isArray(r)?r:[r],yd=(r,e)=>{if(typeof r=="function")return r;if(typeof r=="string"){let t=Xa(r,e);return s=>r===s||t(s)}return r instanceof RegExp?t=>r.test(t):t=>!1},za=(r,e,t,s)=>{let i=Array.isArray(t),n=i?t[0]:t;if(!i&&typeof n!="string")throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(n));let o=_d(n,!1);for(let c=0;c<e.length;c++){let h=e[c];if(h(o))return s?-1:!1}let a=i&&[o].concat(t.slice(1));for(let c=0;c<r.length;c++){let h=r[c];if(i?h(...a):h(o))return s?c:!0}return s?-1:!1},ni=(r,e,t=gd)=>{if(r==null)throw new TypeError("anymatch: specify first argument");let s=typeof t=="boolean"?{returnIndex:t}:t,i=s.returnIndex||!1,n=md(r),o=n.filter(c=>typeof c=="string"&&c.charAt(0)===Ya).map(c=>c.slice(1)).map(c=>Xa(c,s)),a=n.filter(c=>typeof c!="string"||typeof c=="string"&&c.charAt(0)!==Ya).map(c=>yd(c,s));return e==null?(c,h=!1)=>za(a,o,c,typeof h=="boolean"?h:!1):za(a,o,e,i)};ni.default=ni;Ja.exports=ni});var tc=m((Og,Ed)=>{Ed.exports=["3dm","3ds","3g2","3gp","7z","a","aac","adp","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","odp","ods","odt","oga","ogg","ogv","otf","ott","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]});var sc=m((kg,rc)=>{rc.exports=tc()});var nc=m((Dg,ic)=>{"use strict";var Sd=require("path"),wd=sc(),bd=new Set(wd);ic.exports=r=>bd.has(Sd.extname(r).slice(1).toLowerCase())});var tr=m(b=>{"use strict";var{sep:Rd}=require("path"),{platform:oi}=process,Ad=require("os");b.EV_ALL="all";b.EV_READY="ready";b.EV_ADD="add";b.EV_CHANGE="change";b.EV_ADD_DIR="addDir";b.EV_UNLINK="unlink";b.EV_UNLINK_DIR="unlinkDir";b.EV_RAW="raw";b.EV_ERROR="error";b.STR_DATA="data";b.STR_END="end";b.STR_CLOSE="close";b.FSEVENT_CREATED="created";b.FSEVENT_MODIFIED="modified";b.FSEVENT_DELETED="deleted";b.FSEVENT_MOVED="moved";b.FSEVENT_CLONED="cloned";b.FSEVENT_UNKNOWN="unknown";b.FSEVENT_TYPE_FILE="file";b.FSEVENT_TYPE_DIRECTORY="directory";b.FSEVENT_TYPE_SYMLINK="symlink";b.KEY_LISTENERS="listeners";b.KEY_ERR="errHandlers";b.KEY_RAW="rawEmitters";b.HANDLER_KEYS=[b.KEY_LISTENERS,b.KEY_ERR,b.KEY_RAW];b.DOT_SLASH=`.${Rd}`;b.BACK_SLASH_RE=/\\/g;b.DOUBLE_SLASH_RE=/\/\//;b.SLASH_OR_BACK_SLASH_RE=/[/\\]/;b.DOT_RE=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/;b.REPLACER_RE=/^\.[/\\]/;b.SLASH="/";b.SLASH_SLASH="//";b.BRACE_START="{";b.BANG="!";b.ONE_DOT=".";b.TWO_DOTS="..";b.STAR="*";b.GLOBSTAR="**";b.ROOT_GLOBSTAR="/**/*";b.SLASH_GLOBSTAR="/**";b.DIR_SUFFIX="Dir";b.ANYMATCH_OPTS={dot:!0};b.STRING_TYPE="string";b.FUNCTION_TYPE="function";b.EMPTY_STR="";b.EMPTY_FN=()=>{};b.IDENTITY_FN=r=>r;b.isWindows=oi==="win32";b.isMacos=oi==="darwin";b.isLinux=oi==="linux";b.isIBMi=Ad.type()==="OS400"});var fc=m((Fg,lc)=>{"use strict";var Re=require("fs"),V=require("path"),{promisify:_t}=require("util"),vd=nc(),{isWindows:Cd,isLinux:Td,EMPTY_FN:Pd,EMPTY_STR:xd,KEY_LISTENERS:rt,KEY_ERR:ai,KEY_RAW:ht,HANDLER_KEYS:Od,EV_CHANGE:sr,EV_ADD:rr,EV_ADD_DIR:kd,EV_ERROR:ac,STR_DATA:Dd,STR_END:Ld,BRACE_START:Fd,STAR:Id}=tr(),Nd="watch",Md=_t(Re.open),cc=_t(Re.stat),Hd=_t(Re.lstat),qd=_t(Re.close),ci=_t(Re.realpath),$d={lstat:Hd,stat:cc},li=(r,e)=>{r instanceof Set?r.forEach(e):e(r)},dt=(r,e,t)=>{let s=r[e];s instanceof Set||(r[e]=s=new Set([s])),s.add(t)},Bd=r=>e=>{let t=r[e];t instanceof Set?t.clear():delete r[e]},pt=(r,e,t)=>{let s=r[e];s instanceof Set?s.delete(t):s===t&&delete r[e]},uc=r=>r instanceof Set?r.size===0:!r,ir=new Map;function oc(r,e,t,s,i){let n=(o,a)=>{t(r),i(o,a,{watchedPath:r}),a&&r!==a&&nr(V.resolve(r,a),rt,V.join(r,a))};try{return Re.watch(r,e,n)}catch(o){s(o)}}var nr=(r,e,t,s,i)=>{let n=ir.get(r);n&&li(n[e],o=>{o(t,s,i)})},Wd=(r,e,t,s)=>{let{listener:i,errHandler:n,rawEmitter:o}=s,a=ir.get(e),c;if(!t.persistent)return c=oc(r,t,i,n,o),c.close.bind(c);if(a)dt(a,rt,i),dt(a,ai,n),dt(a,ht,o);else{if(c=oc(r,t,nr.bind(null,e,rt),n,nr.bind(null,e,ht)),!c)return;c.on(ac,async h=>{let u=nr.bind(null,e,ai);if(a.watcherUnusable=!0,Cd&&h.code==="EPERM")try{let f=await Md(r,"r");await qd(f),u(h)}catch{}else u(h)}),a={listeners:i,errHandlers:n,rawEmitters:o,watcher:c},ir.set(e,a)}return()=>{pt(a,rt,i),pt(a,ai,n),pt(a,ht,o),uc(a.listeners)&&(a.watcher.close(),ir.delete(e),Od.forEach(Bd(a)),a.watcher=void 0,Object.freeze(a))}},ui=new Map,jd=(r,e,t,s)=>{let{listener:i,rawEmitter:n}=s,o=ui.get(e),a=new Set,c=new Set,h=o&&o.options;return h&&(h.persistent<t.persistent||h.interval>t.interval)&&(a=o.listeners,c=o.rawEmitters,Re.unwatchFile(e),o=void 0),o?(dt(o,rt,i),dt(o,ht,n)):(o={listeners:i,rawEmitters:n,options:t,watcher:Re.watchFile(e,t,(u,f)=>{li(o.rawEmitters,y=>{y(sr,e,{curr:u,prev:f})});let l=u.mtimeMs;(u.size!==f.size||l>f.mtimeMs||l===0)&&li(o.listeners,y=>y(r,u))})},ui.set(e,o)),()=>{pt(o,rt,i),pt(o,ht,n),uc(o.listeners)&&(ui.delete(e),Re.unwatchFile(e),o.options=o.watcher=void 0,Object.freeze(o))}},fi=class{constructor(e){this.fsw=e,this._boundHandleError=t=>e._handleError(t)}_watchWithNodeFs(e,t){let s=this.fsw.options,i=V.dirname(e),n=V.basename(e);this.fsw._getWatchedDir(i).add(n);let a=V.resolve(e),c={persistent:s.persistent};t||(t=Pd);let h;return s.usePolling?(c.interval=s.enableBinaryInterval&&vd(n)?s.binaryInterval:s.interval,h=jd(e,a,c,{listener:t,rawEmitter:this.fsw._emitRaw})):h=Wd(e,a,c,{listener:t,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw}),h}_handleFile(e,t,s){if(this.fsw.closed)return;let i=V.dirname(e),n=V.basename(e),o=this.fsw._getWatchedDir(i),a=t;if(o.has(n))return;let c=async(u,f)=>{if(this.fsw._throttle(Nd,e,5)){if(!f||f.mtimeMs===0)try{let l=await cc(e);if(this.fsw.closed)return;let y=l.atimeMs,g=l.mtimeMs;(!y||y<=g||g!==a.mtimeMs)&&this.fsw._emit(sr,e,l),Td&&a.ino!==l.ino?(this.fsw._closeFile(u),a=l,this.fsw._addPathCloser(u,this._watchWithNodeFs(e,c))):a=l}catch{this.fsw._remove(i,n)}else if(o.has(n)){let l=f.atimeMs,y=f.mtimeMs;(!l||l<=y||y!==a.mtimeMs)&&this.fsw._emit(sr,e,f),a=f}}},h=this._watchWithNodeFs(e,c);if(!(s&&this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(e)){if(!this.fsw._throttle(rr,e,0))return;this.fsw._emit(rr,e,t)}return h}async _handleSymlink(e,t,s,i){if(this.fsw.closed)return;let n=e.fullPath,o=this.fsw._getWatchedDir(t);if(!this.fsw.options.followSymlinks){this.fsw._incrReadyCount();let a;try{a=await ci(s)}catch{return this.fsw._emitReady(),!0}return this.fsw.closed?void 0:(o.has(i)?this.fsw._symlinkPaths.get(n)!==a&&(this.fsw._symlinkPaths.set(n,a),this.fsw._emit(sr,s,e.stats)):(o.add(i),this.fsw._symlinkPaths.set(n,a),this.fsw._emit(rr,s,e.stats)),this.fsw._emitReady(),!0)}if(this.fsw._symlinkPaths.has(n))return!0;this.fsw._symlinkPaths.set(n,!0)}_handleRead(e,t,s,i,n,o,a){if(e=V.join(e,xd),!s.hasGlob&&(a=this.fsw._throttle("readdir",e,1e3),!a))return;let c=this.fsw._getWatchedDir(s.path),h=new Set,u=this.fsw._readdirp(e,{fileFilter:f=>s.filterPath(f),directoryFilter:f=>s.filterDir(f),depth:0}).on(Dd,async f=>{if(this.fsw.closed){u=void 0;return}let l=f.path,y=V.join(e,l);if(h.add(l),!(f.stats.isSymbolicLink()&&await this._handleSymlink(f,e,y,l))){if(this.fsw.closed){u=void 0;return}(l===i||!i&&!c.has(l))&&(this.fsw._incrReadyCount(),y=V.join(n,V.relative(n,y)),this._addToNodeFs(y,t,s,o+1))}}).on(ac,this._boundHandleError);return new Promise(f=>u.once(Ld,()=>{if(this.fsw.closed){u=void 0;return}let l=a?a.clear():!1;f(),c.getChildren().filter(y=>y!==e&&!h.has(y)&&(!s.hasGlob||s.filterPath({fullPath:V.resolve(e,y)}))).forEach(y=>{this.fsw._remove(e,y)}),u=void 0,l&&this._handleRead(e,!1,s,i,n,o,a)}))}async _handleDir(e,t,s,i,n,o,a){let c=this.fsw._getWatchedDir(V.dirname(e)),h=c.has(V.basename(e));!(s&&this.fsw.options.ignoreInitial)&&!n&&!h&&(!o.hasGlob||o.globFilter(e))&&this.fsw._emit(kd,e,t),c.add(V.basename(e)),this.fsw._getWatchedDir(e);let u,f,l=this.fsw.options.depth;if((l==null||i<=l)&&!this.fsw._symlinkPaths.has(a)){if(!n&&(await this._handleRead(e,s,o,n,e,i,u),this.fsw.closed))return;f=this._watchWithNodeFs(e,(y,g)=>{g&&g.mtimeMs===0||this._handleRead(y,!1,o,n,e,i,u)})}return f}async _addToNodeFs(e,t,s,i,n){let o=this.fsw._emitReady;if(this.fsw._isIgnored(e)||this.fsw.closed)return o(),!1;let a=this.fsw._getWatchHelpers(e,i);!a.hasGlob&&s&&(a.hasGlob=s.hasGlob,a.globFilter=s.globFilter,a.filterPath=c=>s.filterPath(c),a.filterDir=c=>s.filterDir(c));try{let c=await $d[a.statMethod](a.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(a.watchPath,c))return o(),!1;let h=this.fsw.options.followSymlinks&&!e.includes(Id)&&!e.includes(Fd),u;if(c.isDirectory()){let f=V.resolve(e),l=h?await ci(e):e;if(this.fsw.closed||(u=await this._handleDir(a.watchPath,c,t,i,n,a,l),this.fsw.closed))return;f!==l&&l!==void 0&&this.fsw._symlinkPaths.set(f,l)}else if(c.isSymbolicLink()){let f=h?await ci(e):e;if(this.fsw.closed)return;let l=V.dirname(a.watchPath);if(this.fsw._getWatchedDir(l).add(a.watchPath),this.fsw._emit(rr,a.watchPath,c),u=await this._handleDir(l,c,t,i,e,a,f),this.fsw.closed)return;f!==void 0&&this.fsw._symlinkPaths.set(V.resolve(e),f)}else u=this._handleFile(a.watchPath,c,t);return o(),this.fsw._addPathCloser(e,u),!1}catch(c){if(this.fsw._handleError(c))return o(),e}}};lc.exports=fi});var yc=m((Ig,Ei)=>{"use strict";var mi=require("fs"),K=require("path"),{promisify:yi}=require("util"),st;try{st=require("fsevents")}catch(r){process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR&&console.error(r)}if(st){let r=process.version.match(/v(\d+)\.(\d+)/);if(r&&r[1]&&r[2]){let e=Number.parseInt(r[1],10),t=Number.parseInt(r[2],10);e===8&&t<16&&(st=void 0)}}var{EV_ADD:hi,EV_CHANGE:Gd,EV_ADD_DIR:hc,EV_UNLINK:or,EV_ERROR:Ud,STR_DATA:Vd,STR_END:Kd,FSEVENT_CREATED:Qd,FSEVENT_MODIFIED:Yd,FSEVENT_DELETED:zd,FSEVENT_MOVED:Xd,FSEVENT_UNKNOWN:Zd,FSEVENT_TYPE_FILE:Jd,FSEVENT_TYPE_DIRECTORY:gt,FSEVENT_TYPE_SYMLINK:mc,ROOT_GLOBSTAR:dc,DIR_SUFFIX:ep,DOT_SLASH:pc,FUNCTION_TYPE:di,EMPTY_FN:tp,IDENTITY_FN:rp}=tr(),sp=r=>isNaN(r)?{}:{depth:r},_i=yi(mi.stat),ip=yi(mi.lstat),_c=yi(mi.realpath),np={stat:_i,lstat:ip},$e=new Map,op=10,ap=new Set([69888,70400,71424,72704,73472,131328,131840,262912]),cp=(r,e)=>({stop:st.watch(r,e)});function up(r,e,t,s){let i=K.extname(e)?K.dirname(e):e,n=K.dirname(i),o=$e.get(i);lp(n)&&(i=n);let a=K.resolve(r),c=a!==e,h=(f,l,y)=>{c&&(f=f.replace(e,a)),(f===a||!f.indexOf(a+K.sep))&&t(f,l,y)},u=!1;for(let f of $e.keys())if(e.indexOf(K.resolve(f)+K.sep)===0){i=f,o=$e.get(i),u=!0;break}return o||u?o.listeners.add(h):(o={listeners:new Set([h]),rawEmitter:s,watcher:cp(i,(f,l)=>{if(!o.listeners.size)return;let y=st.getInfo(f,l);o.listeners.forEach(g=>{g(f,l,y)}),o.rawEmitter(y.event,f,y)})},$e.set(i,o)),()=>{let f=o.listeners;if(f.delete(h),!f.size&&($e.delete(i),o.watcher))return o.watcher.stop().then(()=>{o.rawEmitter=o.watcher=void 0,Object.freeze(o)})}}var lp=r=>{let e=0;for(let t of $e.keys())if(t.indexOf(r)===0&&(e++,e>=op))return!0;return!1},fp=()=>st&&$e.size<128,pi=(r,e)=>{let t=0;for(;!r.indexOf(e)&&(r=K.dirname(r))!==e;)t++;return t},gc=(r,e)=>r.type===gt&&e.isDirectory()||r.type===mc&&e.isSymbolicLink()||r.type===Jd&&e.isFile(),gi=class{constructor(e){this.fsw=e}checkIgnored(e,t){let s=this.fsw._ignoredPaths;if(this.fsw._isIgnored(e,t))return s.add(e),t&&t.isDirectory()&&s.add(e+dc),!0;s.delete(e),s.delete(e+dc)}addOrChange(e,t,s,i,n,o,a,c){let h=n.has(o)?Gd:hi;this.handleEvent(h,e,t,s,i,n,o,a,c)}async checkExists(e,t,s,i,n,o,a,c){try{let h=await _i(e);if(this.fsw.closed)return;gc(a,h)?this.addOrChange(e,t,s,i,n,o,a,c):this.handleEvent(or,e,t,s,i,n,o,a,c)}catch(h){h.code==="EACCES"?this.addOrChange(e,t,s,i,n,o,a,c):this.handleEvent(or,e,t,s,i,n,o,a,c)}}handleEvent(e,t,s,i,n,o,a,c,h){if(!(this.fsw.closed||this.checkIgnored(t)))if(e===or){let u=c.type===gt;(u||o.has(a))&&this.fsw._remove(n,a,u)}else{if(e===hi){if(c.type===gt&&this.fsw._getWatchedDir(t),c.type===mc&&h.followSymlinks){let f=h.depth===void 0?void 0:pi(s,i)+1;return this._addToFsEvents(t,!1,!0,f)}this.fsw._getWatchedDir(n).add(a)}let u=c.type===gt?e+ep:e;this.fsw._emit(u,t),u===hc&&this._addToFsEvents(t,!1,!0)}}_watchWithFsEvents(e,t,s,i){if(this.fsw.closed||this.fsw._isIgnored(e))return;let n=this.fsw.options,a=up(e,t,async(c,h,u)=>{if(this.fsw.closed||n.depth!==void 0&&pi(c,t)>n.depth)return;let f=s(K.join(e,K.relative(e,c)));if(i&&!i(f))return;let l=K.dirname(f),y=K.basename(f),g=this.fsw._getWatchedDir(u.type===gt?f:l);if(ap.has(h)||u.event===Zd)if(typeof n.ignored===di){let S;try{S=await _i(f)}catch{}if(this.fsw.closed||this.checkIgnored(f,S))return;gc(u,S)?this.addOrChange(f,c,t,l,g,y,u,n):this.handleEvent(or,f,c,t,l,g,y,u,n)}else this.checkExists(f,c,t,l,g,y,u,n);else switch(u.event){case Qd:case Yd:return this.addOrChange(f,c,t,l,g,y,u,n);case zd:case Xd:return this.checkExists(f,c,t,l,g,y,u,n)}},this.fsw._emitRaw);return this.fsw._emitReady(),a}async _handleFsEventsSymlink(e,t,s,i){if(!(this.fsw.closed||this.fsw._symlinkPaths.has(t))){this.fsw._symlinkPaths.set(t,!0),this.fsw._incrReadyCount();try{let n=await _c(e);if(this.fsw.closed)return;if(this.fsw._isIgnored(n))return this.fsw._emitReady();this.fsw._incrReadyCount(),this._addToFsEvents(n||e,o=>{let a=e;return n&&n!==pc?a=o.replace(n,e):o!==pc&&(a=K.join(e,o)),s(a)},!1,i)}catch(n){if(this.fsw._handleError(n))return this.fsw._emitReady()}}}emitAdd(e,t,s,i,n){let o=s(e),a=t.isDirectory(),c=this.fsw._getWatchedDir(K.dirname(o)),h=K.basename(o);a&&this.fsw._getWatchedDir(o),!c.has(h)&&(c.add(h),(!i.ignoreInitial||n===!0)&&this.fsw._emit(a?hc:hi,o,t))}initWatch(e,t,s,i){if(this.fsw.closed)return;let n=this._watchWithFsEvents(s.watchPath,K.resolve(e||s.watchPath),i,s.globFilter);this.fsw._addPathCloser(t,n)}async _addToFsEvents(e,t,s,i){if(this.fsw.closed)return;let n=this.fsw.options,o=typeof t===di?t:rp,a=this.fsw._getWatchHelpers(e);try{let c=await np[a.statMethod](a.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(a.watchPath,c))throw null;if(c.isDirectory()){if(a.globFilter||this.emitAdd(o(e),c,o,n,s),i&&i>n.depth)return;this.fsw._readdirp(a.watchPath,{fileFilter:h=>a.filterPath(h),directoryFilter:h=>a.filterDir(h),...sp(n.depth-(i||0))}).on(Vd,h=>{if(this.fsw.closed||h.stats.isDirectory()&&!a.filterPath(h))return;let u=K.join(a.watchPath,h.path),{fullPath:f}=h;if(a.followSymlinks&&h.stats.isSymbolicLink()){let l=n.depth===void 0?void 0:pi(u,K.resolve(a.watchPath))+1;this._handleFsEventsSymlink(u,f,o,l)}else this.emitAdd(u,h.stats,o,n,s)}).on(Ud,tp).on(Kd,()=>{this.fsw._emitReady()})}else this.emitAdd(a.watchPath,c,o,n,s),this.fsw._emitReady()}catch(c){(!c||this.fsw._handleError(c))&&(this.fsw._emitReady(),this.fsw._emitReady())}if(n.persistent&&s!==!0)if(typeof t===di)this.initWatch(void 0,e,a,o);else{let c;try{c=await _c(a.watchPath)}catch{}this.initWatch(c,e,a,o)}}};Ei.exports=gi;Ei.exports.canUse=fp});var Ii=m(Fi=>{"use strict";var{EventEmitter:hp}=require("events"),Di=require("fs"),L=require("path"),{promisify:vc}=require("util"),dp=Ka(),vi=ec().default,pp=wr(),Si=Er(),_p=Tr(),gp=ii(),mp=fc(),Ec=yc(),{EV_ALL:wi,EV_READY:yp,EV_ADD:ar,EV_CHANGE:mt,EV_UNLINK:Sc,EV_ADD_DIR:Ep,EV_UNLINK_DIR:Sp,EV_RAW:wp,EV_ERROR:bi,STR_CLOSE:bp,STR_END:Rp,BACK_SLASH_RE:Ap,DOUBLE_SLASH_RE:wc,SLASH_OR_BACK_SLASH_RE:vp,DOT_RE:Cp,REPLACER_RE:Tp,SLASH:Ri,SLASH_SLASH:Pp,BRACE_START:xp,BANG:Ci,ONE_DOT:Cc,TWO_DOTS:Op,GLOBSTAR:kp,SLASH_GLOBSTAR:Ai,ANYMATCH_OPTS:Ti,STRING_TYPE:Li,FUNCTION_TYPE:Dp,EMPTY_STR:Pi,EMPTY_FN:Lp,isWindows:Fp,isMacos:Ip,isIBMi:Np}=tr(),Mp=vc(Di.stat),Hp=vc(Di.readdir),xi=(r=[])=>Array.isArray(r)?r:[r],Tc=(r,e=[])=>(r.forEach(t=>{Array.isArray(t)?Tc(t,e):e.push(t)}),e),bc=r=>{let e=Tc(xi(r));if(!e.every(t=>typeof t===Li))throw new TypeError(`Non-string provided as watch path: ${e}`);return e.map(Pc)},Rc=r=>{let e=r.replace(Ap,Ri),t=!1;for(e.startsWith(Pp)&&(t=!0);e.match(wc);)e=e.replace(wc,Ri);return t&&(e=Ri+e),e},Pc=r=>Rc(L.normalize(Rc(r))),Ac=(r=Pi)=>e=>typeof e!==Li?e:Pc(L.isAbsolute(e)?e:L.join(r,e)),qp=(r,e)=>L.isAbsolute(r)?r:r.startsWith(Ci)?Ci+L.join(e,r.slice(1)):L.join(e,r),ue=(r,e)=>r[e]===void 0,Oi=class{constructor(e,t){this.path=e,this._removeWatcher=t,this.items=new Set}add(e){let{items:t}=this;t&&e!==Cc&&e!==Op&&t.add(e)}async remove(e){let{items:t}=this;if(!t||(t.delete(e),t.size>0))return;let s=this.path;try{await Hp(s)}catch{this._removeWatcher&&this._removeWatcher(L.dirname(s),L.basename(s))}}has(e){let{items:t}=this;if(t)return t.has(e)}getChildren(){let{items:e}=this;if(e)return[...e.values()]}dispose(){this.items.clear(),delete this.path,delete this._removeWatcher,delete this.items,Object.freeze(this)}},$p="stat",Bp="lstat",ki=class{constructor(e,t,s,i){this.fsw=i,this.path=e=e.replace(Tp,Pi),this.watchPath=t,this.fullWatchPath=L.resolve(t),this.hasGlob=t!==e,e===Pi&&(this.hasGlob=!1),this.globSymlink=this.hasGlob&&s?void 0:!1,this.globFilter=this.hasGlob?vi(e,void 0,Ti):!1,this.dirParts=this.getDirParts(e),this.dirParts.forEach(n=>{n.length>1&&n.pop()}),this.followSymlinks=s,this.statMethod=s?$p:Bp}checkGlobSymlink(e){return this.globSymlink===void 0&&(this.globSymlink=e.fullParentDir===this.fullWatchPath?!1:{realPath:e.fullParentDir,linkPath:this.fullWatchPath}),this.globSymlink?e.fullPath.replace(this.globSymlink.realPath,this.globSymlink.linkPath):e.fullPath}entryPath(e){return L.join(this.watchPath,L.relative(this.watchPath,this.checkGlobSymlink(e)))}filterPath(e){let{stats:t}=e;if(t&&t.isSymbolicLink())return this.filterDir(e);let s=this.entryPath(e);return(this.hasGlob&&typeof this.globFilter===Dp?this.globFilter(s):!0)&&this.fsw._isntIgnored(s,t)&&this.fsw._hasReadPermissions(t)}getDirParts(e){if(!this.hasGlob)return[];let t=[];return(e.includes(xp)?_p.expand(e):[e]).forEach(i=>{t.push(L.relative(this.watchPath,i).split(vp))}),t}filterDir(e){if(this.hasGlob){let t=this.getDirParts(this.checkGlobSymlink(e)),s=!1;this.unmatchedGlob=!this.dirParts.some(i=>i.every((n,o)=>(n===kp&&(s=!0),s||!t[0][o]||vi(n,t[0][o],Ti))))}return!this.unmatchedGlob&&this.fsw._isntIgnored(this.entryPath(e),e.stats)}},cr=class extends hp{constructor(e){super();let t={};e&&Object.assign(t,e),this._watched=new Map,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._symlinkPaths=new Map,this._streams=new Set,this.closed=!1,ue(t,"persistent")&&(t.persistent=!0),ue(t,"ignoreInitial")&&(t.ignoreInitial=!1),ue(t,"ignorePermissionErrors")&&(t.ignorePermissionErrors=!1),ue(t,"interval")&&(t.interval=100),ue(t,"binaryInterval")&&(t.binaryInterval=300),ue(t,"disableGlobbing")&&(t.disableGlobbing=!1),t.enableBinaryInterval=t.binaryInterval!==t.interval,ue(t,"useFsEvents")&&(t.useFsEvents=!t.usePolling),Ec.canUse()||(t.useFsEvents=!1),ue(t,"usePolling")&&!t.useFsEvents&&(t.usePolling=Ip),Np&&(t.usePolling=!0);let i=process.env.CHOKIDAR_USEPOLLING;if(i!==void 0){let c=i.toLowerCase();c==="false"||c==="0"?t.usePolling=!1:c==="true"||c==="1"?t.usePolling=!0:t.usePolling=!!c}let n=process.env.CHOKIDAR_INTERVAL;n&&(t.interval=Number.parseInt(n,10)),ue(t,"atomic")&&(t.atomic=!t.usePolling&&!t.useFsEvents),t.atomic&&(this._pendingUnlinks=new Map),ue(t,"followSymlinks")&&(t.followSymlinks=!0),ue(t,"awaitWriteFinish")&&(t.awaitWriteFinish=!1),t.awaitWriteFinish===!0&&(t.awaitWriteFinish={});let o=t.awaitWriteFinish;o&&(o.stabilityThreshold||(o.stabilityThreshold=2e3),o.pollInterval||(o.pollInterval=100),this._pendingWrites=new Map),t.ignored&&(t.ignored=xi(t.ignored));let a=0;this._emitReady=()=>{a++,a>=this._readyCount&&(this._emitReady=Lp,this._readyEmitted=!0,process.nextTick(()=>this.emit(yp)))},this._emitRaw=(...c)=>this.emit(wp,...c),this._readyEmitted=!1,this.options=t,t.useFsEvents?this._fsEventsHandler=new Ec(this):this._nodeFsHandler=new mp(this),Object.freeze(t)}add(e,t,s){let{cwd:i,disableGlobbing:n}=this.options;this.closed=!1;let o=bc(e);return i&&(o=o.map(a=>{let c=qp(a,i);return n||!Si(a)?c:gp(c)})),o=o.filter(a=>a.startsWith(Ci)?(this._ignoredPaths.add(a.slice(1)),!1):(this._ignoredPaths.delete(a),this._ignoredPaths.delete(a+Ai),this._userIgnored=void 0,!0)),this.options.useFsEvents&&this._fsEventsHandler?(this._readyCount||(this._readyCount=o.length),this.options.persistent&&(this._readyCount*=2),o.forEach(a=>this._fsEventsHandler._addToFsEvents(a))):(this._readyCount||(this._readyCount=0),this._readyCount+=o.length,Promise.all(o.map(async a=>{let c=await this._nodeFsHandler._addToNodeFs(a,!s,0,0,t);return c&&this._emitReady(),c})).then(a=>{this.closed||a.filter(c=>c).forEach(c=>{this.add(L.dirname(c),L.basename(t||c))})})),this}unwatch(e){if(this.closed)return this;let t=bc(e),{cwd:s}=this.options;return t.forEach(i=>{!L.isAbsolute(i)&&!this._closers.has(i)&&(s&&(i=L.join(s,i)),i=L.resolve(i)),this._closePath(i),this._ignoredPaths.add(i),this._watched.has(i)&&this._ignoredPaths.add(i+Ai),this._userIgnored=void 0}),this}close(){if(this.closed)return this._closePromise;this.closed=!0,this.removeAllListeners();let e=[];return this._closers.forEach(t=>t.forEach(s=>{let i=s();i instanceof Promise&&e.push(i)})),this._streams.forEach(t=>t.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(t=>t.dispose()),["closers","watched","streams","symlinkPaths","throttled"].forEach(t=>{this[`_${t}`].clear()}),this._closePromise=e.length?Promise.all(e).then(()=>{}):Promise.resolve(),this._closePromise}getWatched(){let e={};return this._watched.forEach((t,s)=>{let i=this.options.cwd?L.relative(this.options.cwd,s):s;e[i||Cc]=t.getChildren().sort()}),e}emitWithAll(e,t){this.emit(...t),e!==bi&&this.emit(wi,...t)}async _emit(e,t,s,i,n){if(this.closed)return;let o=this.options;Fp&&(t=L.normalize(t)),o.cwd&&(t=L.relative(o.cwd,t));let a=[e,t];n!==void 0?a.push(s,i,n):i!==void 0?a.push(s,i):s!==void 0&&a.push(s);let c=o.awaitWriteFinish,h;if(c&&(h=this._pendingWrites.get(t)))return h.lastChange=new Date,this;if(o.atomic){if(e===Sc)return this._pendingUnlinks.set(t,a),setTimeout(()=>{this._pendingUnlinks.forEach((u,f)=>{this.emit(...u),this.emit(wi,...u),this._pendingUnlinks.delete(f)})},typeof o.atomic=="number"?o.atomic:100),this;e===ar&&this._pendingUnlinks.has(t)&&(e=a[0]=mt,this._pendingUnlinks.delete(t))}if(c&&(e===ar||e===mt)&&this._readyEmitted){let u=(f,l)=>{f?(e=a[0]=bi,a[1]=f,this.emitWithAll(e,a)):l&&(a.length>2?a[2]=l:a.push(l),this.emitWithAll(e,a))};return this._awaitWriteFinish(t,c.stabilityThreshold,e,u),this}if(e===mt&&!this._throttle(mt,t,50))return this;if(o.alwaysStat&&s===void 0&&(e===ar||e===Ep||e===mt)){let u=o.cwd?L.join(o.cwd,t):t,f;try{f=await Mp(u)}catch{}if(!f||this.closed)return;a.push(f)}return this.emitWithAll(e,a),this}_handleError(e){let t=e&&e.code;return e&&t!=="ENOENT"&&t!=="ENOTDIR"&&(!this.options.ignorePermissionErrors||t!=="EPERM"&&t!=="EACCES")&&this.emit(bi,e),e||this.closed}_throttle(e,t,s){this._throttled.has(e)||this._throttled.set(e,new Map);let i=this._throttled.get(e),n=i.get(t);if(n)return n.count++,!1;let o,a=()=>{let h=i.get(t),u=h?h.count:0;return i.delete(t),clearTimeout(o),h&&clearTimeout(h.timeoutObject),u};o=setTimeout(a,s);let c={timeoutObject:o,clear:a,count:0};return i.set(t,c),c}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(e,t,s,i){let n,o=e;this.options.cwd&&!L.isAbsolute(e)&&(o=L.join(this.options.cwd,e));let a=new Date,c=h=>{Di.stat(o,(u,f)=>{if(u||!this._pendingWrites.has(e)){u&&u.code!=="ENOENT"&&i(u);return}let l=Number(new Date);h&&f.size!==h.size&&(this._pendingWrites.get(e).lastChange=l);let y=this._pendingWrites.get(e);l-y.lastChange>=t?(this._pendingWrites.delete(e),i(void 0,f)):n=setTimeout(c,this.options.awaitWriteFinish.pollInterval,f)})};this._pendingWrites.has(e)||(this._pendingWrites.set(e,{lastChange:a,cancelWait:()=>(this._pendingWrites.delete(e),clearTimeout(n),s)}),n=setTimeout(c,this.options.awaitWriteFinish.pollInterval))}_getGlobIgnored(){return[...this._ignoredPaths.values()]}_isIgnored(e,t){if(this.options.atomic&&Cp.test(e))return!0;if(!this._userIgnored){let{cwd:s}=this.options,i=this.options.ignored,n=i&&i.map(Ac(s)),o=xi(n).filter(c=>typeof c===Li&&!Si(c)).map(c=>c+Ai),a=this._getGlobIgnored().map(Ac(s)).concat(n,o);this._userIgnored=vi(a,void 0,Ti)}return this._userIgnored([e,t])}_isntIgnored(e,t){return!this._isIgnored(e,t)}_getWatchHelpers(e,t){let s=t||this.options.disableGlobbing||!Si(e)?e:pp(e),i=this.options.followSymlinks;return new ki(e,s,i,this)}_getWatchedDir(e){this._boundRemove||(this._boundRemove=this._remove.bind(this));let t=L.resolve(e);return this._watched.has(t)||this._watched.set(t,new Oi(t,this._boundRemove)),this._watched.get(t)}_hasReadPermissions(e){if(this.options.ignorePermissionErrors)return!0;let s=(e&&Number.parseInt(e.mode,10))&511;return!!(4&Number.parseInt(s.toString(8)[0],10))}_remove(e,t,s){let i=L.join(e,t),n=L.resolve(i);if(s=s??(this._watched.has(i)||this._watched.has(n)),!this._throttle("remove",i,100))return;!s&&!this.options.useFsEvents&&this._watched.size===1&&this.add(e,t,!0),this._getWatchedDir(i).getChildren().forEach(l=>this._remove(i,l));let c=this._getWatchedDir(e),h=c.has(t);c.remove(t),this._symlinkPaths.has(n)&&this._symlinkPaths.delete(n);let u=i;if(this.options.cwd&&(u=L.relative(this.options.cwd,i)),this.options.awaitWriteFinish&&this._pendingWrites.has(u)&&this._pendingWrites.get(u).cancelWait()===ar)return;this._watched.delete(i),this._watched.delete(n);let f=s?Sp:Sc;h&&!this._isIgnored(i)&&this._emit(f,i),this.options.useFsEvents||this._closePath(i)}_closePath(e){this._closeFile(e);let t=L.dirname(e);this._getWatchedDir(t).remove(L.basename(e))}_closeFile(e){let t=this._closers.get(e);t&&(t.forEach(s=>s()),this._closers.delete(e))}_addPathCloser(e,t){if(!t)return;let s=this._closers.get(e);s||(s=[],this._closers.set(e,s)),s.push(t)}_readdirp(e,t){if(this.closed)return;let s={type:wi,alwaysStat:!0,lstat:!0,...t},i=dp(e,s);return this._streams.add(i),i.once(bp,()=>{i=void 0}),i.once(Rp,()=>{i&&(this._streams.delete(i),i=void 0)}),i}};Fi.FSWatcher=cr;var Wp=(r,e)=>{let t=new cr(e);return t.add(r),t};Fi.watch=Wp});var Ni=m(xc=>{xc.debounce=function(r,e,t){var s,i,n;e===void 0&&(e=50),t===void 0&&(t={});var o=(s=t.isImmediate)!=null&&s,a=(i=t.callback)!=null&&i,c=t.maxWait,h=Date.now(),u=[];function f(){if(c!==void 0){var y=Date.now()-h;if(y+e>=c)return c-y}return e}var l=function(){var y=[].slice.call(arguments),g=this;return new Promise(function(S,R){var C=o&&n===void 0;if(n!==void 0&&clearTimeout(n),n=setTimeout(function(){if(n=void 0,h=Date.now(),!o){var N=r.apply(g,y);a&&a(N),u.forEach(function(ee){return(0,ee.resolve)(N)}),u=[]}},f()),C){var F=r.apply(g,y);return a&&a(F),S(F)}u.push({resolve:S,reject:R})})};return l.cancel=function(y){n!==void 0&&clearTimeout(n),u.forEach(function(g){return(0,g.reject)(y)}),u=[]},l}});var jc=ce(require("fs")),Gc=require("path"),Uc=require("electron");var mr=ce(require("fs")),Fe=require("path"),Xi=require("process"),Zi=require("electron");var Qi=require("path");function je(r,e,t){if(e in r&&r[e]===t)return!0;for(let s in r)if(s in r&&typeof r[s]=="object"&&je(r[s],e,t))return!0;return!1}var dr=require("os"),Vi=require("path");function pr(r,e={windows:(0,dr.platform)()==="win32",unix:(0,dr.platform)()!=="win32"}){let t=/%([^%]+)%/g,s=/\$(?:{(?=[^}]*}))?(\w+)}?/g;return e.windows&&(r=r.replace(t,(i,n)=>process.env[n]??"")),e.unix&&(r=r.replace(s,(i,n)=>process.env[n]??"")),(0,Vi.normalize)(r)}var Ki=require("electron");function _r(r,...e){Ki.BrowserWindow.getAllWindows().forEach(t=>{t.webContents.send(r,...e)})}var de=(0,Qi.join)(__dirname,"..");var Yi={main:"POPCORN_",quickCss:"QUICKCSS_",themes:"THEMES_"},j=zi({getConfig:"GET_CONFIG",statusMessage:"STATUS_MESSAGE",log:"LOG",getThemes:"GET_THEMES",onThemeChange:"ON_THEME_CHANGE",saveThemeState:"SAVE_THEME_STATE",getQuickCss:"GET_QUICK_CSS",onQuickCssChange:"ON_QUICK_CSS_CHANGE",createQuickCssNode:"CREATE_QUICK_CSS_NODE",deleteQuickCssNode:"DELETE_QUICK_CSS_NODE",renameQuickCssNode:"RENAME_QUICK_CSS_NODE",updateQuickCssFile:"SAVE_QUICK_CSS_FILE"},Yi.main),nt={quickCss:zi({created:"QUICKCSS_CREATED",deleted:"QUICKCSS_DELETED",renamed:"QUICKCSS_RENAMED",updated:"QUICKCSS_UPDATED"},Yi.quickCss)};function zi(r,e){let t={};for(let s in r)t[s]=e+r[s];return t}var gr=class{module;output;constructor(e,t="console"){this.module=e,this.output=this.#t(t)}#t(e){switch(e){case"ansi":case"terminal":return"ansi";default:return"console"}}#r(e){switch(e){case"info":case"warn":case"error":case"debug":return e;default:return"log"}}#s(e){switch(e){case"debug":return{str:"MediumSpringGreen",arr:[0,250,154]};case"info":return{str:"DeepSkyBlue",arr:[0,191,255]};case"error":return{str:"crimson",arr:[220,20,60]};case"warn":return{str:"DarkOrange",arr:[255,140,0]};default:return{str:"gold",arr:[255,215,0]}}}#i(e,t){return`\x1B[38;2;${e[0]};${e[1]};${e[2]}m${t}\x1B[0m`}async#e(e,t){e=this.#r(e);let s=this.#s(e),i=this.output==="ansi"?[`[${this.#i(s.arr,"Popcorn")} > ${this.module}]`]:[`[%cPopcorn%c > ${this.module}]`,`color: ${s.str};`,""];if(console[e](...i,...t),this.output==="ansi"){let{BrowserWindow:n}=await import("electron");n.getAllWindows().forEach(o=>o.webContents.send(j.log,e,...t))}}log=(...e)=>this.#e("log",e);info=(...e)=>this.#e("info",e);warn=(...e)=>this.#e("warn",e);error=(...e)=>this.#e("error",e);debug=(...e)=>this.#e("debug",e)},te=gr;var Ji=new te("Main","ansi"),en={hotkey:"ctrl+shift+p",quickCssDir:"./quickcss",themeFiles:["./themes/*/index.json",...process.platform==="win32"?["%USERPROFILE%/discord/themes/*/index.json"]:["$HOME/discord/themes/*/index.json"]],enabled:{}};mr.default.existsSync((0,Fe.join)(de,"config.json"))||(Ji.warn("No config file found, creating one."),mr.default.writeFileSync((0,Fe.join)(de,"config.json"),JSON.stringify(en,null,2)));var eu=require((0,Fe.join)(de,"config.json")),tu={...en,...eu},Ee=tu;Xi.argv.includes("--verbose")&&(Ee.verbose=!0);Ee.quickCssDir=(0,Fe.isAbsolute)(Ee.quickCssDir)?Ee.quickCssDir:(0,Fe.join)(de,Ee.quickCssDir);var I=Ee;Ee.verbose&&Ji.debug(Ee);Zi.ipcMain.handle(j.getConfig,()=>Ee);var yt=require("electron");var Ic=require("path"),Nc=ce(qa());var Oc=ce(Ii()),kc=ce(Ni()),Dc=require("electron");var Mi=new te("Watcher > Themes","ansi"),Lc=Oc.default.watch([],{persistent:!0,ignoreInitial:!0,disableGlobbing:!0,depth:1});Lc.on("change",(0,kc.debounce)(r=>{r=r.replace(/\\/g,"/");let e=Object.keys(le).find(t=>le[t].jsonLocation===r||le[t].mainLocation===r);if(!e){Mi.warn(`Didn't find a theme associated with "${r}".`);return}qi(le[e].jsonLocation),I.verbose&&Mi.debug(`Theme changed: ${e}`),Dc.BrowserWindow.getAllWindows().forEach(t=>t.webContents.send(j.onThemeChange,{id:e,theme:le[e]}))},100));function Hi(r){Lc.add(r),I.verbose&&Mi.debug(`Watching theme file: ${r}`)}var Fc=ce(require("fs/promises")),Bi=require("path"),Wi=require("electron");var $i=new te("IPC","ansi");Wi.ipcMain.handle(j.getThemes,()=>le);Wi.ipcMain.on(j.saveThemeState,(r,e,t)=>{I.verbose&&$i.debug("Received save theme state message from",r.sender.getTitle());let s=require((0,Bi.join)(de,"config.json"));s.enabled[e]=t,Fc.default.writeFile((0,Bi.join)(de,"config.json"),JSON.stringify(s,null,2)).then(()=>{$i.log(`Saved theme state "${t}" for ${e}.`)}).catch(i=>{$i.error(`Failed to save theme state for "${e}":`,i)})});var jp=new te("Main","ansi"),Gp=I.themeFiles.map(r=>pr(r).replace(/\\/g,"/")),Mc=Nc.default.sync(Gp,{absolute:!0,cwd:de});jp.log("Detected themes:",Mc);var le={};for(let r of Mc)r.endsWith(".json")&&qi(r);function qi(r){let e=require(r),t=(0,Ic.join)(r,"..",e.main).replace(/\\/g,"/"),s=I.enabled[e.id]??!1,i={enabled:s,id:e.id,jsonLocation:r,mainLocation:t};le[e.id]=i,s&&(Hi(r),Hi(t))}yt.protocol.registerSchemesAsPrivileged([{scheme:"popcorn",privileges:{standard:!0,secure:!0,supportFetchAPI:!0}}]);yt.app.on("ready",()=>{yt.protocol.registerFileProtocol("popcorn",(r,e)=>{let t="",s=new URL(r.url);switch(s.hostname){case"theme":t=le[s.pathname.slice(1)].mainLocation;break}return e({path:t}),!0})});var fr=ce(require("fs")),We=require("path");var Be=ce(require("fs/promises")),De=require("path"),it=require("electron");var Hc=ce(Ii()),qc=ce(Ni()),$c=require("electron");var ji=new te("Watcher > QuickCSS","ansi"),Up={persistent:!0,ignoreInitial:!0,disableGlobbing:!0},ur;Gi();function Gi(){I.verbose&&ji.debug("Starting watcher..."),ur=Hc.default.watch(I.quickCssDir,Up),ur.on("all",(0,qc.debounce)((r,e)=>{I.verbose&&ji.debug(r,e),lr(),$c.BrowserWindow.getAllWindows().forEach(t=>t.webContents.send(j.onQuickCssChange,Ae))},100))}function Bc(){I.verbose&&ji.debug("Stopping watcher..."),ur.close(),ur=null}var J=new te("IPC > QuickCSS","ansi");it.ipcMain.handle(j.getQuickCss,()=>Ae);it.ipcMain.on(j.createQuickCssNode,(r,e,t)=>{I.verbose&&J.debug("Received node creation message from",r.sender.getTitle());let s=0,i;for(;!i;){let a=t+(s?"-"+s++:"")+(t==="folder"?"":".css");je(Ae,"location",(0,De.join)(e,a))||(i=a)}let n=(0,De.join)(I.quickCssDir,e,i),o=!1;(t==="file"?Be.default.open(n,"wx"):Be.default.mkdir(n)).then(()=>{J.log(`Successfully created ${t} ${i}.`),o=!0}).catch(a=>{J.error(`Failed to create ${t} ${i}:`,a)}).finally(()=>{r.reply(j.statusMessage,{type:nt.quickCss.created,success:o,data:{type:t,location:i}})})});it.ipcMain.on(j.deleteQuickCssNode,async(r,e)=>{if(I.verbose&&J.debug("Received QuickCSS file remove message from",r.sender.getTitle()),!je(Ae,"location",e)){J.error(`${e} isn't a valid QuickCSS node.`);return}let t=(0,De.join)(I.quickCssDir,e);if(t===I.quickCssDir){J.error("Can't delete the base folder.");return}let s=await Be.default.lstat(t).then(n=>n.isDirectory()?"folder":"file"),i=!1;Be.default.rm(t,{recursive:!0}).then(()=>{J.log(`Successfully deleted ${e}.`),i=!0}).catch(n=>{J.error(`Failed to delete ${e}:`,n)}).finally(()=>{r.reply(j.statusMessage,{type:nt.quickCss.deleted,success:i,data:{type:s,location:e}})})});it.ipcMain.on(j.renameQuickCssNode,(r,e,t)=>{I.verbose&&J.debug("Received rename message from",r.sender.getTitle());let s=(0,De.join)(e,"..",t),i=(0,De.join)(I.quickCssDir,e),n=(0,De.join)(I.quickCssDir,s);Bc();let o=!1;Be.default.rename(i,n).then(()=>{J.log(`Successfully renamed ${e} to ${t}.`),o=!0,lr(),_r(j.onQuickCssChange,Ae)}).catch(a=>{J.error(`Failed to rename ${e} to ${t}:`,a)}).finally(()=>{Gi(),r.reply(j.statusMessage,{type:nt.quickCss.renamed,success:o,data:{oldLocation:e,newLocation:s}})})});it.ipcMain.on(j.updateQuickCssFile,(r,e,t)=>{if(I.verbose&&J.debug("Received QuickCSS file save message from",r.sender.getTitle()),!je(Ae,"location",e)){J.error(`${e} isn't a valid QuickCSS file.`);return}let s=(0,De.join)(I.quickCssDir,e),i=!1;Be.default.writeFile(s,t,{flag:"r+"}).then(()=>{J.log(`Successfully saved ${e}.`),i=!0}).catch(n=>{J.error(`Failed to save ${e}:`,n)}).finally(()=>{r.reply(j.statusMessage,{type:nt.quickCss.updated,success:i,data:e})})});var Vp=new te("QuickCSS","ansi");function Wc(){function r(e,t=/./){let s={name:(0,We.basename)(e),location:(0,We.relative)(I.quickCssDir,e),files:[]},i=fr.default.readdirSync(e),n=[],o=[];for(let a of i){let c=(0,We.join)(e,a),h=fr.default.statSync(c),u;if(h.isDirectory())u=r(c,t),n.push(u);else if(t.test(a))try{u={name:a,location:(0,We.relative)(I.quickCssDir,c),content:fr.default.readFileSync(c,"utf-8")},o.push(u)}catch(f){Vp.error(`Error reading file ${c}`,f)}}return s.files=[...n,...o],s}return r(I.quickCssDir,/\.css/)}var Ae=Wc();function lr(){Ae=Wc()}Uc.app.on("web-contents-created",(r,e)=>{e.on("did-finish-load",()=>{e.insertCSS(jc.default.readFileSync((0,Gc.join)(__dirname,"renderer.css"),"utf8"))})});
/*! Bundled license information:

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel/index.js:
  (*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

normalize-path/index.js:
  (*!
   * normalize-path <https://github.com/jonschlinkert/normalize-path>
   *
   * Copyright (c) 2014-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)
*/
